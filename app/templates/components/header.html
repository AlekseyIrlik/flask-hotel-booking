<!-- Хедер -->
<header class="site-header sticky-top">
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <!-- Левая часть: кнопка Каталог + логотип -->
            <div class="header-left-group">
                <!-- Кнопка Каталог для десктопа -->
                <a href="{{ url_for('main.catalog') }}" class="btn btn-catalog desktop-only">
                    <i class="bi bi-grid"></i>
                    Каталог
                </a>

                <!-- Логотип -->
                <a class="header-logo" href="{{ url_for('main.index') }}">
                    <i class="bi bi-building"></i>
                    <div class="logo-text">
                        <div class="logo-main">OrangeStay</div>
                        <div class="logo-sub d-none d-sm-block">бронирование отелей</div>
                    </div>
                </a>
            </div>

            <!-- Бургер меню для мобильных -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
                <i class="bi bi-list"></i>
            </button>

            <!-- Основной контент -->
            <div class="collapse navbar-collapse" id="navbarContent">
                <!-- Кнопка Каталог для мобильных -->
                <a href="{{ url_for('main.catalog') }}" class="btn btn-catalog mobile-only">
                    <i class="bi bi-grid"></i>
                    Каталог номеров
                </a>


                <!-- Кнопки авторизации -->
                <div class="header-buttons d-flex align-items-center gap-2">
                    {% if current_user.is_authenticated %}
                    <!-- Пользователь вошел -->
                    <div class="dropdown">
                        <button class="btn btn-outline-secondary dropdown-toggle" type="button"
                            data-bs-toggle="dropdown">
                            <i class="bi bi-person-circle me-1"></i>
                            {{ current_user.first_name }}
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{{ url_for('user.profile') }}">
                                    <i class="bi bi-person me-2"></i>Профиль
                                </a></li>

                            {% if current_user.is_hotel_owner %}
                            <li><a class="dropdown-item" href="{{ url_for('user.my_hotels') }}">
                                    <i class="bi bi-building me-2"></i>Мои отели
                                </a></li>
                            {% endif %}

                            <li><a class="dropdown-item" href="{{ url_for('user.my_bookings') }}">
                                    <i class="bi bi-calendar-check me-2"></i>Мои бронирования
                                </a></li>

                            <li>
                                <hr class="dropdown-divider">
                            </li>

                            {% if current_user.is_admin %}
                            <li><a class="dropdown-item" href="{{ url_for('admin.dashboard') }}">
                                    <i class="bi bi-speedometer2 me-2"></i>Админка
                                </a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            {% endif %}

                            <li><a class="dropdown-item" href="{{ url_for('user.logout') }}">
                                    <i class="bi bi-box-arrow-right me-2"></i>Выйти
                                </a></li>
                        </ul>
                    </div>
                    {% else %}
                    <!-- Пользователь не вошел -->
                    <a href="{{ url_for('user.login') }}" class="btn btn-login">Вход</a>
                    <a href="{{ url_for('user.register') }}" class="btn btn-signup">Регистрация</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>
</header>