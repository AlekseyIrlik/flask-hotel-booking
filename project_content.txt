# Flask Project Analysis
# Generated: Sat Dec 20 00:19:14 +07 2025
# Project: flask-hotel

# Project Structure
## File: ./docker-compose.yaml
```docker-compose.yaml
     1    services:
     2      postgres:
     3        image: postgres:16
     4        container_name: postgres
     5        volumes:
     6          - ~/.pg/pg_data/flask-hotel:/var/lib/postgresql/data
     7        env_file:
     8          - .env
     9        ports:
    10          - "54321:5432"
    11        environment:
    12          POSTGRES_USER: hotel_app_user
    13          POSTGRES_PASSWORD: hotelDB
    14          POSTGRES_DB: hotel_booking_db
    15          POSTGRES_HOST_AUTH_METHOD: trust
    16    
    17      flask:
    18        build:
    19          dockerfile: Dockerfile
    20          context: .
    21        container_name: flask
    22        volumes:
    23          - ~/.uploads/images/flask-hotel:/app/static/upload
    24          - ./app.ini:/app/app.ini # Добавьте эту строку
    25        env_file:
    26          - .env
    27        environment:
    28          - POSTGRES_HOST=postgres
    29          - POSTGRES_PORT=5432
    30          - POSTGRES_USER=hotel_app_user
    31          - POSTGRES_PASSWORD=hotelDB
    32          - POSTGRES_DB=hotel_booking_db
    33        depends_on:
    34          - postgres
    35        expose:
    36          - 8080
    37    
    38      nginx:
    39        build:
    40          context: ./nginx
    41          dockerfile: Dockerfile
    42        container_name: nginx
    43        ports:
    44          - "80:80"
    45        depends_on:
    46          - flask
    47        volumes:
    48          - ./app/static:/app/static
    49          - ~/.uploads/images/flask-hotel:/app/static/upload
```

## File: ./.env
```.env
     1    POSTGRES_USER=hotel_app_user
     2    POSTGRES_PASSWORD=hotelDB
     3    POSTGRES_HOST=postgres
     4    POSTGRES_DB=hotel_booking_db
     5    POSTGRES_PORT=5432
     6    SECRET_KEY=83a9e1442c1b62626aa43d1a66f055ca2a61857b67837b486a54b940f4e69932```

## File: ./Dockerfile
```Dockerfile
     1    FROM python:3.12
     2    
     3    WORKDIR /app
     4    
     5    ADD . /app
     6    
     7    RUN apt install gcc -y
     8    
     9    RUN pip install -r requirements.txt
    10    
    11    RUN python db_init.py
    12    
    13    CMD ["uwsgi", "--ini", "app.ini"]```

## File: ./nginx/nginx.conf
```nginx.conf
     1    server {
     2        listen 80;
     3        server_name localhost;
     4        
     5        client_max_body_size 1G;
     6        
     7        location / {
     8            include uwsgi_params;
     9            uwsgi_pass flask:8080;
    10        }
    11        
    12    
    13        location /static/ {
    14            alias /app/static/;
    15            expires 30d;
    16        }
    17        
    18       
    19        location /uploads/ {
    20            alias /app/static/upload/;
    21            expires 30d;
    22        }
    23    }```

## File: ./nginx/Dockerfile
```Dockerfile
     1    FROM nginx
     2    
     3    RUN rm /etc/nginx/conf.d/default.conf
     4    
     5    COPY nginx.conf /etc/nginx/conf.d/```

## File: ./.gitignore
```.gitignore
     1    # 1. СЕКРЕТЫ И НАСТРОЙКИ (НИКОГДА НЕ КОММИТИТЬ!)
     2    .env
     3    .env.local
     4    *.key
     5    *.pem
     6    app.ini  # если там есть секреты
     7    
     8    # 2. ПАПКИ СРЕДЫ И КЭШ PYTHON
     9    .venv/
    10    venv/
    11    env/
    12    __pycache__/
    13    *.py[cod]
    14    .pytest_cache/
    15    .mypy_cache/
    16    
    17    # 3. СИСТЕМНЫЕ И IDE ФАЙЛЫ
    18    .DS_Store
    19    Thumbs.db
    20    .idea/
    21    .vscode/
    22    *.swp
    23    *.swo
    24    
    25    # 4. ЛОГИ И ВРЕМЕННЫЕ ФАЙЛЫ
    26    *.log
    27    logs/
    28    instance/  # экземпляр Flask
    29    
    30    # 5. ФАЙЛЫ БАЗЫ ДАННЫХ (если используете SQLite локально)
    31    *.db
    32    *.sqlite3
    33    
    34    # 6. СОБРАННЫЕ СТАТИЧЕСКИЕ ФАЙЛЫ И ДИСТРИБУТИВЫ
    35    /app/static/dist/
    36    build/
    37    dist/
    38    *.egg-info/
    39    
    40    # 7. UPLOADS (загруженные пользователями файлы - обычно не комитят)
    41    app/static/upload/*
    42    !app/static/upload/.gitkeep  # пустой файл, чтобы папка сохранилась в репозитории```

## File: ./.dockerignore
```.dockerignore
     1    # Игнорировать системные файлы
     2    .git
     3    .gitignore
     4    .gitattributes
     5    .DS_Store
     6    *.swp
     7    *.swo
     8    *~
     9    Thumbs.db
    10    
    11    # Игнорировать Python кэш и виртуальные окружения
    12    __pycache__/
    13    *.py[cod]
    14    *$py.class
    15    *.so
    16    .Python
    17    env/
    18    venv/
    19    ENV/
    20    env.bak/
    21    venv.bak/
    22    .python-version
    23    .pytest_cache/
    24    .mypy_cache/
    25    
    26    # Игнорировать логи
    27    *.log
    28    logs/
    29    log/
    30    
    31    # Игнорировать IDE файлы
    32    .vscode/
    33    .idea/
    34    *.swp
    35    *.swo
    36    .project
    37    *.iml
    38    .settings/
    39    .classpath
    40    
    41    # Игнорировать временные файлы
    42    tmp/
    43    temp/
    44    *.tmp
    45    *.temp
    46    
    47    # Игнорировать конфигурационные файлы разработки
    48    .env
    49    .env.local
    50    .env.development
    51    .flaskenv
    52    .dockerignore
    53    docker-compose.yml
    54    docker-compose.override.yml
    55    
    56    # Игнорировать документацию и тестовые данные
    57    docs/
    58    coverage/
    59    htmlcov/
    60    .coverage
    61    .coverage.*
    62    .cache
    63    nosetests.xml
    64    coverage.xml
    65    *.cover
    66    .hypothesis/
    67    
    68    # Игнорировать сборки и дистрибутивы
    69    build/
    70    dist/
    71    *.egg-info/
    72    *.egg
    73    .cache/
    74    
    75    # Игнорировать специфичные для разработки файлы
    76    migrations/versions/  # миграции будут создаваться внутри контейнера
    77    migrations/script.py.mako  # шаблон миграций
    78    instance/  # экземпляр приложения
    79    uploaded_files/  # загруженные файлы (если используются)
    80    
    81    # Исключения для production
    82    !requirements.txt
    83    !requirements-prod.txt```

## File: ./requirements.txt
```requirements.txt
     1    alembic==1.17.2
     2    blinker==1.9.0
     3    click==8.3.1
     4    dnspython==2.8.0
     5    email-validator==2.3.0
     6    Flask==3.1.2
     7    Flask-Assets==2.1.0
     8    Flask-Login==0.6.3
     9    Flask-Migrate==4.1.0
    10    Flask-SQLAlchemy==3.1.1
    11    Flask-WTF==1.2.2
    12    greenlet==3.3.0
    13    idna==3.11
    14    itsdangerous==2.2.0
    15    Jinja2==3.1.6
    16    Mako==1.3.10
    17    MarkupSafe==3.0.3
    18    psycopg2==2.9.11
    19    python-dotenv==1.2.1
    20    PyYAML==6.0.3
    21    setuptools==80.9.0
    22    SQLAlchemy==2.0.45
    23    typing_extensions==4.15.0
    24    uWSGI==2.0.31
    25    webassets==3.0.0
    26    Werkzeug==3.1.4
    27    WTForms==3.2.1
    28    zope.dottedname==7.0
```

# Flask Application Code
## File: ./.venv/lib/python3.12/site-packages/werkzeug/testapp.py
```testapp.py
     1    """A small application that can be used to test a WSGI server and check
     2    it for WSGI compliance.
     3    """
     4    
     5    from __future__ import annotations
     6    
     7    import importlib.metadata
     8    import os
     9    import sys
    10    import typing as t
    11    from textwrap import wrap
    12    
    13    from markupsafe import escape
    14    
    15    from .wrappers.request import Request
    16    from .wrappers.response import Response
    17    
    18    TEMPLATE = """\
    19    <!doctype html>
    20    <html lang=en>
    21    <title>WSGI Information</title>
    22    <style type="text/css">
    23      @import url(https://fonts.googleapis.com/css?family=Ubuntu);
    24    
    25      body       { font-family: 'Lucida Grande', 'Lucida Sans Unicode', 'Geneva',
    26                   'Verdana', sans-serif; background-color: white; color: #000;
    27                   font-size: 15px; text-align: center; }
    28      div.box    { text-align: left; width: 45em; margin: auto; padding: 50px 0;
    29                   background-color: white; }
    30      h1, h2     { font-family: 'Ubuntu', 'Lucida Grande', 'Lucida Sans Unicode',
    31                   'Geneva', 'Verdana', sans-serif; font-weight: normal; }
    32      h1         { margin: 0 0 30px 0; }
    33      h2         { font-size: 1.4em; margin: 1em 0 0.5em 0; }
    34      table      { width: 100%%; border-collapse: collapse; border: 1px solid #AFC5C9 }
    35      table th   { background-color: #AFC1C4; color: white; font-size: 0.72em;
    36                   font-weight: normal; width: 18em; vertical-align: top;
    37                   padding: 0.5em 0 0.1em 0.5em; }
    38      table td   { border: 1px solid #AFC5C9; padding: 0.1em 0 0.1em 0.5em; }
    39      code       { font-family: 'Consolas', 'Monaco', 'Bitstream Vera Sans Mono',
    40                   monospace; font-size: 0.7em; }
    41      ul li      { line-height: 1.5em; }
    42      ul.path    { font-size: 0.7em; margin: 0 -30px; padding: 8px 30px;
    43                   list-style: none; background: #E8EFF0; }
    44      ul.path li { line-height: 1.6em; }
    45      li.virtual { color: #999; text-decoration: underline; }
    46      li.exp     { background: white; }
    47    </style>
    48    <div class="box">
    49      <h1>WSGI Information</h1>
    50      <p>
    51        This page displays all available information about the WSGI server and
    52        the underlying Python interpreter.
    53      <h2 id="python-interpreter">Python Interpreter</h2>
    54      <table>
    55        <tr>
    56          <th>Python Version
    57          <td>%(python_version)s
    58        <tr>
    59          <th>Platform
    60          <td>%(platform)s [%(os)s]
    61        <tr>
    62          <th>API Version
    63          <td>%(api_version)s
    64        <tr>
    65          <th>Byteorder
    66          <td>%(byteorder)s
    67        <tr>
    68          <th>Werkzeug Version
    69          <td>%(werkzeug_version)s
    70      </table>
    71      <h2 id="wsgi-environment">WSGI Environment</h2>
    72      <table>%(wsgi_env)s</table>
    73      <h2 id="installed-eggs">Installed Eggs</h2>
    74      <p>
    75        The following python packages were installed on the system as
    76        Python eggs:
    77      <ul>%(python_eggs)s</ul>
    78      <h2 id="sys-path">System Path</h2>
    79      <p>
    80        The following paths are the current contents of the load path.  The
    81        following entries are looked up for Python packages.  Note that not
    82        all items in this path are folders.  Gray and underlined items are
    83        entries pointing to invalid resources or used by custom import hooks
    84        such as the zip importer.
    85      <p>
    86        Items with a bright background were expanded for display from a relative
    87        path.  If you encounter such paths in the output you might want to check
    88        your setup as relative paths are usually problematic in multithreaded
    89        environments.
    90      <ul class="path">%(sys_path)s</ul>
    91    </div>
    92    """
    93    
    94    
    95    def iter_sys_path() -> t.Iterator[tuple[str, bool, bool]]:
    96        if os.name == "posix":
    97    
    98            def strip(x: str) -> str:
    99                prefix = os.path.expanduser("~")
   100                if x.startswith(prefix):
   101                    x = f"~{x[len(prefix) :]}"
   102                return x
   103    
   104        else:
   105    
   106            def strip(x: str) -> str:
   107                return x
   108    
   109        cwd = os.path.abspath(os.getcwd())
   110        for item in sys.path:
   111            path = os.path.join(cwd, item or os.path.curdir)
   112            yield strip(os.path.normpath(path)), not os.path.isdir(path), path != item
   113    
   114    
   115    @Request.application
   116    def test_app(req: Request) -> Response:
   117        """Simple test application that dumps the environment.  You can use
   118        it to check if Werkzeug is working properly:
   119    
   120        .. sourcecode:: pycon
   121    
   122            >>> from werkzeug.serving import run_simple
   123            >>> from werkzeug.testapp import test_app
   124            >>> run_simple('localhost', 3000, test_app)
   125             * Running on http://localhost:3000/
   126    
   127        The application displays important information from the WSGI environment,
   128        the Python interpreter and the installed libraries.
   129        """
   130        try:
   131            import pkg_resources
   132        except ImportError:
   133            eggs: t.Iterable[t.Any] = ()
   134        else:
   135            eggs = sorted(
   136                pkg_resources.working_set,
   137                key=lambda x: x.project_name.lower(),
   138            )
   139        python_eggs = []
   140        for egg in eggs:
   141            try:
   142                version = egg.version
   143            except (ValueError, AttributeError):
   144                version = "unknown"
   145            python_eggs.append(
   146                f"<li>{escape(egg.project_name)} <small>[{escape(version)}]</small>"
   147            )
   148    
   149        wsgi_env = []
   150        sorted_environ = sorted(req.environ.items(), key=lambda x: repr(x[0]).lower())
   151        for key, value in sorted_environ:
   152            value = "".join(wrap(str(escape(repr(value)))))
   153            wsgi_env.append(f"<tr><th>{escape(key)}<td><code>{value}</code>")
   154    
   155        sys_path = []
   156        for item, virtual, expanded in iter_sys_path():
   157            css = []
   158            if virtual:
   159                css.append("virtual")
   160            if expanded:
   161                css.append("exp")
   162            class_str = f' class="{" ".join(css)}"' if css else ""
   163            sys_path.append(f"<li{class_str}>{escape(item)}")
   164    
   165        context = {
   166            "python_version": "<br>".join(escape(sys.version).splitlines()),
   167            "platform": escape(sys.platform),
   168            "os": escape(os.name),
   169            "api_version": sys.api_version,
   170            "byteorder": sys.byteorder,
   171            "werkzeug_version": _get_werkzeug_version(),
   172            "python_eggs": "\n".join(python_eggs),
   173            "wsgi_env": "\n".join(wsgi_env),
   174            "sys_path": "\n".join(sys_path),
   175        }
   176        return Response(TEMPLATE % context, mimetype="text/html")
   177    
   178    
   179    _werkzeug_version = ""
   180    
   181    
   182    def _get_werkzeug_version() -> str:
   183        global _werkzeug_version
   184    
   185        if not _werkzeug_version:
   186            _werkzeug_version = importlib.metadata.version("werkzeug")
   187    
   188        return _werkzeug_version
   189    
   190    
   191    if __name__ == "__main__":
   192        from .serving import run_simple
   193    
   194        run_simple("localhost", 5000, test_app, use_reloader=True)
```

## File: ./.venv/lib/python3.12/site-packages/werkzeug/wsgi.py
```wsgi.py
     1    from __future__ import annotations
     2    
     3    import io
     4    import typing as t
     5    from functools import partial
     6    from functools import update_wrapper
     7    
     8    from .exceptions import ClientDisconnected
     9    from .exceptions import RequestEntityTooLarge
    10    from .sansio import utils as _sansio_utils
    11    from .sansio.utils import host_is_trusted  # noqa: F401 # Imported as part of API
    12    
    13    if t.TYPE_CHECKING:
    14        from _typeshed.wsgi import WSGIApplication
    15        from _typeshed.wsgi import WSGIEnvironment
    16    
    17    
    18    def responder(f: t.Callable[..., WSGIApplication]) -> WSGIApplication:
    19        """Marks a function as responder.  Decorate a function with it and it
    20        will automatically call the return value as WSGI application.
    21    
    22        Example::
    23    
    24            @responder
    25            def application(environ, start_response):
    26                return Response('Hello World!')
    27        """
    28        return update_wrapper(lambda *a: f(*a)(*a[-2:]), f)
    29    
    30    
    31    def get_current_url(
    32        environ: WSGIEnvironment,
    33        root_only: bool = False,
    34        strip_querystring: bool = False,
    35        host_only: bool = False,
    36        trusted_hosts: t.Iterable[str] | None = None,
    37    ) -> str:
    38        """Recreate the URL for a request from the parts in a WSGI
    39        environment.
    40    
    41        The URL is an IRI, not a URI, so it may contain Unicode characters.
    42        Use :func:`~werkzeug.urls.iri_to_uri` to convert it to ASCII.
    43    
    44        :param environ: The WSGI environment to get the URL parts from.
    45        :param root_only: Only build the root path, don't include the
    46            remaining path or query string.
    47        :param strip_querystring: Don't include the query string.
    48        :param host_only: Only build the scheme and host.
    49        :param trusted_hosts: A list of trusted host names to validate the
    50            host against.
    51        """
    52        parts = {
    53            "scheme": environ["wsgi.url_scheme"],
    54            "host": get_host(environ, trusted_hosts),
    55        }
    56    
    57        if not host_only:
    58            parts["root_path"] = environ.get("SCRIPT_NAME", "")
    59    
    60            if not root_only:
    61                parts["path"] = environ.get("PATH_INFO", "")
    62    
    63                if not strip_querystring:
    64                    parts["query_string"] = environ.get("QUERY_STRING", "").encode("latin1")
    65    
    66        return _sansio_utils.get_current_url(**parts)
    67    
    68    
    69    def _get_server(
    70        environ: WSGIEnvironment,
    71    ) -> tuple[str, int | None] | None:
    72        name = environ.get("SERVER_NAME")
    73    
    74        if name is None:
    75            return None
    76    
    77        try:
    78            port: int | None = int(environ.get("SERVER_PORT", None))  # type: ignore[arg-type]
    79        except (TypeError, ValueError):
    80            # unix socket
    81            port = None
    82    
    83        return name, port
    84    
    85    
    86    def get_host(
    87        environ: WSGIEnvironment, trusted_hosts: t.Iterable[str] | None = None
    88    ) -> str:
    89        """Return the host for the given WSGI environment.
    90    
    91        The ``Host`` header is preferred, then ``SERVER_NAME`` if it's not
    92        set. The returned host will only contain the port if it is different
    93        than the standard port for the protocol.
    94    
    95        Optionally, verify that the host is trusted using
    96        :func:`host_is_trusted` and raise a
    97        :exc:`~werkzeug.exceptions.SecurityError` if it is not.
    98    
    99        :param environ: A WSGI environment dict.
   100        :param trusted_hosts: A list of trusted host names.
   101    
   102        :return: Host, with port if necessary.
   103        :raise ~werkzeug.exceptions.SecurityError: If the host is not
   104            trusted.
   105        """
   106        return _sansio_utils.get_host(
   107            environ["wsgi.url_scheme"],
   108            environ.get("HTTP_HOST"),
   109            _get_server(environ),
   110            trusted_hosts,
   111        )
   112    
   113    
   114    def get_content_length(environ: WSGIEnvironment) -> int | None:
   115        """Return the ``Content-Length`` header value as an int. If the header is not given
   116        or the ``Transfer-Encoding`` header is ``chunked``, ``None`` is returned to indicate
   117        a streaming request. If the value is not an integer, or negative, 0 is returned.
   118    
   119        :param environ: The WSGI environ to get the content length from.
   120    
   121        .. versionadded:: 0.9
   122        """
   123        return _sansio_utils.get_content_length(
   124            http_content_length=environ.get("CONTENT_LENGTH"),
   125            http_transfer_encoding=environ.get("HTTP_TRANSFER_ENCODING"),
   126        )
   127    
   128    
   129    def get_input_stream(
   130        environ: WSGIEnvironment,
   131        safe_fallback: bool = True,
   132        max_content_length: int | None = None,
   133    ) -> t.IO[bytes]:
   134        """Return the WSGI input stream, wrapped so that it may be read safely without going
   135        past the ``Content-Length`` header value or ``max_content_length``.
   136    
   137        If ``Content-Length`` exceeds ``max_content_length``, a
   138        :exc:`RequestEntityTooLarge`` ``413 Content Too Large`` error is raised.
   139    
   140        If the WSGI server sets ``environ["wsgi.input_terminated"]``, it indicates that the
   141        server handles terminating the stream, so it is safe to read directly. For example,
   142        a server that knows how to handle chunked requests safely would set this.
   143    
   144        If ``max_content_length`` is set, it can be enforced on streams if
   145        ``wsgi.input_terminated`` is set. Otherwise, an empty stream is returned unless the
   146        user explicitly disables this safe fallback.
   147    
   148        If the limit is reached before the underlying stream is exhausted (such as a file
   149        that is too large, or an infinite stream), the remaining contents of the stream
   150        cannot be read safely. Depending on how the server handles this, clients may show a
   151        "connection reset" failure instead of seeing the 413 response.
   152    
   153        :param environ: The WSGI environ containing the stream.
   154        :param safe_fallback: Return an empty stream when ``Content-Length`` is not set.
   155            Disabling this allows infinite streams, which can be a denial-of-service risk.
   156        :param max_content_length: The maximum length that content-length or streaming
   157            requests may not exceed.
   158    
   159        .. versionchanged:: 2.3.2
   160            ``max_content_length`` is only applied to streaming requests if the server sets
   161            ``wsgi.input_terminated``.
   162    
   163        .. versionchanged:: 2.3
   164            Check ``max_content_length`` and raise an error if it is exceeded.
   165    
   166        .. versionadded:: 0.9
   167        """
   168        stream = t.cast(t.IO[bytes], environ["wsgi.input"])
   169        content_length = get_content_length(environ)
   170    
   171        if content_length is not None and max_content_length is not None:
   172            if content_length > max_content_length:
   173                raise RequestEntityTooLarge()
   174    
   175        # A WSGI server can set this to indicate that it terminates the input stream. In
   176        # that case the stream is safe without wrapping, or can enforce a max length.
   177        if "wsgi.input_terminated" in environ:
   178            if max_content_length is not None:
   179                # If this is moved above, it can cause the stream to hang if a read attempt
   180                # is made when the client sends no data. For example, the development server
   181                # does not handle buffering except for chunked encoding.
   182                return t.cast(
   183                    t.IO[bytes], LimitedStream(stream, max_content_length, is_max=True)
   184                )
   185    
   186            return stream
   187    
   188        # No limit given, return an empty stream unless the user explicitly allows the
   189        # potentially infinite stream. An infinite stream is dangerous if it's not expected,
   190        # as it can tie up a worker indefinitely.
   191        if content_length is None:
   192            return io.BytesIO() if safe_fallback else stream
   193    
   194        return t.cast(t.IO[bytes], LimitedStream(stream, content_length))
   195    
   196    
   197    def get_path_info(environ: WSGIEnvironment) -> str:
   198        """Return ``PATH_INFO`` from  the WSGI environment.
   199    
   200        :param environ: WSGI environment to get the path from.
   201    
   202        .. versionchanged:: 3.0
   203            The ``charset`` and ``errors`` parameters were removed.
   204    
   205        .. versionadded:: 0.9
   206        """
   207        path: bytes = environ.get("PATH_INFO", "").encode("latin1")
   208        return path.decode(errors="replace")
   209    
   210    
   211    class ClosingIterator:
   212        """The WSGI specification requires that all middlewares and gateways
   213        respect the `close` callback of the iterable returned by the application.
   214        Because it is useful to add another close action to a returned iterable
   215        and adding a custom iterable is a boring task this class can be used for
   216        that::
   217    
   218            return ClosingIterator(app(environ, start_response), [cleanup_session,
   219                                                                  cleanup_locals])
   220    
   221        If there is just one close function it can be passed instead of the list.
   222    
   223        A closing iterator is not needed if the application uses response objects
   224        and finishes the processing if the response is started::
   225    
   226            try:
   227                return response(environ, start_response)
   228            finally:
   229                cleanup_session()
   230                cleanup_locals()
   231        """
   232    
   233        def __init__(
   234            self,
   235            iterable: t.Iterable[bytes],
   236            callbacks: None
   237            | (t.Callable[[], None] | t.Iterable[t.Callable[[], None]]) = None,
   238        ) -> None:
   239            iterator = iter(iterable)
   240            self._next = t.cast(t.Callable[[], bytes], partial(next, iterator))
   241            if callbacks is None:
   242                callbacks = []
   243            elif callable(callbacks):
   244                callbacks = [callbacks]
   245            else:
   246                callbacks = list(callbacks)
   247            iterable_close = getattr(iterable, "close", None)
   248            if iterable_close:
   249                callbacks.insert(0, iterable_close)
   250            self._callbacks = callbacks
   251    
   252        def __iter__(self) -> ClosingIterator:
   253            return self
   254    
   255        def __next__(self) -> bytes:
   256            return self._next()
   257    
   258        def close(self) -> None:
   259            for callback in self._callbacks:
   260                callback()
   261    
   262    
   263    def wrap_file(
   264        environ: WSGIEnvironment, file: t.IO[bytes], buffer_size: int = 8192
   265    ) -> t.Iterable[bytes]:
   266        """Wraps a file.  This uses the WSGI server's file wrapper if available
   267        or otherwise the generic :class:`FileWrapper`.
   268    
   269        .. versionadded:: 0.5
   270    
   271        If the file wrapper from the WSGI server is used it's important to not
   272        iterate over it from inside the application but to pass it through
   273        unchanged.  If you want to pass out a file wrapper inside a response
   274        object you have to set :attr:`Response.direct_passthrough` to `True`.
   275    
   276        More information about file wrappers are available in :pep:`333`.
   277    
   278        :param file: a :class:`file`-like object with a :meth:`~file.read` method.
   279        :param buffer_size: number of bytes for one iteration.
   280        """
   281        return environ.get("wsgi.file_wrapper", FileWrapper)(  # type: ignore
   282            file, buffer_size
   283        )
   284    
   285    
   286    class FileWrapper:
   287        """This class can be used to convert a :class:`file`-like object into
   288        an iterable.  It yields `buffer_size` blocks until the file is fully
   289        read.
   290    
   291        You should not use this class directly but rather use the
   292        :func:`wrap_file` function that uses the WSGI server's file wrapper
   293        support if it's available.
   294    
   295        .. versionadded:: 0.5
   296    
   297        If you're using this object together with a :class:`Response` you have
   298        to use the `direct_passthrough` mode.
   299    
   300        :param file: a :class:`file`-like object with a :meth:`~file.read` method.
   301        :param buffer_size: number of bytes for one iteration.
   302        """
   303    
   304        def __init__(self, file: t.IO[bytes], buffer_size: int = 8192) -> None:
   305            self.file = file
   306            self.buffer_size = buffer_size
   307    
   308        def close(self) -> None:
   309            if hasattr(self.file, "close"):
   310                self.file.close()
   311    
   312        def seekable(self) -> bool:
   313            if hasattr(self.file, "seekable"):
   314                return self.file.seekable()
   315            if hasattr(self.file, "seek"):
   316                return True
   317            return False
   318    
   319        def seek(self, *args: t.Any) -> None:
   320            if hasattr(self.file, "seek"):
   321                self.file.seek(*args)
   322    
   323        def tell(self) -> int | None:
   324            if hasattr(self.file, "tell"):
   325                return self.file.tell()
   326            return None
   327    
   328        def __iter__(self) -> FileWrapper:
   329            return self
   330    
   331        def __next__(self) -> bytes:
   332            data = self.file.read(self.buffer_size)
   333            if data:
   334                return data
   335            raise StopIteration()
   336    
   337    
   338    class _RangeWrapper:
   339        # private for now, but should we make it public in the future ?
   340    
   341        """This class can be used to convert an iterable object into
   342        an iterable that will only yield a piece of the underlying content.
   343        It yields blocks until the underlying stream range is fully read.
   344        The yielded blocks will have a size that can't exceed the original
   345        iterator defined block size, but that can be smaller.
   346    
   347        If you're using this object together with a :class:`Response` you have
   348        to use the `direct_passthrough` mode.
   349    
   350        :param iterable: an iterable object with a :meth:`__next__` method.
   351        :param start_byte: byte from which read will start.
   352        :param byte_range: how many bytes to read.
   353        """
   354    
   355        def __init__(
   356            self,
   357            iterable: t.Iterable[bytes] | t.IO[bytes],
   358            start_byte: int = 0,
   359            byte_range: int | None = None,
   360        ):
   361            self.iterable = iter(iterable)
   362            self.byte_range = byte_range
   363            self.start_byte = start_byte
   364            self.end_byte = None
   365    
   366            if byte_range is not None:
   367                self.end_byte = start_byte + byte_range
   368    
   369            self.read_length = 0
   370            self.seekable = hasattr(iterable, "seekable") and iterable.seekable()
   371            self.end_reached = False
   372    
   373        def __iter__(self) -> _RangeWrapper:
   374            return self
   375    
   376        def _next_chunk(self) -> bytes:
   377            try:
   378                chunk = next(self.iterable)
   379                self.read_length += len(chunk)
   380                return chunk
   381            except StopIteration:
   382                self.end_reached = True
   383                raise
   384    
   385        def _first_iteration(self) -> tuple[bytes | None, int]:
   386            chunk = None
   387            if self.seekable:
   388                self.iterable.seek(self.start_byte)  # type: ignore
   389                self.read_length = self.iterable.tell()  # type: ignore
   390                contextual_read_length = self.read_length
   391            else:
   392                while self.read_length <= self.start_byte:
   393                    chunk = self._next_chunk()
   394                if chunk is not None:
   395                    chunk = chunk[self.start_byte - self.read_length :]
   396                contextual_read_length = self.start_byte
   397            return chunk, contextual_read_length
   398    
   399        def _next(self) -> bytes:
   400            if self.end_reached:
   401                raise StopIteration()
   402            chunk = None
   403            contextual_read_length = self.read_length
   404            if self.read_length == 0:
   405                chunk, contextual_read_length = self._first_iteration()
   406            if chunk is None:
   407                chunk = self._next_chunk()
   408            if self.end_byte is not None and self.read_length >= self.end_byte:
   409                self.end_reached = True
   410                return chunk[: self.end_byte - contextual_read_length]
   411            return chunk
   412    
   413        def __next__(self) -> bytes:
   414            chunk = self._next()
   415            if chunk:
   416                return chunk
   417            self.end_reached = True
   418            raise StopIteration()
   419    
   420        def close(self) -> None:
   421            if hasattr(self.iterable, "close"):
   422                self.iterable.close()
   423    
   424    
   425    class LimitedStream(io.RawIOBase):
   426        """Wrap a stream so that it doesn't read more than a given limit. This is used to
   427        limit ``wsgi.input`` to the ``Content-Length`` header value or
   428        :attr:`.Request.max_content_length`.
   429    
   430        When attempting to read after the limit has been reached, :meth:`on_exhausted` is
   431        called. When the limit is a maximum, this raises :exc:`.RequestEntityTooLarge`.
   432    
   433        If reading from the stream returns zero bytes or raises an error,
   434        :meth:`on_disconnect` is called, which raises :exc:`.ClientDisconnected`. When the
   435        limit is a maximum and zero bytes were read, no error is raised, since it may be the
   436        end of the stream.
   437    
   438        If the limit is reached before the underlying stream is exhausted (such as a file
   439        that is too large, or an infinite stream), the remaining contents of the stream
   440        cannot be read safely. Depending on how the server handles this, clients may show a
   441        "connection reset" failure instead of seeing the 413 response.
   442    
   443        :param stream: The stream to read from. Must be a readable binary IO object.
   444        :param limit: The limit in bytes to not read past. Should be either the
   445            ``Content-Length`` header value or ``request.max_content_length``.
   446        :param is_max: Whether the given ``limit`` is ``request.max_content_length`` instead
   447            of the ``Content-Length`` header value. This changes how exhausted and
   448            disconnect events are handled.
   449    
   450        .. versionchanged:: 2.3
   451            Handle ``max_content_length`` differently than ``Content-Length``.
   452    
   453        .. versionchanged:: 2.3
   454            Implements ``io.RawIOBase`` rather than ``io.IOBase``.
   455        """
   456    
   457        def __init__(self, stream: t.IO[bytes], limit: int, is_max: bool = False) -> None:
   458            self._stream = stream
   459            self._pos = 0
   460            self.limit = limit
   461            self._limit_is_max = is_max
   462    
   463        @property
   464        def is_exhausted(self) -> bool:
   465            """Whether the current stream position has reached the limit."""
   466            return self._pos >= self.limit
   467    
   468        def on_exhausted(self) -> None:
   469            """Called when attempting to read after the limit has been reached.
   470    
   471            The default behavior is to do nothing, unless the limit is a maximum, in which
   472            case it raises :exc:`.RequestEntityTooLarge`.
   473    
   474            .. versionchanged:: 2.3
   475                Raises ``RequestEntityTooLarge`` if the limit is a maximum.
   476    
   477            .. versionchanged:: 2.3
   478                Any return value is ignored.
   479            """
   480            if self._limit_is_max:
   481                raise RequestEntityTooLarge()
   482    
   483        def on_disconnect(self, error: Exception | None = None) -> None:
   484            """Called when an attempted read receives zero bytes before the limit was
   485            reached. This indicates that the client disconnected before sending the full
   486            request body.
   487    
   488            The default behavior is to raise :exc:`.ClientDisconnected`, unless the limit is
   489            a maximum and no error was raised.
   490    
   491            .. versionchanged:: 2.3
   492                Added the ``error`` parameter. Do nothing if the limit is a maximum and no
   493                error was raised.
   494    
   495            .. versionchanged:: 2.3
   496                Any return value is ignored.
   497            """
   498            if not self._limit_is_max or error is not None:
   499                raise ClientDisconnected()
   500    
   501            # If the limit is a maximum, then we may have read zero bytes because the
   502            # streaming body is complete. There's no way to distinguish that from the
   503            # client disconnecting early.
   504    
   505        def exhaust(self) -> bytes:
   506            """Exhaust the stream by reading until the limit is reached or the client
   507            disconnects, returning the remaining data.
   508    
   509            .. versionchanged:: 2.3
   510                Return the remaining data.
   511    
   512            .. versionchanged:: 2.2.3
   513                Handle case where wrapped stream returns fewer bytes than requested.
   514            """
   515            if not self.is_exhausted:
   516                return self.readall()
   517    
   518            return b""
   519    
   520        def readinto(self, b: bytearray) -> int | None:  # type: ignore[override]
   521            size = len(b)
   522            remaining = self.limit - self._pos
   523    
   524            if remaining <= 0:
   525                self.on_exhausted()
   526                return 0
   527    
   528            if hasattr(self._stream, "readinto"):
   529                # Use stream.readinto if it's available.
   530                if size <= remaining:
   531                    # The size fits in the remaining limit, use the buffer directly.
   532                    try:
   533                        out_size: int | None = self._stream.readinto(b)
   534                    except (OSError, ValueError) as e:
   535                        self.on_disconnect(error=e)
   536                        return 0
   537                else:
   538                    # Use a temp buffer with the remaining limit as the size.
   539                    temp_b = bytearray(remaining)
   540    
   541                    try:
   542                        out_size = self._stream.readinto(temp_b)
   543                    except (OSError, ValueError) as e:
   544                        self.on_disconnect(error=e)
   545                        return 0
   546    
   547                    if out_size:
   548                        b[:out_size] = temp_b
   549            else:
   550                # WSGI requires that stream.read is available.
   551                try:
   552                    data = self._stream.read(min(size, remaining))
   553                except (OSError, ValueError) as e:
   554                    self.on_disconnect(error=e)
   555                    return 0
   556    
   557                out_size = len(data)
   558                b[:out_size] = data
   559    
   560            if not out_size:
   561                # Read zero bytes from the stream.
   562                self.on_disconnect()
   563                return 0
   564    
   565            self._pos += out_size
   566            return out_size
   567    
   568        def readall(self) -> bytes:
   569            if self.is_exhausted:
   570                self.on_exhausted()
   571                return b""
   572    
   573            out = bytearray()
   574    
   575            # The parent implementation uses "while True", which results in an extra read.
   576            while not self.is_exhausted:
   577                data = self.read(1024 * 64)
   578    
   579                # Stream may return empty before a max limit is reached.
   580                if not data:
   581                    break
   582    
   583                out.extend(data)
   584    
   585            return bytes(out)
   586    
   587        def tell(self) -> int:
   588            """Return the current stream position.
   589    
   590            .. versionadded:: 0.9
   591            """
   592            return self._pos
   593    
   594        def readable(self) -> bool:
   595            return True
```

## File: ./.venv/lib/python3.12/site-packages/pip/_internal/cli/main.py
```main.py
     1    """Primary application entrypoint.
     2    """
     3    import locale
     4    import logging
     5    import os
     6    import sys
     7    import warnings
     8    from typing import List, Optional
     9    
    10    from pip._internal.cli.autocompletion import autocomplete
    11    from pip._internal.cli.main_parser import parse_command
    12    from pip._internal.commands import create_command
    13    from pip._internal.exceptions import PipError
    14    from pip._internal.utils import deprecation
    15    
    16    logger = logging.getLogger(__name__)
    17    
    18    
    19    # Do not import and use main() directly! Using it directly is actively
    20    # discouraged by pip's maintainers. The name, location and behavior of
    21    # this function is subject to change, so calling it directly is not
    22    # portable across different pip versions.
    23    
    24    # In addition, running pip in-process is unsupported and unsafe. This is
    25    # elaborated in detail at
    26    # https://pip.pypa.io/en/stable/user_guide/#using-pip-from-your-program.
    27    # That document also provides suggestions that should work for nearly
    28    # all users that are considering importing and using main() directly.
    29    
    30    # However, we know that certain users will still want to invoke pip
    31    # in-process. If you understand and accept the implications of using pip
    32    # in an unsupported manner, the best approach is to use runpy to avoid
    33    # depending on the exact location of this entry point.
    34    
    35    # The following example shows how to use runpy to invoke pip in that
    36    # case:
    37    #
    38    #     sys.argv = ["pip", your, args, here]
    39    #     runpy.run_module("pip", run_name="__main__")
    40    #
    41    # Note that this will exit the process after running, unlike a direct
    42    # call to main. As it is not safe to do any processing after calling
    43    # main, this should not be an issue in practice.
    44    
    45    
    46    def main(args: Optional[List[str]] = None) -> int:
    47        if args is None:
    48            args = sys.argv[1:]
    49    
    50        # Suppress the pkg_resources deprecation warning
    51        # Note - we use a module of .*pkg_resources to cover
    52        # the normal case (pip._vendor.pkg_resources) and the
    53        # devendored case (a bare pkg_resources)
    54        warnings.filterwarnings(
    55            action="ignore", category=DeprecationWarning, module=".*pkg_resources"
    56        )
    57    
    58        # Configure our deprecation warnings to be sent through loggers
    59        deprecation.install_warning_logger()
    60    
    61        autocomplete()
    62    
    63        try:
    64            cmd_name, cmd_args = parse_command(args)
    65        except PipError as exc:
    66            sys.stderr.write(f"ERROR: {exc}")
    67            sys.stderr.write(os.linesep)
    68            sys.exit(1)
    69    
    70        # Needed for locale.getpreferredencoding(False) to work
    71        # in pip._internal.utils.encoding.auto_decode
    72        try:
    73            locale.setlocale(locale.LC_ALL, "")
    74        except locale.Error as e:
    75            # setlocale can apparently crash if locale are uninitialized
    76            logger.debug("Ignoring error %s when setting locale", e)
    77        command = create_command(cmd_name, isolated=("--isolated" in cmd_args))
    78    
    79        return command.main(cmd_args)
```

## File: ./.venv/lib/python3.12/site-packages/pip/_internal/main.py
```main.py
     1    from typing import List, Optional
     2    
     3    
     4    def main(args: Optional[List[str]] = None) -> int:
     5        """This is preserved for old console scripts that may still be referencing
     6        it.
     7    
     8        For additional details, see https://github.com/pypa/pip/issues/7498.
     9        """
    10        from pip._internal.utils.entrypoints import _wrapper
    11    
    12        return _wrapper(args)
```

## File: ./.venv/lib/python3.12/site-packages/flask/app.py
```app.py
     1    from __future__ import annotations
     2    
     3    import collections.abc as cabc
     4    import os
     5    import sys
     6    import typing as t
     7    import weakref
     8    from datetime import timedelta
     9    from inspect import iscoroutinefunction
    10    from itertools import chain
    11    from types import TracebackType
    12    from urllib.parse import quote as _url_quote
    13    
    14    import click
    15    from werkzeug.datastructures import Headers
    16    from werkzeug.datastructures import ImmutableDict
    17    from werkzeug.exceptions import BadRequestKeyError
    18    from werkzeug.exceptions import HTTPException
    19    from werkzeug.exceptions import InternalServerError
    20    from werkzeug.routing import BuildError
    21    from werkzeug.routing import MapAdapter
    22    from werkzeug.routing import RequestRedirect
    23    from werkzeug.routing import RoutingException
    24    from werkzeug.routing import Rule
    25    from werkzeug.serving import is_running_from_reloader
    26    from werkzeug.wrappers import Response as BaseResponse
    27    from werkzeug.wsgi import get_host
    28    
    29    from . import cli
    30    from . import typing as ft
    31    from .ctx import AppContext
    32    from .ctx import RequestContext
    33    from .globals import _cv_app
    34    from .globals import _cv_request
    35    from .globals import current_app
    36    from .globals import g
    37    from .globals import request
    38    from .globals import request_ctx
    39    from .globals import session
    40    from .helpers import get_debug_flag
    41    from .helpers import get_flashed_messages
    42    from .helpers import get_load_dotenv
    43    from .helpers import send_from_directory
    44    from .sansio.app import App
    45    from .sansio.scaffold import _sentinel
    46    from .sessions import SecureCookieSessionInterface
    47    from .sessions import SessionInterface
    48    from .signals import appcontext_tearing_down
    49    from .signals import got_request_exception
    50    from .signals import request_finished
    51    from .signals import request_started
    52    from .signals import request_tearing_down
    53    from .templating import Environment
    54    from .wrappers import Request
    55    from .wrappers import Response
    56    
    57    if t.TYPE_CHECKING:  # pragma: no cover
    58        from _typeshed.wsgi import StartResponse
    59        from _typeshed.wsgi import WSGIEnvironment
    60    
    61        from .testing import FlaskClient
    62        from .testing import FlaskCliRunner
    63        from .typing import HeadersValue
    64    
    65    T_shell_context_processor = t.TypeVar(
    66        "T_shell_context_processor", bound=ft.ShellContextProcessorCallable
    67    )
    68    T_teardown = t.TypeVar("T_teardown", bound=ft.TeardownCallable)
    69    T_template_filter = t.TypeVar("T_template_filter", bound=ft.TemplateFilterCallable)
    70    T_template_global = t.TypeVar("T_template_global", bound=ft.TemplateGlobalCallable)
    71    T_template_test = t.TypeVar("T_template_test", bound=ft.TemplateTestCallable)
    72    
    73    
    74    def _make_timedelta(value: timedelta | int | None) -> timedelta | None:
    75        if value is None or isinstance(value, timedelta):
    76            return value
    77    
    78        return timedelta(seconds=value)
    79    
    80    
    81    class Flask(App):
    82        """The flask object implements a WSGI application and acts as the central
    83        object.  It is passed the name of the module or package of the
    84        application.  Once it is created it will act as a central registry for
    85        the view functions, the URL rules, template configuration and much more.
    86    
    87        The name of the package is used to resolve resources from inside the
    88        package or the folder the module is contained in depending on if the
    89        package parameter resolves to an actual python package (a folder with
    90        an :file:`__init__.py` file inside) or a standard module (just a ``.py`` file).
    91    
    92        For more information about resource loading, see :func:`open_resource`.
    93    
    94        Usually you create a :class:`Flask` instance in your main module or
    95        in the :file:`__init__.py` file of your package like this::
    96    
    97            from flask import Flask
    98            app = Flask(__name__)
    99    
   100        .. admonition:: About the First Parameter
   101    
   102            The idea of the first parameter is to give Flask an idea of what
   103            belongs to your application.  This name is used to find resources
   104            on the filesystem, can be used by extensions to improve debugging
   105            information and a lot more.
   106    
   107            So it's important what you provide there.  If you are using a single
   108            module, `__name__` is always the correct value.  If you however are
   109            using a package, it's usually recommended to hardcode the name of
   110            your package there.
   111    
   112            For example if your application is defined in :file:`yourapplication/app.py`
   113            you should create it with one of the two versions below::
   114    
   115                app = Flask('yourapplication')
   116                app = Flask(__name__.split('.')[0])
   117    
   118            Why is that?  The application will work even with `__name__`, thanks
   119            to how resources are looked up.  However it will make debugging more
   120            painful.  Certain extensions can make assumptions based on the
   121            import name of your application.  For example the Flask-SQLAlchemy
   122            extension will look for the code in your application that triggered
   123            an SQL query in debug mode.  If the import name is not properly set
   124            up, that debugging information is lost.  (For example it would only
   125            pick up SQL queries in `yourapplication.app` and not
   126            `yourapplication.views.frontend`)
   127    
   128        .. versionadded:: 0.7
   129           The `static_url_path`, `static_folder`, and `template_folder`
   130           parameters were added.
   131    
   132        .. versionadded:: 0.8
   133           The `instance_path` and `instance_relative_config` parameters were
   134           added.
   135    
   136        .. versionadded:: 0.11
   137           The `root_path` parameter was added.
   138    
   139        .. versionadded:: 1.0
   140           The ``host_matching`` and ``static_host`` parameters were added.
   141    
   142        .. versionadded:: 1.0
   143           The ``subdomain_matching`` parameter was added. Subdomain
   144           matching needs to be enabled manually now. Setting
   145           :data:`SERVER_NAME` does not implicitly enable it.
   146    
   147        :param import_name: the name of the application package
   148        :param static_url_path: can be used to specify a different path for the
   149                                static files on the web.  Defaults to the name
   150                                of the `static_folder` folder.
   151        :param static_folder: The folder with static files that is served at
   152            ``static_url_path``. Relative to the application ``root_path``
   153            or an absolute path. Defaults to ``'static'``.
   154        :param static_host: the host to use when adding the static route.
   155            Defaults to None. Required when using ``host_matching=True``
   156            with a ``static_folder`` configured.
   157        :param host_matching: set ``url_map.host_matching`` attribute.
   158            Defaults to False.
   159        :param subdomain_matching: consider the subdomain relative to
   160            :data:`SERVER_NAME` when matching routes. Defaults to False.
   161        :param template_folder: the folder that contains the templates that should
   162                                be used by the application.  Defaults to
   163                                ``'templates'`` folder in the root path of the
   164                                application.
   165        :param instance_path: An alternative instance path for the application.
   166                              By default the folder ``'instance'`` next to the
   167                              package or module is assumed to be the instance
   168                              path.
   169        :param instance_relative_config: if set to ``True`` relative filenames
   170                                         for loading the config are assumed to
   171                                         be relative to the instance path instead
   172                                         of the application root.
   173        :param root_path: The path to the root of the application files.
   174            This should only be set manually when it can't be detected
   175            automatically, such as for namespace packages.
   176        """
   177    
   178        default_config = ImmutableDict(
   179            {
   180                "DEBUG": None,
   181                "TESTING": False,
   182                "PROPAGATE_EXCEPTIONS": None,
   183                "SECRET_KEY": None,
   184                "SECRET_KEY_FALLBACKS": None,
   185                "PERMANENT_SESSION_LIFETIME": timedelta(days=31),
   186                "USE_X_SENDFILE": False,
   187                "TRUSTED_HOSTS": None,
   188                "SERVER_NAME": None,
   189                "APPLICATION_ROOT": "/",
   190                "SESSION_COOKIE_NAME": "session",
   191                "SESSION_COOKIE_DOMAIN": None,
   192                "SESSION_COOKIE_PATH": None,
   193                "SESSION_COOKIE_HTTPONLY": True,
   194                "SESSION_COOKIE_SECURE": False,
   195                "SESSION_COOKIE_PARTITIONED": False,
   196                "SESSION_COOKIE_SAMESITE": None,
   197                "SESSION_REFRESH_EACH_REQUEST": True,
   198                "MAX_CONTENT_LENGTH": None,
   199                "MAX_FORM_MEMORY_SIZE": 500_000,
   200                "MAX_FORM_PARTS": 1_000,
   201                "SEND_FILE_MAX_AGE_DEFAULT": None,
   202                "TRAP_BAD_REQUEST_ERRORS": None,
   203                "TRAP_HTTP_EXCEPTIONS": False,
   204                "EXPLAIN_TEMPLATE_LOADING": False,
   205                "PREFERRED_URL_SCHEME": "http",
   206                "TEMPLATES_AUTO_RELOAD": None,
   207                "MAX_COOKIE_SIZE": 4093,
   208                "PROVIDE_AUTOMATIC_OPTIONS": True,
   209            }
   210        )
   211    
   212        #: The class that is used for request objects.  See :class:`~flask.Request`
   213        #: for more information.
   214        request_class: type[Request] = Request
   215    
   216        #: The class that is used for response objects.  See
   217        #: :class:`~flask.Response` for more information.
   218        response_class: type[Response] = Response
   219    
   220        #: the session interface to use.  By default an instance of
   221        #: :class:`~flask.sessions.SecureCookieSessionInterface` is used here.
   222        #:
   223        #: .. versionadded:: 0.8
   224        session_interface: SessionInterface = SecureCookieSessionInterface()
   225    
   226        def __init__(
   227            self,
   228            import_name: str,
   229            static_url_path: str | None = None,
   230            static_folder: str | os.PathLike[str] | None = "static",
   231            static_host: str | None = None,
   232            host_matching: bool = False,
   233            subdomain_matching: bool = False,
   234            template_folder: str | os.PathLike[str] | None = "templates",
   235            instance_path: str | None = None,
   236            instance_relative_config: bool = False,
   237            root_path: str | None = None,
   238        ):
   239            super().__init__(
   240                import_name=import_name,
   241                static_url_path=static_url_path,
   242                static_folder=static_folder,
   243                static_host=static_host,
   244                host_matching=host_matching,
   245                subdomain_matching=subdomain_matching,
   246                template_folder=template_folder,
   247                instance_path=instance_path,
   248                instance_relative_config=instance_relative_config,
   249                root_path=root_path,
   250            )
   251    
   252            #: The Click command group for registering CLI commands for this
   253            #: object. The commands are available from the ``flask`` command
   254            #: once the application has been discovered and blueprints have
   255            #: been registered.
   256            self.cli = cli.AppGroup()
   257    
   258            # Set the name of the Click group in case someone wants to add
   259            # the app's commands to another CLI tool.
   260            self.cli.name = self.name
   261    
   262            # Add a static route using the provided static_url_path, static_host,
   263            # and static_folder if there is a configured static_folder.
   264            # Note we do this without checking if static_folder exists.
   265            # For one, it might be created while the server is running (e.g. during
   266            # development). Also, Google App Engine stores static files somewhere
   267            if self.has_static_folder:
   268                assert bool(static_host) == host_matching, (
   269                    "Invalid static_host/host_matching combination"
   270                )
   271                # Use a weakref to avoid creating a reference cycle between the app
   272                # and the view function (see #3761).
   273                self_ref = weakref.ref(self)
   274                self.add_url_rule(
   275                    f"{self.static_url_path}/<path:filename>",
   276                    endpoint="static",
   277                    host=static_host,
   278                    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
   279                )
   280    
   281        def get_send_file_max_age(self, filename: str | None) -> int | None:
   282            """Used by :func:`send_file` to determine the ``max_age`` cache
   283            value for a given file path if it wasn't passed.
   284    
   285            By default, this returns :data:`SEND_FILE_MAX_AGE_DEFAULT` from
   286            the configuration of :data:`~flask.current_app`. This defaults
   287            to ``None``, which tells the browser to use conditional requests
   288            instead of a timed cache, which is usually preferable.
   289    
   290            Note this is a duplicate of the same method in the Flask
   291            class.
   292    
   293            .. versionchanged:: 2.0
   294                The default configuration is ``None`` instead of 12 hours.
   295    
   296            .. versionadded:: 0.9
   297            """
   298            value = current_app.config["SEND_FILE_MAX_AGE_DEFAULT"]
   299    
   300            if value is None:
   301                return None
   302    
   303            if isinstance(value, timedelta):
   304                return int(value.total_seconds())
   305    
   306            return value  # type: ignore[no-any-return]
   307    
   308        def send_static_file(self, filename: str) -> Response:
   309            """The view function used to serve files from
   310            :attr:`static_folder`. A route is automatically registered for
   311            this view at :attr:`static_url_path` if :attr:`static_folder` is
   312            set.
   313    
   314            Note this is a duplicate of the same method in the Flask
   315            class.
   316    
   317            .. versionadded:: 0.5
   318    
   319            """
   320            if not self.has_static_folder:
   321                raise RuntimeError("'static_folder' must be set to serve static_files.")
   322    
   323            # send_file only knows to call get_send_file_max_age on the app,
   324            # call it here so it works for blueprints too.
   325            max_age = self.get_send_file_max_age(filename)
   326            return send_from_directory(
   327                t.cast(str, self.static_folder), filename, max_age=max_age
   328            )
   329    
   330        def open_resource(
   331            self, resource: str, mode: str = "rb", encoding: str | None = None
   332        ) -> t.IO[t.AnyStr]:
   333            """Open a resource file relative to :attr:`root_path` for reading.
   334    
   335            For example, if the file ``schema.sql`` is next to the file
   336            ``app.py`` where the ``Flask`` app is defined, it can be opened
   337            with:
   338    
   339            .. code-block:: python
   340    
   341                with app.open_resource("schema.sql") as f:
   342                    conn.executescript(f.read())
   343    
   344            :param resource: Path to the resource relative to :attr:`root_path`.
   345            :param mode: Open the file in this mode. Only reading is supported,
   346                valid values are ``"r"`` (or ``"rt"``) and ``"rb"``.
   347            :param encoding: Open the file with this encoding when opening in text
   348                mode. This is ignored when opening in binary mode.
   349    
   350            .. versionchanged:: 3.1
   351                Added the ``encoding`` parameter.
   352            """
   353            if mode not in {"r", "rt", "rb"}:
   354                raise ValueError("Resources can only be opened for reading.")
   355    
   356            path = os.path.join(self.root_path, resource)
   357    
   358            if mode == "rb":
   359                return open(path, mode)  # pyright: ignore
   360    
   361            return open(path, mode, encoding=encoding)
   362    
   363        def open_instance_resource(
   364            self, resource: str, mode: str = "rb", encoding: str | None = "utf-8"
   365        ) -> t.IO[t.AnyStr]:
   366            """Open a resource file relative to the application's instance folder
   367            :attr:`instance_path`. Unlike :meth:`open_resource`, files in the
   368            instance folder can be opened for writing.
   369    
   370            :param resource: Path to the resource relative to :attr:`instance_path`.
   371            :param mode: Open the file in this mode.
   372            :param encoding: Open the file with this encoding when opening in text
   373                mode. This is ignored when opening in binary mode.
   374    
   375            .. versionchanged:: 3.1
   376                Added the ``encoding`` parameter.
   377            """
   378            path = os.path.join(self.instance_path, resource)
   379    
   380            if "b" in mode:
   381                return open(path, mode)
   382    
   383            return open(path, mode, encoding=encoding)
   384    
   385        def create_jinja_environment(self) -> Environment:
   386            """Create the Jinja environment based on :attr:`jinja_options`
   387            and the various Jinja-related methods of the app. Changing
   388            :attr:`jinja_options` after this will have no effect. Also adds
   389            Flask-related globals and filters to the environment.
   390    
   391            .. versionchanged:: 0.11
   392               ``Environment.auto_reload`` set in accordance with
   393               ``TEMPLATES_AUTO_RELOAD`` configuration option.
   394    
   395            .. versionadded:: 0.5
   396            """
   397            options = dict(self.jinja_options)
   398    
   399            if "autoescape" not in options:
   400                options["autoescape"] = self.select_jinja_autoescape
   401    
   402            if "auto_reload" not in options:
   403                auto_reload = self.config["TEMPLATES_AUTO_RELOAD"]
   404    
   405                if auto_reload is None:
   406                    auto_reload = self.debug
   407    
   408                options["auto_reload"] = auto_reload
   409    
   410            rv = self.jinja_environment(self, **options)
   411            rv.globals.update(
   412                url_for=self.url_for,
   413                get_flashed_messages=get_flashed_messages,
   414                config=self.config,
   415                # request, session and g are normally added with the
   416                # context processor for efficiency reasons but for imported
   417                # templates we also want the proxies in there.
   418                request=request,
   419                session=session,
   420                g=g,
   421            )
   422            rv.policies["json.dumps_function"] = self.json.dumps
   423            return rv
   424    
   425        def create_url_adapter(self, request: Request | None) -> MapAdapter | None:
   426            """Creates a URL adapter for the given request. The URL adapter
   427            is created at a point where the request context is not yet set
   428            up so the request is passed explicitly.
   429    
   430            .. versionchanged:: 3.1
   431                If :data:`SERVER_NAME` is set, it does not restrict requests to
   432                only that domain, for both ``subdomain_matching`` and
   433                ``host_matching``.
   434    
   435            .. versionchanged:: 1.0
   436                :data:`SERVER_NAME` no longer implicitly enables subdomain
   437                matching. Use :attr:`subdomain_matching` instead.
   438    
   439            .. versionchanged:: 0.9
   440               This can be called outside a request when the URL adapter is created
   441               for an application context.
   442    
   443            .. versionadded:: 0.6
   444            """
   445            if request is not None:
   446                if (trusted_hosts := self.config["TRUSTED_HOSTS"]) is not None:
   447                    request.trusted_hosts = trusted_hosts
   448    
   449                # Check trusted_hosts here until bind_to_environ does.
   450                request.host = get_host(request.environ, request.trusted_hosts)  # pyright: ignore
   451                subdomain = None
   452                server_name = self.config["SERVER_NAME"]
   453    
   454                if self.url_map.host_matching:
   455                    # Don't pass SERVER_NAME, otherwise it's used and the actual
   456                    # host is ignored, which breaks host matching.
   457                    server_name = None
   458                elif not self.subdomain_matching:
   459                    # Werkzeug doesn't implement subdomain matching yet. Until then,
   460                    # disable it by forcing the current subdomain to the default, or
   461                    # the empty string.
   462                    subdomain = self.url_map.default_subdomain or ""
   463    
   464                return self.url_map.bind_to_environ(
   465                    request.environ, server_name=server_name, subdomain=subdomain
   466                )
   467    
   468            # Need at least SERVER_NAME to match/build outside a request.
   469            if self.config["SERVER_NAME"] is not None:
   470                return self.url_map.bind(
   471                    self.config["SERVER_NAME"],
   472                    script_name=self.config["APPLICATION_ROOT"],
   473                    url_scheme=self.config["PREFERRED_URL_SCHEME"],
   474                )
   475    
   476            return None
   477    
   478        def raise_routing_exception(self, request: Request) -> t.NoReturn:
   479            """Intercept routing exceptions and possibly do something else.
   480    
   481            In debug mode, intercept a routing redirect and replace it with
   482            an error if the body will be discarded.
   483    
   484            With modern Werkzeug this shouldn't occur, since it now uses a
   485            308 status which tells the browser to resend the method and
   486            body.
   487    
   488            .. versionchanged:: 2.1
   489                Don't intercept 307 and 308 redirects.
   490    
   491            :meta private:
   492            :internal:
   493            """
   494            if (
   495                not self.debug
   496                or not isinstance(request.routing_exception, RequestRedirect)
   497                or request.routing_exception.code in {307, 308}
   498                or request.method in {"GET", "HEAD", "OPTIONS"}
   499            ):
   500                raise request.routing_exception  # type: ignore[misc]
   501    
   502            from .debughelpers import FormDataRoutingRedirect
   503    
   504            raise FormDataRoutingRedirect(request)
   505    
   506        def update_template_context(self, context: dict[str, t.Any]) -> None:
   507            """Update the template context with some commonly used variables.
   508            This injects request, session, config and g into the template
   509            context as well as everything template context processors want
   510            to inject.  Note that the as of Flask 0.6, the original values
   511            in the context will not be overridden if a context processor
   512            decides to return a value with the same key.
   513    
   514            :param context: the context as a dictionary that is updated in place
   515                            to add extra variables.
   516            """
   517            names: t.Iterable[str | None] = (None,)
   518    
   519            # A template may be rendered outside a request context.
   520            if request:
   521                names = chain(names, reversed(request.blueprints))
   522    
   523            # The values passed to render_template take precedence. Keep a
   524            # copy to re-apply after all context functions.
   525            orig_ctx = context.copy()
   526    
   527            for name in names:
   528                if name in self.template_context_processors:
   529                    for func in self.template_context_processors[name]:
   530                        context.update(self.ensure_sync(func)())
   531    
   532            context.update(orig_ctx)
   533    
   534        def make_shell_context(self) -> dict[str, t.Any]:
   535            """Returns the shell context for an interactive shell for this
   536            application.  This runs all the registered shell context
   537            processors.
   538    
   539            .. versionadded:: 0.11
   540            """
   541            rv = {"app": self, "g": g}
   542            for processor in self.shell_context_processors:
   543                rv.update(processor())
   544            return rv
   545    
   546        def run(
   547            self,
   548            host: str | None = None,
   549            port: int | None = None,
   550            debug: bool | None = None,
   551            load_dotenv: bool = True,
   552            **options: t.Any,
   553        ) -> None:
   554            """Runs the application on a local development server.
   555    
   556            Do not use ``run()`` in a production setting. It is not intended to
   557            meet security and performance requirements for a production server.
   558            Instead, see :doc:`/deploying/index` for WSGI server recommendations.
   559    
   560            If the :attr:`debug` flag is set the server will automatically reload
   561            for code changes and show a debugger in case an exception happened.
   562    
   563            If you want to run the application in debug mode, but disable the
   564            code execution on the interactive debugger, you can pass
   565            ``use_evalex=False`` as parameter.  This will keep the debugger's
   566            traceback screen active, but disable code execution.
   567    
   568            It is not recommended to use this function for development with
   569            automatic reloading as this is badly supported.  Instead you should
   570            be using the :command:`flask` command line script's ``run`` support.
   571    
   572            .. admonition:: Keep in Mind
   573    
   574               Flask will suppress any server error with a generic error page
   575               unless it is in debug mode.  As such to enable just the
   576               interactive debugger without the code reloading, you have to
   577               invoke :meth:`run` with ``debug=True`` and ``use_reloader=False``.
   578               Setting ``use_debugger`` to ``True`` without being in debug mode
   579               won't catch any exceptions because there won't be any to
   580               catch.
   581    
   582            :param host: the hostname to listen on. Set this to ``'0.0.0.0'`` to
   583                have the server available externally as well. Defaults to
   584                ``'127.0.0.1'`` or the host in the ``SERVER_NAME`` config variable
   585                if present.
   586            :param port: the port of the webserver. Defaults to ``5000`` or the
   587                port defined in the ``SERVER_NAME`` config variable if present.
   588            :param debug: if given, enable or disable debug mode. See
   589                :attr:`debug`.
   590            :param load_dotenv: Load the nearest :file:`.env` and :file:`.flaskenv`
   591                files to set environment variables. Will also change the working
   592                directory to the directory containing the first file found.
   593            :param options: the options to be forwarded to the underlying Werkzeug
   594                server. See :func:`werkzeug.serving.run_simple` for more
   595                information.
   596    
   597            .. versionchanged:: 1.0
   598                If installed, python-dotenv will be used to load environment
   599                variables from :file:`.env` and :file:`.flaskenv` files.
   600    
   601                The :envvar:`FLASK_DEBUG` environment variable will override :attr:`debug`.
   602    
   603                Threaded mode is enabled by default.
   604    
   605            .. versionchanged:: 0.10
   606                The default port is now picked from the ``SERVER_NAME``
   607                variable.
   608            """
   609            # Ignore this call so that it doesn't start another server if
   610            # the 'flask run' command is used.
   611            if os.environ.get("FLASK_RUN_FROM_CLI") == "true":
   612                if not is_running_from_reloader():
   613                    click.secho(
   614                        " * Ignoring a call to 'app.run()' that would block"
   615                        " the current 'flask' CLI command.\n"
   616                        "   Only call 'app.run()' in an 'if __name__ =="
   617                        ' "__main__"\' guard.',
   618                        fg="red",
   619                    )
   620    
   621                return
   622    
   623            if get_load_dotenv(load_dotenv):
   624                cli.load_dotenv()
   625    
   626                # if set, env var overrides existing value
   627                if "FLASK_DEBUG" in os.environ:
   628                    self.debug = get_debug_flag()
   629    
   630            # debug passed to method overrides all other sources
   631            if debug is not None:
   632                self.debug = bool(debug)
   633    
   634            server_name = self.config.get("SERVER_NAME")
   635            sn_host = sn_port = None
   636    
   637            if server_name:
   638                sn_host, _, sn_port = server_name.partition(":")
   639    
   640            if not host:
   641                if sn_host:
   642                    host = sn_host
   643                else:
   644                    host = "127.0.0.1"
   645    
   646            if port or port == 0:
   647                port = int(port)
   648            elif sn_port:
   649                port = int(sn_port)
   650            else:
   651                port = 5000
   652    
   653            options.setdefault("use_reloader", self.debug)
   654            options.setdefault("use_debugger", self.debug)
   655            options.setdefault("threaded", True)
   656    
   657            cli.show_server_banner(self.debug, self.name)
   658    
   659            from werkzeug.serving import run_simple
   660    
   661            try:
   662                run_simple(t.cast(str, host), port, self, **options)
   663            finally:
   664                # reset the first request information if the development server
   665                # reset normally.  This makes it possible to restart the server
   666                # without reloader and that stuff from an interactive shell.
   667                self._got_first_request = False
   668    
   669        def test_client(self, use_cookies: bool = True, **kwargs: t.Any) -> FlaskClient:
   670            """Creates a test client for this application.  For information
   671            about unit testing head over to :doc:`/testing`.
   672    
   673            Note that if you are testing for assertions or exceptions in your
   674            application code, you must set ``app.testing = True`` in order for the
   675            exceptions to propagate to the test client.  Otherwise, the exception
   676            will be handled by the application (not visible to the test client) and
   677            the only indication of an AssertionError or other exception will be a
   678            500 status code response to the test client.  See the :attr:`testing`
   679            attribute.  For example::
   680    
   681                app.testing = True
   682                client = app.test_client()
   683    
   684            The test client can be used in a ``with`` block to defer the closing down
   685            of the context until the end of the ``with`` block.  This is useful if
   686            you want to access the context locals for testing::
   687    
   688                with app.test_client() as c:
   689                    rv = c.get('/?vodka=42')
   690                    assert request.args['vodka'] == '42'
   691    
   692            Additionally, you may pass optional keyword arguments that will then
   693            be passed to the application's :attr:`test_client_class` constructor.
   694            For example::
   695    
   696                from flask.testing import FlaskClient
   697    
   698                class CustomClient(FlaskClient):
   699                    def __init__(self, *args, **kwargs):
   700                        self._authentication = kwargs.pop("authentication")
   701                        super(CustomClient,self).__init__( *args, **kwargs)
   702    
   703                app.test_client_class = CustomClient
   704                client = app.test_client(authentication='Basic ....')
   705    
   706            See :class:`~flask.testing.FlaskClient` for more information.
   707    
   708            .. versionchanged:: 0.4
   709               added support for ``with`` block usage for the client.
   710    
   711            .. versionadded:: 0.7
   712               The `use_cookies` parameter was added as well as the ability
   713               to override the client to be used by setting the
   714               :attr:`test_client_class` attribute.
   715    
   716            .. versionchanged:: 0.11
   717               Added `**kwargs` to support passing additional keyword arguments to
   718               the constructor of :attr:`test_client_class`.
   719            """
   720            cls = self.test_client_class
   721            if cls is None:
   722                from .testing import FlaskClient as cls
   723            return cls(  # type: ignore
   724                self, self.response_class, use_cookies=use_cookies, **kwargs
   725            )
   726    
   727        def test_cli_runner(self, **kwargs: t.Any) -> FlaskCliRunner:
   728            """Create a CLI runner for testing CLI commands.
   729            See :ref:`testing-cli`.
   730    
   731            Returns an instance of :attr:`test_cli_runner_class`, by default
   732            :class:`~flask.testing.FlaskCliRunner`. The Flask app object is
   733            passed as the first argument.
   734    
   735            .. versionadded:: 1.0
   736            """
   737            cls = self.test_cli_runner_class
   738    
   739            if cls is None:
   740                from .testing import FlaskCliRunner as cls
   741    
   742            return cls(self, **kwargs)  # type: ignore
   743    
   744        def handle_http_exception(
   745            self, e: HTTPException
   746        ) -> HTTPException | ft.ResponseReturnValue:
   747            """Handles an HTTP exception.  By default this will invoke the
   748            registered error handlers and fall back to returning the
   749            exception as response.
   750    
   751            .. versionchanged:: 1.0.3
   752                ``RoutingException``, used internally for actions such as
   753                 slash redirects during routing, is not passed to error
   754                 handlers.
   755    
   756            .. versionchanged:: 1.0
   757                Exceptions are looked up by code *and* by MRO, so
   758                ``HTTPException`` subclasses can be handled with a catch-all
   759                handler for the base ``HTTPException``.
   760    
   761            .. versionadded:: 0.3
   762            """
   763            # Proxy exceptions don't have error codes.  We want to always return
   764            # those unchanged as errors
   765            if e.code is None:
   766                return e
   767    
   768            # RoutingExceptions are used internally to trigger routing
   769            # actions, such as slash redirects raising RequestRedirect. They
   770            # are not raised or handled in user code.
   771            if isinstance(e, RoutingException):
   772                return e
   773    
   774            handler = self._find_error_handler(e, request.blueprints)
   775            if handler is None:
   776                return e
   777            return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
   778    
   779        def handle_user_exception(
   780            self, e: Exception
   781        ) -> HTTPException | ft.ResponseReturnValue:
   782            """This method is called whenever an exception occurs that
   783            should be handled. A special case is :class:`~werkzeug
   784            .exceptions.HTTPException` which is forwarded to the
   785            :meth:`handle_http_exception` method. This function will either
   786            return a response value or reraise the exception with the same
   787            traceback.
   788    
   789            .. versionchanged:: 1.0
   790                Key errors raised from request data like ``form`` show the
   791                bad key in debug mode rather than a generic bad request
   792                message.
   793    
   794            .. versionadded:: 0.7
   795            """
   796            if isinstance(e, BadRequestKeyError) and (
   797                self.debug or self.config["TRAP_BAD_REQUEST_ERRORS"]
   798            ):
   799                e.show_exception = True
   800    
   801            if isinstance(e, HTTPException) and not self.trap_http_exception(e):
   802                return self.handle_http_exception(e)
   803    
   804            handler = self._find_error_handler(e, request.blueprints)
   805    
   806            if handler is None:
   807                raise
   808    
   809            return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
   810    
   811        def handle_exception(self, e: Exception) -> Response:
   812            """Handle an exception that did not have an error handler
   813            associated with it, or that was raised from an error handler.
   814            This always causes a 500 ``InternalServerError``.
   815    
   816            Always sends the :data:`got_request_exception` signal.
   817    
   818            If :data:`PROPAGATE_EXCEPTIONS` is ``True``, such as in debug
   819            mode, the error will be re-raised so that the debugger can
   820            display it. Otherwise, the original exception is logged, and
   821            an :exc:`~werkzeug.exceptions.InternalServerError` is returned.
   822    
   823            If an error handler is registered for ``InternalServerError`` or
   824            ``500``, it will be used. For consistency, the handler will
   825            always receive the ``InternalServerError``. The original
   826            unhandled exception is available as ``e.original_exception``.
   827    
   828            .. versionchanged:: 1.1.0
   829                Always passes the ``InternalServerError`` instance to the
   830                handler, setting ``original_exception`` to the unhandled
   831                error.
   832    
   833            .. versionchanged:: 1.1.0
   834                ``after_request`` functions and other finalization is done
   835                even for the default 500 response when there is no handler.
   836    
   837            .. versionadded:: 0.3
   838            """
   839            exc_info = sys.exc_info()
   840            got_request_exception.send(self, _async_wrapper=self.ensure_sync, exception=e)
   841            propagate = self.config["PROPAGATE_EXCEPTIONS"]
   842    
   843            if propagate is None:
   844                propagate = self.testing or self.debug
   845    
   846            if propagate:
   847                # Re-raise if called with an active exception, otherwise
   848                # raise the passed in exception.
   849                if exc_info[1] is e:
   850                    raise
   851    
   852                raise e
   853    
   854            self.log_exception(exc_info)
   855            server_error: InternalServerError | ft.ResponseReturnValue
   856            server_error = InternalServerError(original_exception=e)
   857            handler = self._find_error_handler(server_error, request.blueprints)
   858    
   859            if handler is not None:
   860                server_error = self.ensure_sync(handler)(server_error)
   861    
   862            return self.finalize_request(server_error, from_error_handler=True)
   863    
   864        def log_exception(
   865            self,
   866            exc_info: (tuple[type, BaseException, TracebackType] | tuple[None, None, None]),
   867        ) -> None:
   868            """Logs an exception.  This is called by :meth:`handle_exception`
   869            if debugging is disabled and right before the handler is called.
   870            The default implementation logs the exception as error on the
   871            :attr:`logger`.
   872    
   873            .. versionadded:: 0.8
   874            """
   875            self.logger.error(
   876                f"Exception on {request.path} [{request.method}]", exc_info=exc_info
   877            )
   878    
   879        def dispatch_request(self) -> ft.ResponseReturnValue:
   880            """Does the request dispatching.  Matches the URL and returns the
   881            return value of the view or error handler.  This does not have to
   882            be a response object.  In order to convert the return value to a
   883            proper response object, call :func:`make_response`.
   884    
   885            .. versionchanged:: 0.7
   886               This no longer does the exception handling, this code was
   887               moved to the new :meth:`full_dispatch_request`.
   888            """
   889            req = request_ctx.request
   890            if req.routing_exception is not None:
   891                self.raise_routing_exception(req)
   892            rule: Rule = req.url_rule  # type: ignore[assignment]
   893            # if we provide automatic options for this URL and the
   894            # request came with the OPTIONS method, reply automatically
   895            if (
   896                getattr(rule, "provide_automatic_options", False)
   897                and req.method == "OPTIONS"
   898            ):
   899                return self.make_default_options_response()
   900            # otherwise dispatch to the handler for that endpoint
   901            view_args: dict[str, t.Any] = req.view_args  # type: ignore[assignment]
   902            return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
   903    
   904        def full_dispatch_request(self) -> Response:
   905            """Dispatches the request and on top of that performs request
   906            pre and postprocessing as well as HTTP exception catching and
   907            error handling.
   908    
   909            .. versionadded:: 0.7
   910            """
   911            self._got_first_request = True
   912    
   913            try:
   914                request_started.send(self, _async_wrapper=self.ensure_sync)
   915                rv = self.preprocess_request()
   916                if rv is None:
   917                    rv = self.dispatch_request()
   918            except Exception as e:
   919                rv = self.handle_user_exception(e)
   920            return self.finalize_request(rv)
   921    
   922        def finalize_request(
   923            self,
   924            rv: ft.ResponseReturnValue | HTTPException,
   925            from_error_handler: bool = False,
   926        ) -> Response:
   927            """Given the return value from a view function this finalizes
   928            the request by converting it into a response and invoking the
   929            postprocessing functions.  This is invoked for both normal
   930            request dispatching as well as error handlers.
   931    
   932            Because this means that it might be called as a result of a
   933            failure a special safe mode is available which can be enabled
   934            with the `from_error_handler` flag.  If enabled, failures in
   935            response processing will be logged and otherwise ignored.
   936    
   937            :internal:
   938            """
   939            response = self.make_response(rv)
   940            try:
   941                response = self.process_response(response)
   942                request_finished.send(
   943                    self, _async_wrapper=self.ensure_sync, response=response
   944                )
   945            except Exception:
   946                if not from_error_handler:
   947                    raise
   948                self.logger.exception(
   949                    "Request finalizing failed with an error while handling an error"
   950                )
   951            return response
   952    
   953        def make_default_options_response(self) -> Response:
   954            """This method is called to create the default ``OPTIONS`` response.
   955            This can be changed through subclassing to change the default
   956            behavior of ``OPTIONS`` responses.
   957    
   958            .. versionadded:: 0.7
   959            """
   960            adapter = request_ctx.url_adapter
   961            methods = adapter.allowed_methods()  # type: ignore[union-attr]
   962            rv = self.response_class()
   963            rv.allow.update(methods)
   964            return rv
   965    
   966        def ensure_sync(self, func: t.Callable[..., t.Any]) -> t.Callable[..., t.Any]:
   967            """Ensure that the function is synchronous for WSGI workers.
   968            Plain ``def`` functions are returned as-is. ``async def``
   969            functions are wrapped to run and wait for the response.
   970    
   971            Override this method to change how the app runs async views.
   972    
   973            .. versionadded:: 2.0
   974            """
   975            if iscoroutinefunction(func):
   976                return self.async_to_sync(func)
   977    
   978            return func
   979    
   980        def async_to_sync(
   981            self, func: t.Callable[..., t.Coroutine[t.Any, t.Any, t.Any]]
   982        ) -> t.Callable[..., t.Any]:
   983            """Return a sync function that will run the coroutine function.
   984    
   985            .. code-block:: python
   986    
   987                result = app.async_to_sync(func)(*args, **kwargs)
   988    
   989            Override this method to change how the app converts async code
   990            to be synchronously callable.
   991    
   992            .. versionadded:: 2.0
   993            """
   994            try:
   995                from asgiref.sync import async_to_sync as asgiref_async_to_sync
   996            except ImportError:
   997                raise RuntimeError(
   998                    "Install Flask with the 'async' extra in order to use async views."
   999                ) from None
  1000    
  1001            return asgiref_async_to_sync(func)
  1002    
  1003        def url_for(
  1004            self,
  1005            /,
  1006            endpoint: str,
  1007            *,
  1008            _anchor: str | None = None,
  1009            _method: str | None = None,
  1010            _scheme: str | None = None,
  1011            _external: bool | None = None,
  1012            **values: t.Any,
  1013        ) -> str:
  1014            """Generate a URL to the given endpoint with the given values.
  1015    
  1016            This is called by :func:`flask.url_for`, and can be called
  1017            directly as well.
  1018    
  1019            An *endpoint* is the name of a URL rule, usually added with
  1020            :meth:`@app.route() <route>`, and usually the same name as the
  1021            view function. A route defined in a :class:`~flask.Blueprint`
  1022            will prepend the blueprint's name separated by a ``.`` to the
  1023            endpoint.
  1024    
  1025            In some cases, such as email messages, you want URLs to include
  1026            the scheme and domain, like ``https://example.com/hello``. When
  1027            not in an active request, URLs will be external by default, but
  1028            this requires setting :data:`SERVER_NAME` so Flask knows what
  1029            domain to use. :data:`APPLICATION_ROOT` and
  1030            :data:`PREFERRED_URL_SCHEME` should also be configured as
  1031            needed. This config is only used when not in an active request.
  1032    
  1033            Functions can be decorated with :meth:`url_defaults` to modify
  1034            keyword arguments before the URL is built.
  1035    
  1036            If building fails for some reason, such as an unknown endpoint
  1037            or incorrect values, the app's :meth:`handle_url_build_error`
  1038            method is called. If that returns a string, that is returned,
  1039            otherwise a :exc:`~werkzeug.routing.BuildError` is raised.
  1040    
  1041            :param endpoint: The endpoint name associated with the URL to
  1042                generate. If this starts with a ``.``, the current blueprint
  1043                name (if any) will be used.
  1044            :param _anchor: If given, append this as ``#anchor`` to the URL.
  1045            :param _method: If given, generate the URL associated with this
  1046                method for the endpoint.
  1047            :param _scheme: If given, the URL will have this scheme if it
  1048                is external.
  1049            :param _external: If given, prefer the URL to be internal
  1050                (False) or require it to be external (True). External URLs
  1051                include the scheme and domain. When not in an active
  1052                request, URLs are external by default.
  1053            :param values: Values to use for the variable parts of the URL
  1054                rule. Unknown keys are appended as query string arguments,
  1055                like ``?a=b&c=d``.
  1056    
  1057            .. versionadded:: 2.2
  1058                Moved from ``flask.url_for``, which calls this method.
  1059            """
  1060            req_ctx = _cv_request.get(None)
  1061    
  1062            if req_ctx is not None:
  1063                url_adapter = req_ctx.url_adapter
  1064                blueprint_name = req_ctx.request.blueprint
  1065    
  1066                # If the endpoint starts with "." and the request matches a
  1067                # blueprint, the endpoint is relative to the blueprint.
  1068                if endpoint[:1] == ".":
  1069                    if blueprint_name is not None:
  1070                        endpoint = f"{blueprint_name}{endpoint}"
  1071                    else:
  1072                        endpoint = endpoint[1:]
  1073    
  1074                # When in a request, generate a URL without scheme and
  1075                # domain by default, unless a scheme is given.
  1076                if _external is None:
  1077                    _external = _scheme is not None
  1078            else:
  1079                app_ctx = _cv_app.get(None)
  1080    
  1081                # If called by helpers.url_for, an app context is active,
  1082                # use its url_adapter. Otherwise, app.url_for was called
  1083                # directly, build an adapter.
  1084                if app_ctx is not None:
  1085                    url_adapter = app_ctx.url_adapter
  1086                else:
  1087                    url_adapter = self.create_url_adapter(None)
  1088    
  1089                if url_adapter is None:
  1090                    raise RuntimeError(
  1091                        "Unable to build URLs outside an active request"
  1092                        " without 'SERVER_NAME' configured. Also configure"
  1093                        " 'APPLICATION_ROOT' and 'PREFERRED_URL_SCHEME' as"
  1094                        " needed."
  1095                    )
  1096    
  1097                # When outside a request, generate a URL with scheme and
  1098                # domain by default.
  1099                if _external is None:
  1100                    _external = True
  1101    
  1102            # It is an error to set _scheme when _external=False, in order
  1103            # to avoid accidental insecure URLs.
  1104            if _scheme is not None and not _external:
  1105                raise ValueError("When specifying '_scheme', '_external' must be True.")
  1106    
  1107            self.inject_url_defaults(endpoint, values)
  1108    
  1109            try:
  1110                rv = url_adapter.build(  # type: ignore[union-attr]
  1111                    endpoint,
  1112                    values,
  1113                    method=_method,
  1114                    url_scheme=_scheme,
  1115                    force_external=_external,
  1116                )
  1117            except BuildError as error:
  1118                values.update(
  1119                    _anchor=_anchor, _method=_method, _scheme=_scheme, _external=_external
  1120                )
  1121                return self.handle_url_build_error(error, endpoint, values)
  1122    
  1123            if _anchor is not None:
  1124                _anchor = _url_quote(_anchor, safe="%!#$&'()*+,/:;=?@")
  1125                rv = f"{rv}#{_anchor}"
  1126    
  1127            return rv
  1128    
  1129        def make_response(self, rv: ft.ResponseReturnValue) -> Response:
  1130            """Convert the return value from a view function to an instance of
  1131            :attr:`response_class`.
  1132    
  1133            :param rv: the return value from the view function. The view function
  1134                must return a response. Returning ``None``, or the view ending
  1135                without returning, is not allowed. The following types are allowed
  1136                for ``view_rv``:
  1137    
  1138                ``str``
  1139                    A response object is created with the string encoded to UTF-8
  1140                    as the body.
  1141    
  1142                ``bytes``
  1143                    A response object is created with the bytes as the body.
  1144    
  1145                ``dict``
  1146                    A dictionary that will be jsonify'd before being returned.
  1147    
  1148                ``list``
  1149                    A list that will be jsonify'd before being returned.
  1150    
  1151                ``generator`` or ``iterator``
  1152                    A generator that returns ``str`` or ``bytes`` to be
  1153                    streamed as the response.
  1154    
  1155                ``tuple``
  1156                    Either ``(body, status, headers)``, ``(body, status)``, or
  1157                    ``(body, headers)``, where ``body`` is any of the other types
  1158                    allowed here, ``status`` is a string or an integer, and
  1159                    ``headers`` is a dictionary or a list of ``(key, value)``
  1160                    tuples. If ``body`` is a :attr:`response_class` instance,
  1161                    ``status`` overwrites the exiting value and ``headers`` are
  1162                    extended.
  1163    
  1164                :attr:`response_class`
  1165                    The object is returned unchanged.
  1166    
  1167                other :class:`~werkzeug.wrappers.Response` class
  1168                    The object is coerced to :attr:`response_class`.
  1169    
  1170                :func:`callable`
  1171                    The function is called as a WSGI application. The result is
  1172                    used to create a response object.
  1173    
  1174            .. versionchanged:: 2.2
  1175                A generator will be converted to a streaming response.
  1176                A list will be converted to a JSON response.
  1177    
  1178            .. versionchanged:: 1.1
  1179                A dict will be converted to a JSON response.
  1180    
  1181            .. versionchanged:: 0.9
  1182               Previously a tuple was interpreted as the arguments for the
  1183               response object.
  1184            """
  1185    
  1186            status: int | None = None
  1187            headers: HeadersValue | None = None
  1188    
  1189            # unpack tuple returns
  1190            if isinstance(rv, tuple):
  1191                len_rv = len(rv)
  1192    
  1193                # a 3-tuple is unpacked directly
  1194                if len_rv == 3:
  1195                    rv, status, headers = rv  # type: ignore[misc]
  1196                # decide if a 2-tuple has status or headers
  1197                elif len_rv == 2:
  1198                    if isinstance(rv[1], (Headers, dict, tuple, list)):
  1199                        rv, headers = rv  # pyright: ignore
  1200                    else:
  1201                        rv, status = rv  # type: ignore[assignment,misc]
  1202                # other sized tuples are not allowed
  1203                else:
  1204                    raise TypeError(
  1205                        "The view function did not return a valid response tuple."
  1206                        " The tuple must have the form (body, status, headers),"
  1207                        " (body, status), or (body, headers)."
  1208                    )
  1209    
  1210            # the body must not be None
  1211            if rv is None:
  1212                raise TypeError(
  1213                    f"The view function for {request.endpoint!r} did not"
  1214                    " return a valid response. The function either returned"
  1215                    " None or ended without a return statement."
  1216                )
  1217    
  1218            # make sure the body is an instance of the response class
  1219            if not isinstance(rv, self.response_class):
  1220                if isinstance(rv, (str, bytes, bytearray)) or isinstance(rv, cabc.Iterator):
  1221                    # let the response class set the status and headers instead of
  1222                    # waiting to do it manually, so that the class can handle any
  1223                    # special logic
  1224                    rv = self.response_class(
  1225                        rv,  # pyright: ignore
  1226                        status=status,
  1227                        headers=headers,  # type: ignore[arg-type]
  1228                    )
  1229                    status = headers = None
  1230                elif isinstance(rv, (dict, list)):
  1231                    rv = self.json.response(rv)
  1232                elif isinstance(rv, BaseResponse) or callable(rv):
  1233                    # evaluate a WSGI callable, or coerce a different response
  1234                    # class to the correct type
  1235                    try:
  1236                        rv = self.response_class.force_type(
  1237                            rv,  # type: ignore[arg-type]
  1238                            request.environ,
  1239                        )
  1240                    except TypeError as e:
  1241                        raise TypeError(
  1242                            f"{e}\nThe view function did not return a valid"
  1243                            " response. The return type must be a string,"
  1244                            " dict, list, tuple with headers or status,"
  1245                            " Response instance, or WSGI callable, but it"
  1246                            f" was a {type(rv).__name__}."
  1247                        ).with_traceback(sys.exc_info()[2]) from None
  1248                else:
  1249                    raise TypeError(
  1250                        "The view function did not return a valid"
  1251                        " response. The return type must be a string,"
  1252                        " dict, list, tuple with headers or status,"
  1253                        " Response instance, or WSGI callable, but it was a"
  1254                        f" {type(rv).__name__}."
  1255                    )
  1256    
  1257            rv = t.cast(Response, rv)
  1258            # prefer the status if it was provided
  1259            if status is not None:
  1260                if isinstance(status, (str, bytes, bytearray)):
  1261                    rv.status = status
  1262                else:
  1263                    rv.status_code = status
  1264    
  1265            # extend existing headers with provided headers
  1266            if headers:
  1267                rv.headers.update(headers)
  1268    
  1269            return rv
  1270    
  1271        def preprocess_request(self) -> ft.ResponseReturnValue | None:
  1272            """Called before the request is dispatched. Calls
  1273            :attr:`url_value_preprocessors` registered with the app and the
  1274            current blueprint (if any). Then calls :attr:`before_request_funcs`
  1275            registered with the app and the blueprint.
  1276    
  1277            If any :meth:`before_request` handler returns a non-None value, the
  1278            value is handled as if it was the return value from the view, and
  1279            further request handling is stopped.
  1280            """
  1281            names = (None, *reversed(request.blueprints))
  1282    
  1283            for name in names:
  1284                if name in self.url_value_preprocessors:
  1285                    for url_func in self.url_value_preprocessors[name]:
  1286                        url_func(request.endpoint, request.view_args)
  1287    
  1288            for name in names:
  1289                if name in self.before_request_funcs:
  1290                    for before_func in self.before_request_funcs[name]:
  1291                        rv = self.ensure_sync(before_func)()
  1292    
  1293                        if rv is not None:
  1294                            return rv  # type: ignore[no-any-return]
  1295    
  1296            return None
  1297    
  1298        def process_response(self, response: Response) -> Response:
  1299            """Can be overridden in order to modify the response object
  1300            before it's sent to the WSGI server.  By default this will
  1301            call all the :meth:`after_request` decorated functions.
  1302    
  1303            .. versionchanged:: 0.5
  1304               As of Flask 0.5 the functions registered for after request
  1305               execution are called in reverse order of registration.
  1306    
  1307            :param response: a :attr:`response_class` object.
  1308            :return: a new response object or the same, has to be an
  1309                     instance of :attr:`response_class`.
  1310            """
  1311            ctx = request_ctx._get_current_object()  # type: ignore[attr-defined]
  1312    
  1313            for func in ctx._after_request_functions:
  1314                response = self.ensure_sync(func)(response)
  1315    
  1316            for name in chain(request.blueprints, (None,)):
  1317                if name in self.after_request_funcs:
  1318                    for func in reversed(self.after_request_funcs[name]):
  1319                        response = self.ensure_sync(func)(response)
  1320    
  1321            if not self.session_interface.is_null_session(ctx.session):
  1322                self.session_interface.save_session(self, ctx.session, response)
  1323    
  1324            return response
  1325    
  1326        def do_teardown_request(
  1327            self,
  1328            exc: BaseException | None = _sentinel,  # type: ignore[assignment]
  1329        ) -> None:
  1330            """Called after the request is dispatched and the response is
  1331            returned, right before the request context is popped.
  1332    
  1333            This calls all functions decorated with
  1334            :meth:`teardown_request`, and :meth:`Blueprint.teardown_request`
  1335            if a blueprint handled the request. Finally, the
  1336            :data:`request_tearing_down` signal is sent.
  1337    
  1338            This is called by
  1339            :meth:`RequestContext.pop() <flask.ctx.RequestContext.pop>`,
  1340            which may be delayed during testing to maintain access to
  1341            resources.
  1342    
  1343            :param exc: An unhandled exception raised while dispatching the
  1344                request. Detected from the current exception information if
  1345                not passed. Passed to each teardown function.
  1346    
  1347            .. versionchanged:: 0.9
  1348                Added the ``exc`` argument.
  1349            """
  1350            if exc is _sentinel:
  1351                exc = sys.exc_info()[1]
  1352    
  1353            for name in chain(request.blueprints, (None,)):
  1354                if name in self.teardown_request_funcs:
  1355                    for func in reversed(self.teardown_request_funcs[name]):
  1356                        self.ensure_sync(func)(exc)
  1357    
  1358            request_tearing_down.send(self, _async_wrapper=self.ensure_sync, exc=exc)
  1359    
  1360        def do_teardown_appcontext(
  1361            self,
  1362            exc: BaseException | None = _sentinel,  # type: ignore[assignment]
  1363        ) -> None:
  1364            """Called right before the application context is popped.
  1365    
  1366            When handling a request, the application context is popped
  1367            after the request context. See :meth:`do_teardown_request`.
  1368    
  1369            This calls all functions decorated with
  1370            :meth:`teardown_appcontext`. Then the
  1371            :data:`appcontext_tearing_down` signal is sent.
  1372    
  1373            This is called by
  1374            :meth:`AppContext.pop() <flask.ctx.AppContext.pop>`.
  1375    
  1376            .. versionadded:: 0.9
  1377            """
  1378            if exc is _sentinel:
  1379                exc = sys.exc_info()[1]
  1380    
  1381            for func in reversed(self.teardown_appcontext_funcs):
  1382                self.ensure_sync(func)(exc)
  1383    
  1384            appcontext_tearing_down.send(self, _async_wrapper=self.ensure_sync, exc=exc)
  1385    
  1386        def app_context(self) -> AppContext:
  1387            """Create an :class:`~flask.ctx.AppContext`. Use as a ``with``
  1388            block to push the context, which will make :data:`current_app`
  1389            point at this application.
  1390    
  1391            An application context is automatically pushed by
  1392            :meth:`RequestContext.push() <flask.ctx.RequestContext.push>`
  1393            when handling a request, and when running a CLI command. Use
  1394            this to manually create a context outside of these situations.
  1395    
  1396            ::
  1397    
  1398                with app.app_context():
  1399                    init_db()
  1400    
  1401            See :doc:`/appcontext`.
  1402    
  1403            .. versionadded:: 0.9
  1404            """
  1405            return AppContext(self)
  1406    
  1407        def request_context(self, environ: WSGIEnvironment) -> RequestContext:
  1408            """Create a :class:`~flask.ctx.RequestContext` representing a
  1409            WSGI environment. Use a ``with`` block to push the context,
  1410            which will make :data:`request` point at this request.
  1411    
  1412            See :doc:`/reqcontext`.
  1413    
  1414            Typically you should not call this from your own code. A request
  1415            context is automatically pushed by the :meth:`wsgi_app` when
  1416            handling a request. Use :meth:`test_request_context` to create
  1417            an environment and context instead of this method.
  1418    
  1419            :param environ: a WSGI environment
  1420            """
  1421            return RequestContext(self, environ)
  1422    
  1423        def test_request_context(self, *args: t.Any, **kwargs: t.Any) -> RequestContext:
  1424            """Create a :class:`~flask.ctx.RequestContext` for a WSGI
  1425            environment created from the given values. This is mostly useful
  1426            during testing, where you may want to run a function that uses
  1427            request data without dispatching a full request.
  1428    
  1429            See :doc:`/reqcontext`.
  1430    
  1431            Use a ``with`` block to push the context, which will make
  1432            :data:`request` point at the request for the created
  1433            environment. ::
  1434    
  1435                with app.test_request_context(...):
  1436                    generate_report()
  1437    
  1438            When using the shell, it may be easier to push and pop the
  1439            context manually to avoid indentation. ::
  1440    
  1441                ctx = app.test_request_context(...)
  1442                ctx.push()
  1443                ...
  1444                ctx.pop()
  1445    
  1446            Takes the same arguments as Werkzeug's
  1447            :class:`~werkzeug.test.EnvironBuilder`, with some defaults from
  1448            the application. See the linked Werkzeug docs for most of the
  1449            available arguments. Flask-specific behavior is listed here.
  1450    
  1451            :param path: URL path being requested.
  1452            :param base_url: Base URL where the app is being served, which
  1453                ``path`` is relative to. If not given, built from
  1454                :data:`PREFERRED_URL_SCHEME`, ``subdomain``,
  1455                :data:`SERVER_NAME`, and :data:`APPLICATION_ROOT`.
  1456            :param subdomain: Subdomain name to append to
  1457                :data:`SERVER_NAME`.
  1458            :param url_scheme: Scheme to use instead of
  1459                :data:`PREFERRED_URL_SCHEME`.
  1460            :param data: The request body, either as a string or a dict of
  1461                form keys and values.
  1462            :param json: If given, this is serialized as JSON and passed as
  1463                ``data``. Also defaults ``content_type`` to
  1464                ``application/json``.
  1465            :param args: other positional arguments passed to
  1466                :class:`~werkzeug.test.EnvironBuilder`.
  1467            :param kwargs: other keyword arguments passed to
  1468                :class:`~werkzeug.test.EnvironBuilder`.
  1469            """
  1470            from .testing import EnvironBuilder
  1471    
  1472            builder = EnvironBuilder(self, *args, **kwargs)
  1473    
  1474            try:
  1475                return self.request_context(builder.get_environ())
  1476            finally:
  1477                builder.close()
  1478    
  1479        def wsgi_app(
  1480            self, environ: WSGIEnvironment, start_response: StartResponse
  1481        ) -> cabc.Iterable[bytes]:
  1482            """The actual WSGI application. This is not implemented in
  1483            :meth:`__call__` so that middlewares can be applied without
  1484            losing a reference to the app object. Instead of doing this::
  1485    
  1486                app = MyMiddleware(app)
  1487    
  1488            It's a better idea to do this instead::
  1489    
  1490                app.wsgi_app = MyMiddleware(app.wsgi_app)
  1491    
  1492            Then you still have the original application object around and
  1493            can continue to call methods on it.
  1494    
  1495            .. versionchanged:: 0.7
  1496                Teardown events for the request and app contexts are called
  1497                even if an unhandled error occurs. Other events may not be
  1498                called depending on when an error occurs during dispatch.
  1499                See :ref:`callbacks-and-errors`.
  1500    
  1501            :param environ: A WSGI environment.
  1502            :param start_response: A callable accepting a status code,
  1503                a list of headers, and an optional exception context to
  1504                start the response.
  1505            """
  1506            ctx = self.request_context(environ)
  1507            error: BaseException | None = None
  1508            try:
  1509                try:
  1510                    ctx.push()
  1511                    response = self.full_dispatch_request()
  1512                except Exception as e:
  1513                    error = e
  1514                    response = self.handle_exception(e)
  1515                except:  # noqa: B001
  1516                    error = sys.exc_info()[1]
  1517                    raise
  1518                return response(environ, start_response)
  1519            finally:
  1520                if "werkzeug.debug.preserve_context" in environ:
  1521                    environ["werkzeug.debug.preserve_context"](_cv_app.get())
  1522                    environ["werkzeug.debug.preserve_context"](_cv_request.get())
  1523    
  1524                if error is not None and self.should_ignore_error(error):
  1525                    error = None
  1526    
  1527                ctx.pop(error)
  1528    
  1529        def __call__(
  1530            self, environ: WSGIEnvironment, start_response: StartResponse
  1531        ) -> cabc.Iterable[bytes]:
  1532            """The WSGI server calls the Flask application object as the
  1533            WSGI application. This calls :meth:`wsgi_app`, which can be
  1534            wrapped to apply middleware.
  1535            """
  1536            return self.wsgi_app(environ, start_response)
```

## File: ./.venv/lib/python3.12/site-packages/flask/sansio/app.py
```app.py
     1    from __future__ import annotations
     2    
     3    import logging
     4    import os
     5    import sys
     6    import typing as t
     7    from datetime import timedelta
     8    from itertools import chain
     9    
    10    from werkzeug.exceptions import Aborter
    11    from werkzeug.exceptions import BadRequest
    12    from werkzeug.exceptions import BadRequestKeyError
    13    from werkzeug.routing import BuildError
    14    from werkzeug.routing import Map
    15    from werkzeug.routing import Rule
    16    from werkzeug.sansio.response import Response
    17    from werkzeug.utils import cached_property
    18    from werkzeug.utils import redirect as _wz_redirect
    19    
    20    from .. import typing as ft
    21    from ..config import Config
    22    from ..config import ConfigAttribute
    23    from ..ctx import _AppCtxGlobals
    24    from ..helpers import _split_blueprint_path
    25    from ..helpers import get_debug_flag
    26    from ..json.provider import DefaultJSONProvider
    27    from ..json.provider import JSONProvider
    28    from ..logging import create_logger
    29    from ..templating import DispatchingJinjaLoader
    30    from ..templating import Environment
    31    from .scaffold import _endpoint_from_view_func
    32    from .scaffold import find_package
    33    from .scaffold import Scaffold
    34    from .scaffold import setupmethod
    35    
    36    if t.TYPE_CHECKING:  # pragma: no cover
    37        from werkzeug.wrappers import Response as BaseResponse
    38    
    39        from ..testing import FlaskClient
    40        from ..testing import FlaskCliRunner
    41        from .blueprints import Blueprint
    42    
    43    T_shell_context_processor = t.TypeVar(
    44        "T_shell_context_processor", bound=ft.ShellContextProcessorCallable
    45    )
    46    T_teardown = t.TypeVar("T_teardown", bound=ft.TeardownCallable)
    47    T_template_filter = t.TypeVar("T_template_filter", bound=ft.TemplateFilterCallable)
    48    T_template_global = t.TypeVar("T_template_global", bound=ft.TemplateGlobalCallable)
    49    T_template_test = t.TypeVar("T_template_test", bound=ft.TemplateTestCallable)
    50    
    51    
    52    def _make_timedelta(value: timedelta | int | None) -> timedelta | None:
    53        if value is None or isinstance(value, timedelta):
    54            return value
    55    
    56        return timedelta(seconds=value)
    57    
    58    
    59    class App(Scaffold):
    60        """The flask object implements a WSGI application and acts as the central
    61        object.  It is passed the name of the module or package of the
    62        application.  Once it is created it will act as a central registry for
    63        the view functions, the URL rules, template configuration and much more.
    64    
    65        The name of the package is used to resolve resources from inside the
    66        package or the folder the module is contained in depending on if the
    67        package parameter resolves to an actual python package (a folder with
    68        an :file:`__init__.py` file inside) or a standard module (just a ``.py`` file).
    69    
    70        For more information about resource loading, see :func:`open_resource`.
    71    
    72        Usually you create a :class:`Flask` instance in your main module or
    73        in the :file:`__init__.py` file of your package like this::
    74    
    75            from flask import Flask
    76            app = Flask(__name__)
    77    
    78        .. admonition:: About the First Parameter
    79    
    80            The idea of the first parameter is to give Flask an idea of what
    81            belongs to your application.  This name is used to find resources
    82            on the filesystem, can be used by extensions to improve debugging
    83            information and a lot more.
    84    
    85            So it's important what you provide there.  If you are using a single
    86            module, `__name__` is always the correct value.  If you however are
    87            using a package, it's usually recommended to hardcode the name of
    88            your package there.
    89    
    90            For example if your application is defined in :file:`yourapplication/app.py`
    91            you should create it with one of the two versions below::
    92    
    93                app = Flask('yourapplication')
    94                app = Flask(__name__.split('.')[0])
    95    
    96            Why is that?  The application will work even with `__name__`, thanks
    97            to how resources are looked up.  However it will make debugging more
    98            painful.  Certain extensions can make assumptions based on the
    99            import name of your application.  For example the Flask-SQLAlchemy
   100            extension will look for the code in your application that triggered
   101            an SQL query in debug mode.  If the import name is not properly set
   102            up, that debugging information is lost.  (For example it would only
   103            pick up SQL queries in `yourapplication.app` and not
   104            `yourapplication.views.frontend`)
   105    
   106        .. versionadded:: 0.7
   107           The `static_url_path`, `static_folder`, and `template_folder`
   108           parameters were added.
   109    
   110        .. versionadded:: 0.8
   111           The `instance_path` and `instance_relative_config` parameters were
   112           added.
   113    
   114        .. versionadded:: 0.11
   115           The `root_path` parameter was added.
   116    
   117        .. versionadded:: 1.0
   118           The ``host_matching`` and ``static_host`` parameters were added.
   119    
   120        .. versionadded:: 1.0
   121           The ``subdomain_matching`` parameter was added. Subdomain
   122           matching needs to be enabled manually now. Setting
   123           :data:`SERVER_NAME` does not implicitly enable it.
   124    
   125        :param import_name: the name of the application package
   126        :param static_url_path: can be used to specify a different path for the
   127                                static files on the web.  Defaults to the name
   128                                of the `static_folder` folder.
   129        :param static_folder: The folder with static files that is served at
   130            ``static_url_path``. Relative to the application ``root_path``
   131            or an absolute path. Defaults to ``'static'``.
   132        :param static_host: the host to use when adding the static route.
   133            Defaults to None. Required when using ``host_matching=True``
   134            with a ``static_folder`` configured.
   135        :param host_matching: set ``url_map.host_matching`` attribute.
   136            Defaults to False.
   137        :param subdomain_matching: consider the subdomain relative to
   138            :data:`SERVER_NAME` when matching routes. Defaults to False.
   139        :param template_folder: the folder that contains the templates that should
   140                                be used by the application.  Defaults to
   141                                ``'templates'`` folder in the root path of the
   142                                application.
   143        :param instance_path: An alternative instance path for the application.
   144                              By default the folder ``'instance'`` next to the
   145                              package or module is assumed to be the instance
   146                              path.
   147        :param instance_relative_config: if set to ``True`` relative filenames
   148                                         for loading the config are assumed to
   149                                         be relative to the instance path instead
   150                                         of the application root.
   151        :param root_path: The path to the root of the application files.
   152            This should only be set manually when it can't be detected
   153            automatically, such as for namespace packages.
   154        """
   155    
   156        #: The class of the object assigned to :attr:`aborter`, created by
   157        #: :meth:`create_aborter`. That object is called by
   158        #: :func:`flask.abort` to raise HTTP errors, and can be
   159        #: called directly as well.
   160        #:
   161        #: Defaults to :class:`werkzeug.exceptions.Aborter`.
   162        #:
   163        #: .. versionadded:: 2.2
   164        aborter_class = Aborter
   165    
   166        #: The class that is used for the Jinja environment.
   167        #:
   168        #: .. versionadded:: 0.11
   169        jinja_environment = Environment
   170    
   171        #: The class that is used for the :data:`~flask.g` instance.
   172        #:
   173        #: Example use cases for a custom class:
   174        #:
   175        #: 1. Store arbitrary attributes on flask.g.
   176        #: 2. Add a property for lazy per-request database connectors.
   177        #: 3. Return None instead of AttributeError on unexpected attributes.
   178        #: 4. Raise exception if an unexpected attr is set, a "controlled" flask.g.
   179        #:
   180        #: In Flask 0.9 this property was called `request_globals_class` but it
   181        #: was changed in 0.10 to :attr:`app_ctx_globals_class` because the
   182        #: flask.g object is now application context scoped.
   183        #:
   184        #: .. versionadded:: 0.10
   185        app_ctx_globals_class = _AppCtxGlobals
   186    
   187        #: The class that is used for the ``config`` attribute of this app.
   188        #: Defaults to :class:`~flask.Config`.
   189        #:
   190        #: Example use cases for a custom class:
   191        #:
   192        #: 1. Default values for certain config options.
   193        #: 2. Access to config values through attributes in addition to keys.
   194        #:
   195        #: .. versionadded:: 0.11
   196        config_class = Config
   197    
   198        #: The testing flag.  Set this to ``True`` to enable the test mode of
   199        #: Flask extensions (and in the future probably also Flask itself).
   200        #: For example this might activate test helpers that have an
   201        #: additional runtime cost which should not be enabled by default.
   202        #:
   203        #: If this is enabled and PROPAGATE_EXCEPTIONS is not changed from the
   204        #: default it's implicitly enabled.
   205        #:
   206        #: This attribute can also be configured from the config with the
   207        #: ``TESTING`` configuration key.  Defaults to ``False``.
   208        testing = ConfigAttribute[bool]("TESTING")
   209    
   210        #: If a secret key is set, cryptographic components can use this to
   211        #: sign cookies and other things. Set this to a complex random value
   212        #: when you want to use the secure cookie for instance.
   213        #:
   214        #: This attribute can also be configured from the config with the
   215        #: :data:`SECRET_KEY` configuration key. Defaults to ``None``.
   216        secret_key = ConfigAttribute[t.Union[str, bytes, None]]("SECRET_KEY")
   217    
   218        #: A :class:`~datetime.timedelta` which is used to set the expiration
   219        #: date of a permanent session.  The default is 31 days which makes a
   220        #: permanent session survive for roughly one month.
   221        #:
   222        #: This attribute can also be configured from the config with the
   223        #: ``PERMANENT_SESSION_LIFETIME`` configuration key.  Defaults to
   224        #: ``timedelta(days=31)``
   225        permanent_session_lifetime = ConfigAttribute[timedelta](
   226            "PERMANENT_SESSION_LIFETIME",
   227            get_converter=_make_timedelta,  # type: ignore[arg-type]
   228        )
   229    
   230        json_provider_class: type[JSONProvider] = DefaultJSONProvider
   231        """A subclass of :class:`~flask.json.provider.JSONProvider`. An
   232        instance is created and assigned to :attr:`app.json` when creating
   233        the app.
   234    
   235        The default, :class:`~flask.json.provider.DefaultJSONProvider`, uses
   236        Python's built-in :mod:`json` library. A different provider can use
   237        a different JSON library.
   238    
   239        .. versionadded:: 2.2
   240        """
   241    
   242        #: Options that are passed to the Jinja environment in
   243        #: :meth:`create_jinja_environment`. Changing these options after
   244        #: the environment is created (accessing :attr:`jinja_env`) will
   245        #: have no effect.
   246        #:
   247        #: .. versionchanged:: 1.1.0
   248        #:     This is a ``dict`` instead of an ``ImmutableDict`` to allow
   249        #:     easier configuration.
   250        #:
   251        jinja_options: dict[str, t.Any] = {}
   252    
   253        #: The rule object to use for URL rules created.  This is used by
   254        #: :meth:`add_url_rule`.  Defaults to :class:`werkzeug.routing.Rule`.
   255        #:
   256        #: .. versionadded:: 0.7
   257        url_rule_class = Rule
   258    
   259        #: The map object to use for storing the URL rules and routing
   260        #: configuration parameters. Defaults to :class:`werkzeug.routing.Map`.
   261        #:
   262        #: .. versionadded:: 1.1.0
   263        url_map_class = Map
   264    
   265        #: The :meth:`test_client` method creates an instance of this test
   266        #: client class. Defaults to :class:`~flask.testing.FlaskClient`.
   267        #:
   268        #: .. versionadded:: 0.7
   269        test_client_class: type[FlaskClient] | None = None
   270    
   271        #: The :class:`~click.testing.CliRunner` subclass, by default
   272        #: :class:`~flask.testing.FlaskCliRunner` that is used by
   273        #: :meth:`test_cli_runner`. Its ``__init__`` method should take a
   274        #: Flask app object as the first argument.
   275        #:
   276        #: .. versionadded:: 1.0
   277        test_cli_runner_class: type[FlaskCliRunner] | None = None
   278    
   279        default_config: dict[str, t.Any]
   280        response_class: type[Response]
   281    
   282        def __init__(
   283            self,
   284            import_name: str,
   285            static_url_path: str | None = None,
   286            static_folder: str | os.PathLike[str] | None = "static",
   287            static_host: str | None = None,
   288            host_matching: bool = False,
   289            subdomain_matching: bool = False,
   290            template_folder: str | os.PathLike[str] | None = "templates",
   291            instance_path: str | None = None,
   292            instance_relative_config: bool = False,
   293            root_path: str | None = None,
   294        ) -> None:
   295            super().__init__(
   296                import_name=import_name,
   297                static_folder=static_folder,
   298                static_url_path=static_url_path,
   299                template_folder=template_folder,
   300                root_path=root_path,
   301            )
   302    
   303            if instance_path is None:
   304                instance_path = self.auto_find_instance_path()
   305            elif not os.path.isabs(instance_path):
   306                raise ValueError(
   307                    "If an instance path is provided it must be absolute."
   308                    " A relative path was given instead."
   309                )
   310    
   311            #: Holds the path to the instance folder.
   312            #:
   313            #: .. versionadded:: 0.8
   314            self.instance_path = instance_path
   315    
   316            #: The configuration dictionary as :class:`Config`.  This behaves
   317            #: exactly like a regular dictionary but supports additional methods
   318            #: to load a config from files.
   319            self.config = self.make_config(instance_relative_config)
   320    
   321            #: An instance of :attr:`aborter_class` created by
   322            #: :meth:`make_aborter`. This is called by :func:`flask.abort`
   323            #: to raise HTTP errors, and can be called directly as well.
   324            #:
   325            #: .. versionadded:: 2.2
   326            #:     Moved from ``flask.abort``, which calls this object.
   327            self.aborter = self.make_aborter()
   328    
   329            self.json: JSONProvider = self.json_provider_class(self)
   330            """Provides access to JSON methods. Functions in ``flask.json``
   331            will call methods on this provider when the application context
   332            is active. Used for handling JSON requests and responses.
   333    
   334            An instance of :attr:`json_provider_class`. Can be customized by
   335            changing that attribute on a subclass, or by assigning to this
   336            attribute afterwards.
   337    
   338            The default, :class:`~flask.json.provider.DefaultJSONProvider`,
   339            uses Python's built-in :mod:`json` library. A different provider
   340            can use a different JSON library.
   341    
   342            .. versionadded:: 2.2
   343            """
   344    
   345            #: A list of functions that are called by
   346            #: :meth:`handle_url_build_error` when :meth:`.url_for` raises a
   347            #: :exc:`~werkzeug.routing.BuildError`. Each function is called
   348            #: with ``error``, ``endpoint`` and ``values``. If a function
   349            #: returns ``None`` or raises a ``BuildError``, it is skipped.
   350            #: Otherwise, its return value is returned by ``url_for``.
   351            #:
   352            #: .. versionadded:: 0.9
   353            self.url_build_error_handlers: list[
   354                t.Callable[[Exception, str, dict[str, t.Any]], str]
   355            ] = []
   356    
   357            #: A list of functions that are called when the application context
   358            #: is destroyed.  Since the application context is also torn down
   359            #: if the request ends this is the place to store code that disconnects
   360            #: from databases.
   361            #:
   362            #: .. versionadded:: 0.9
   363            self.teardown_appcontext_funcs: list[ft.TeardownCallable] = []
   364    
   365            #: A list of shell context processor functions that should be run
   366            #: when a shell context is created.
   367            #:
   368            #: .. versionadded:: 0.11
   369            self.shell_context_processors: list[ft.ShellContextProcessorCallable] = []
   370    
   371            #: Maps registered blueprint names to blueprint objects. The
   372            #: dict retains the order the blueprints were registered in.
   373            #: Blueprints can be registered multiple times, this dict does
   374            #: not track how often they were attached.
   375            #:
   376            #: .. versionadded:: 0.7
   377            self.blueprints: dict[str, Blueprint] = {}
   378    
   379            #: a place where extensions can store application specific state.  For
   380            #: example this is where an extension could store database engines and
   381            #: similar things.
   382            #:
   383            #: The key must match the name of the extension module. For example in
   384            #: case of a "Flask-Foo" extension in `flask_foo`, the key would be
   385            #: ``'foo'``.
   386            #:
   387            #: .. versionadded:: 0.7
   388            self.extensions: dict[str, t.Any] = {}
   389    
   390            #: The :class:`~werkzeug.routing.Map` for this instance.  You can use
   391            #: this to change the routing converters after the class was created
   392            #: but before any routes are connected.  Example::
   393            #:
   394            #:    from werkzeug.routing import BaseConverter
   395            #:
   396            #:    class ListConverter(BaseConverter):
   397            #:        def to_python(self, value):
   398            #:            return value.split(',')
   399            #:        def to_url(self, values):
   400            #:            return ','.join(super(ListConverter, self).to_url(value)
   401            #:                            for value in values)
   402            #:
   403            #:    app = Flask(__name__)
   404            #:    app.url_map.converters['list'] = ListConverter
   405            self.url_map = self.url_map_class(host_matching=host_matching)
   406    
   407            self.subdomain_matching = subdomain_matching
   408    
   409            # tracks internally if the application already handled at least one
   410            # request.
   411            self._got_first_request = False
   412    
   413        def _check_setup_finished(self, f_name: str) -> None:
   414            if self._got_first_request:
   415                raise AssertionError(
   416                    f"The setup method '{f_name}' can no longer be called"
   417                    " on the application. It has already handled its first"
   418                    " request, any changes will not be applied"
   419                    " consistently.\n"
   420                    "Make sure all imports, decorators, functions, etc."
   421                    " needed to set up the application are done before"
   422                    " running it."
   423                )
   424    
   425        @cached_property
   426        def name(self) -> str:
   427            """The name of the application.  This is usually the import name
   428            with the difference that it's guessed from the run file if the
   429            import name is main.  This name is used as a display name when
   430            Flask needs the name of the application.  It can be set and overridden
   431            to change the value.
   432    
   433            .. versionadded:: 0.8
   434            """
   435            if self.import_name == "__main__":
   436                fn: str | None = getattr(sys.modules["__main__"], "__file__", None)
   437                if fn is None:
   438                    return "__main__"
   439                return os.path.splitext(os.path.basename(fn))[0]
   440            return self.import_name
   441    
   442        @cached_property
   443        def logger(self) -> logging.Logger:
   444            """A standard Python :class:`~logging.Logger` for the app, with
   445            the same name as :attr:`name`.
   446    
   447            In debug mode, the logger's :attr:`~logging.Logger.level` will
   448            be set to :data:`~logging.DEBUG`.
   449    
   450            If there are no handlers configured, a default handler will be
   451            added. See :doc:`/logging` for more information.
   452    
   453            .. versionchanged:: 1.1.0
   454                The logger takes the same name as :attr:`name` rather than
   455                hard-coding ``"flask.app"``.
   456    
   457            .. versionchanged:: 1.0.0
   458                Behavior was simplified. The logger is always named
   459                ``"flask.app"``. The level is only set during configuration,
   460                it doesn't check ``app.debug`` each time. Only one format is
   461                used, not different ones depending on ``app.debug``. No
   462                handlers are removed, and a handler is only added if no
   463                handlers are already configured.
   464    
   465            .. versionadded:: 0.3
   466            """
   467            return create_logger(self)
   468    
   469        @cached_property
   470        def jinja_env(self) -> Environment:
   471            """The Jinja environment used to load templates.
   472    
   473            The environment is created the first time this property is
   474            accessed. Changing :attr:`jinja_options` after that will have no
   475            effect.
   476            """
   477            return self.create_jinja_environment()
   478    
   479        def create_jinja_environment(self) -> Environment:
   480            raise NotImplementedError()
   481    
   482        def make_config(self, instance_relative: bool = False) -> Config:
   483            """Used to create the config attribute by the Flask constructor.
   484            The `instance_relative` parameter is passed in from the constructor
   485            of Flask (there named `instance_relative_config`) and indicates if
   486            the config should be relative to the instance path or the root path
   487            of the application.
   488    
   489            .. versionadded:: 0.8
   490            """
   491            root_path = self.root_path
   492            if instance_relative:
   493                root_path = self.instance_path
   494            defaults = dict(self.default_config)
   495            defaults["DEBUG"] = get_debug_flag()
   496            return self.config_class(root_path, defaults)
   497    
   498        def make_aborter(self) -> Aborter:
   499            """Create the object to assign to :attr:`aborter`. That object
   500            is called by :func:`flask.abort` to raise HTTP errors, and can
   501            be called directly as well.
   502    
   503            By default, this creates an instance of :attr:`aborter_class`,
   504            which defaults to :class:`werkzeug.exceptions.Aborter`.
   505    
   506            .. versionadded:: 2.2
   507            """
   508            return self.aborter_class()
   509    
   510        def auto_find_instance_path(self) -> str:
   511            """Tries to locate the instance path if it was not provided to the
   512            constructor of the application class.  It will basically calculate
   513            the path to a folder named ``instance`` next to your main file or
   514            the package.
   515    
   516            .. versionadded:: 0.8
   517            """
   518            prefix, package_path = find_package(self.import_name)
   519            if prefix is None:
   520                return os.path.join(package_path, "instance")
   521            return os.path.join(prefix, "var", f"{self.name}-instance")
   522    
   523        def create_global_jinja_loader(self) -> DispatchingJinjaLoader:
   524            """Creates the loader for the Jinja environment.  Can be used to
   525            override just the loader and keeping the rest unchanged.  It's
   526            discouraged to override this function.  Instead one should override
   527            the :meth:`jinja_loader` function instead.
   528    
   529            The global loader dispatches between the loaders of the application
   530            and the individual blueprints.
   531    
   532            .. versionadded:: 0.7
   533            """
   534            return DispatchingJinjaLoader(self)
   535    
   536        def select_jinja_autoescape(self, filename: str) -> bool:
   537            """Returns ``True`` if autoescaping should be active for the given
   538            template name. If no template name is given, returns `True`.
   539    
   540            .. versionchanged:: 2.2
   541                Autoescaping is now enabled by default for ``.svg`` files.
   542    
   543            .. versionadded:: 0.5
   544            """
   545            if filename is None:
   546                return True
   547            return filename.endswith((".html", ".htm", ".xml", ".xhtml", ".svg"))
   548    
   549        @property
   550        def debug(self) -> bool:
   551            """Whether debug mode is enabled. When using ``flask run`` to start the
   552            development server, an interactive debugger will be shown for unhandled
   553            exceptions, and the server will be reloaded when code changes. This maps to the
   554            :data:`DEBUG` config key. It may not behave as expected if set late.
   555    
   556            **Do not enable debug mode when deploying in production.**
   557    
   558            Default: ``False``
   559            """
   560            return self.config["DEBUG"]  # type: ignore[no-any-return]
   561    
   562        @debug.setter
   563        def debug(self, value: bool) -> None:
   564            self.config["DEBUG"] = value
   565    
   566            if self.config["TEMPLATES_AUTO_RELOAD"] is None:
   567                self.jinja_env.auto_reload = value
   568    
   569        @setupmethod
   570        def register_blueprint(self, blueprint: Blueprint, **options: t.Any) -> None:
   571            """Register a :class:`~flask.Blueprint` on the application. Keyword
   572            arguments passed to this method will override the defaults set on the
   573            blueprint.
   574    
   575            Calls the blueprint's :meth:`~flask.Blueprint.register` method after
   576            recording the blueprint in the application's :attr:`blueprints`.
   577    
   578            :param blueprint: The blueprint to register.
   579            :param url_prefix: Blueprint routes will be prefixed with this.
   580            :param subdomain: Blueprint routes will match on this subdomain.
   581            :param url_defaults: Blueprint routes will use these default values for
   582                view arguments.
   583            :param options: Additional keyword arguments are passed to
   584                :class:`~flask.blueprints.BlueprintSetupState`. They can be
   585                accessed in :meth:`~flask.Blueprint.record` callbacks.
   586    
   587            .. versionchanged:: 2.0.1
   588                The ``name`` option can be used to change the (pre-dotted)
   589                name the blueprint is registered with. This allows the same
   590                blueprint to be registered multiple times with unique names
   591                for ``url_for``.
   592    
   593            .. versionadded:: 0.7
   594            """
   595            blueprint.register(self, options)
   596    
   597        def iter_blueprints(self) -> t.ValuesView[Blueprint]:
   598            """Iterates over all blueprints by the order they were registered.
   599    
   600            .. versionadded:: 0.11
   601            """
   602            return self.blueprints.values()
   603    
   604        @setupmethod
   605        def add_url_rule(
   606            self,
   607            rule: str,
   608            endpoint: str | None = None,
   609            view_func: ft.RouteCallable | None = None,
   610            provide_automatic_options: bool | None = None,
   611            **options: t.Any,
   612        ) -> None:
   613            if endpoint is None:
   614                endpoint = _endpoint_from_view_func(view_func)  # type: ignore
   615            options["endpoint"] = endpoint
   616            methods = options.pop("methods", None)
   617    
   618            # if the methods are not given and the view_func object knows its
   619            # methods we can use that instead.  If neither exists, we go with
   620            # a tuple of only ``GET`` as default.
   621            if methods is None:
   622                methods = getattr(view_func, "methods", None) or ("GET",)
   623            if isinstance(methods, str):
   624                raise TypeError(
   625                    "Allowed methods must be a list of strings, for"
   626                    ' example: @app.route(..., methods=["POST"])'
   627                )
   628            methods = {item.upper() for item in methods}
   629    
   630            # Methods that should always be added
   631            required_methods: set[str] = set(getattr(view_func, "required_methods", ()))
   632    
   633            # starting with Flask 0.8 the view_func object can disable and
   634            # force-enable the automatic options handling.
   635            if provide_automatic_options is None:
   636                provide_automatic_options = getattr(
   637                    view_func, "provide_automatic_options", None
   638                )
   639    
   640            if provide_automatic_options is None:
   641                if "OPTIONS" not in methods and self.config["PROVIDE_AUTOMATIC_OPTIONS"]:
   642                    provide_automatic_options = True
   643                    required_methods.add("OPTIONS")
   644                else:
   645                    provide_automatic_options = False
   646    
   647            # Add the required methods now.
   648            methods |= required_methods
   649    
   650            rule_obj = self.url_rule_class(rule, methods=methods, **options)
   651            rule_obj.provide_automatic_options = provide_automatic_options  # type: ignore[attr-defined]
   652    
   653            self.url_map.add(rule_obj)
   654            if view_func is not None:
   655                old_func = self.view_functions.get(endpoint)
   656                if old_func is not None and old_func != view_func:
   657                    raise AssertionError(
   658                        "View function mapping is overwriting an existing"
   659                        f" endpoint function: {endpoint}"
   660                    )
   661                self.view_functions[endpoint] = view_func
   662    
   663        @setupmethod
   664        def template_filter(
   665            self, name: str | None = None
   666        ) -> t.Callable[[T_template_filter], T_template_filter]:
   667            """A decorator that is used to register custom template filter.
   668            You can specify a name for the filter, otherwise the function
   669            name will be used. Example::
   670    
   671              @app.template_filter()
   672              def reverse(s):
   673                  return s[::-1]
   674    
   675            :param name: the optional name of the filter, otherwise the
   676                         function name will be used.
   677            """
   678    
   679            def decorator(f: T_template_filter) -> T_template_filter:
   680                self.add_template_filter(f, name=name)
   681                return f
   682    
   683            return decorator
   684    
   685        @setupmethod
   686        def add_template_filter(
   687            self, f: ft.TemplateFilterCallable, name: str | None = None
   688        ) -> None:
   689            """Register a custom template filter.  Works exactly like the
   690            :meth:`template_filter` decorator.
   691    
   692            :param name: the optional name of the filter, otherwise the
   693                         function name will be used.
   694            """
   695            self.jinja_env.filters[name or f.__name__] = f
   696    
   697        @setupmethod
   698        def template_test(
   699            self, name: str | None = None
   700        ) -> t.Callable[[T_template_test], T_template_test]:
   701            """A decorator that is used to register custom template test.
   702            You can specify a name for the test, otherwise the function
   703            name will be used. Example::
   704    
   705              @app.template_test()
   706              def is_prime(n):
   707                  if n == 2:
   708                      return True
   709                  for i in range(2, int(math.ceil(math.sqrt(n))) + 1):
   710                      if n % i == 0:
   711                          return False
   712                  return True
   713    
   714            .. versionadded:: 0.10
   715    
   716            :param name: the optional name of the test, otherwise the
   717                         function name will be used.
   718            """
   719    
   720            def decorator(f: T_template_test) -> T_template_test:
   721                self.add_template_test(f, name=name)
   722                return f
   723    
   724            return decorator
   725    
   726        @setupmethod
   727        def add_template_test(
   728            self, f: ft.TemplateTestCallable, name: str | None = None
   729        ) -> None:
   730            """Register a custom template test.  Works exactly like the
   731            :meth:`template_test` decorator.
   732    
   733            .. versionadded:: 0.10
   734    
   735            :param name: the optional name of the test, otherwise the
   736                         function name will be used.
   737            """
   738            self.jinja_env.tests[name or f.__name__] = f
   739    
   740        @setupmethod
   741        def template_global(
   742            self, name: str | None = None
   743        ) -> t.Callable[[T_template_global], T_template_global]:
   744            """A decorator that is used to register a custom template global function.
   745            You can specify a name for the global function, otherwise the function
   746            name will be used. Example::
   747    
   748                @app.template_global()
   749                def double(n):
   750                    return 2 * n
   751    
   752            .. versionadded:: 0.10
   753    
   754            :param name: the optional name of the global function, otherwise the
   755                         function name will be used.
   756            """
   757    
   758            def decorator(f: T_template_global) -> T_template_global:
   759                self.add_template_global(f, name=name)
   760                return f
   761    
   762            return decorator
   763    
   764        @setupmethod
   765        def add_template_global(
   766            self, f: ft.TemplateGlobalCallable, name: str | None = None
   767        ) -> None:
   768            """Register a custom template global function. Works exactly like the
   769            :meth:`template_global` decorator.
   770    
   771            .. versionadded:: 0.10
   772    
   773            :param name: the optional name of the global function, otherwise the
   774                         function name will be used.
   775            """
   776            self.jinja_env.globals[name or f.__name__] = f
   777    
   778        @setupmethod
   779        def teardown_appcontext(self, f: T_teardown) -> T_teardown:
   780            """Registers a function to be called when the application
   781            context is popped. The application context is typically popped
   782            after the request context for each request, at the end of CLI
   783            commands, or after a manually pushed context ends.
   784    
   785            .. code-block:: python
   786    
   787                with app.app_context():
   788                    ...
   789    
   790            When the ``with`` block exits (or ``ctx.pop()`` is called), the
   791            teardown functions are called just before the app context is
   792            made inactive. Since a request context typically also manages an
   793            application context it would also be called when you pop a
   794            request context.
   795    
   796            When a teardown function was called because of an unhandled
   797            exception it will be passed an error object. If an
   798            :meth:`errorhandler` is registered, it will handle the exception
   799            and the teardown will not receive it.
   800    
   801            Teardown functions must avoid raising exceptions. If they
   802            execute code that might fail they must surround that code with a
   803            ``try``/``except`` block and log any errors.
   804    
   805            The return values of teardown functions are ignored.
   806    
   807            .. versionadded:: 0.9
   808            """
   809            self.teardown_appcontext_funcs.append(f)
   810            return f
   811    
   812        @setupmethod
   813        def shell_context_processor(
   814            self, f: T_shell_context_processor
   815        ) -> T_shell_context_processor:
   816            """Registers a shell context processor function.
   817    
   818            .. versionadded:: 0.11
   819            """
   820            self.shell_context_processors.append(f)
   821            return f
   822    
   823        def _find_error_handler(
   824            self, e: Exception, blueprints: list[str]
   825        ) -> ft.ErrorHandlerCallable | None:
   826            """Return a registered error handler for an exception in this order:
   827            blueprint handler for a specific code, app handler for a specific code,
   828            blueprint handler for an exception class, app handler for an exception
   829            class, or ``None`` if a suitable handler is not found.
   830            """
   831            exc_class, code = self._get_exc_class_and_code(type(e))
   832            names = (*blueprints, None)
   833    
   834            for c in (code, None) if code is not None else (None,):
   835                for name in names:
   836                    handler_map = self.error_handler_spec[name][c]
   837    
   838                    if not handler_map:
   839                        continue
   840    
   841                    for cls in exc_class.__mro__:
   842                        handler = handler_map.get(cls)
   843    
   844                        if handler is not None:
   845                            return handler
   846            return None
   847    
   848        def trap_http_exception(self, e: Exception) -> bool:
   849            """Checks if an HTTP exception should be trapped or not.  By default
   850            this will return ``False`` for all exceptions except for a bad request
   851            key error if ``TRAP_BAD_REQUEST_ERRORS`` is set to ``True``.  It
   852            also returns ``True`` if ``TRAP_HTTP_EXCEPTIONS`` is set to ``True``.
   853    
   854            This is called for all HTTP exceptions raised by a view function.
   855            If it returns ``True`` for any exception the error handler for this
   856            exception is not called and it shows up as regular exception in the
   857            traceback.  This is helpful for debugging implicitly raised HTTP
   858            exceptions.
   859    
   860            .. versionchanged:: 1.0
   861                Bad request errors are not trapped by default in debug mode.
   862    
   863            .. versionadded:: 0.8
   864            """
   865            if self.config["TRAP_HTTP_EXCEPTIONS"]:
   866                return True
   867    
   868            trap_bad_request = self.config["TRAP_BAD_REQUEST_ERRORS"]
   869    
   870            # if unset, trap key errors in debug mode
   871            if (
   872                trap_bad_request is None
   873                and self.debug
   874                and isinstance(e, BadRequestKeyError)
   875            ):
   876                return True
   877    
   878            if trap_bad_request:
   879                return isinstance(e, BadRequest)
   880    
   881            return False
   882    
   883        def should_ignore_error(self, error: BaseException | None) -> bool:
   884            """This is called to figure out if an error should be ignored
   885            or not as far as the teardown system is concerned.  If this
   886            function returns ``True`` then the teardown handlers will not be
   887            passed the error.
   888    
   889            .. versionadded:: 0.10
   890            """
   891            return False
   892    
   893        def redirect(self, location: str, code: int = 302) -> BaseResponse:
   894            """Create a redirect response object.
   895    
   896            This is called by :func:`flask.redirect`, and can be called
   897            directly as well.
   898    
   899            :param location: The URL to redirect to.
   900            :param code: The status code for the redirect.
   901    
   902            .. versionadded:: 2.2
   903                Moved from ``flask.redirect``, which calls this method.
   904            """
   905            return _wz_redirect(
   906                location,
   907                code=code,
   908                Response=self.response_class,  # type: ignore[arg-type]
   909            )
   910    
   911        def inject_url_defaults(self, endpoint: str, values: dict[str, t.Any]) -> None:
   912            """Injects the URL defaults for the given endpoint directly into
   913            the values dictionary passed.  This is used internally and
   914            automatically called on URL building.
   915    
   916            .. versionadded:: 0.7
   917            """
   918            names: t.Iterable[str | None] = (None,)
   919    
   920            # url_for may be called outside a request context, parse the
   921            # passed endpoint instead of using request.blueprints.
   922            if "." in endpoint:
   923                names = chain(
   924                    names, reversed(_split_blueprint_path(endpoint.rpartition(".")[0]))
   925                )
   926    
   927            for name in names:
   928                if name in self.url_default_functions:
   929                    for func in self.url_default_functions[name]:
   930                        func(endpoint, values)
   931    
   932        def handle_url_build_error(
   933            self, error: BuildError, endpoint: str, values: dict[str, t.Any]
   934        ) -> str:
   935            """Called by :meth:`.url_for` if a
   936            :exc:`~werkzeug.routing.BuildError` was raised. If this returns
   937            a value, it will be returned by ``url_for``, otherwise the error
   938            will be re-raised.
   939    
   940            Each function in :attr:`url_build_error_handlers` is called with
   941            ``error``, ``endpoint`` and ``values``. If a function returns
   942            ``None`` or raises a ``BuildError``, it is skipped. Otherwise,
   943            its return value is returned by ``url_for``.
   944    
   945            :param error: The active ``BuildError`` being handled.
   946            :param endpoint: The endpoint being built.
   947            :param values: The keyword arguments passed to ``url_for``.
   948            """
   949            for handler in self.url_build_error_handlers:
   950                try:
   951                    rv = handler(error, endpoint, values)
   952                except BuildError as e:
   953                    # make error available outside except block
   954                    error = e
   955                else:
   956                    if rv is not None:
   957                        return rv
   958    
   959            # Re-raise if called with an active exception, otherwise raise
   960            # the passed in exception.
   961            if error is sys.exc_info()[1]:
   962                raise
   963    
   964            raise error
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/_vendor/autocommand/automain.py
```automain.py
     1    # Copyright 2014-2015 Nathan West
     2    #
     3    # This file is part of autocommand.
     4    #
     5    # autocommand is free software: you can redistribute it and/or modify
     6    # it under the terms of the GNU Lesser General Public License as published by
     7    # the Free Software Foundation, either version 3 of the License, or
     8    # (at your option) any later version.
     9    #
    10    # autocommand is distributed in the hope that it will be useful,
    11    # but WITHOUT ANY WARRANTY; without even the implied warranty of
    12    # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    13    # GNU Lesser General Public License for more details.
    14    #
    15    # You should have received a copy of the GNU Lesser General Public License
    16    # along with autocommand.  If not, see <http://www.gnu.org/licenses/>.
    17    
    18    import sys
    19    from .errors import AutocommandError
    20    
    21    
    22    class AutomainRequiresModuleError(AutocommandError, TypeError):
    23        pass
    24    
    25    
    26    def automain(module, *, args=(), kwargs=None):
    27        '''
    28        This decorator automatically invokes a function if the module is being run
    29        as the "__main__" module. Optionally, provide args or kwargs with which to
    30        call the function. If `module` is "__main__", the function is called, and
    31        the program is `sys.exit`ed with the return value. You can also pass `True`
    32        to cause the function to be called unconditionally. If the function is not
    33        called, it is returned unchanged by the decorator.
    34    
    35        Usage:
    36    
    37        @automain(__name__)  # Pass __name__ to check __name__=="__main__"
    38        def main():
    39            ...
    40    
    41        If __name__ is "__main__" here, the main function is called, and then
    42        sys.exit called with the return value.
    43        '''
    44    
    45        # Check that @automain(...) was called, rather than @automain
    46        if callable(module):
    47            raise AutomainRequiresModuleError(module)
    48    
    49        if module == '__main__' or module is True:
    50            if kwargs is None:
    51                kwargs = {}
    52    
    53            # Use a function definition instead of a lambda for a neater traceback
    54            def automain_decorator(main):
    55                sys.exit(main(*args, **kwargs))
    56    
    57            return automain_decorator
    58        else:
    59            return lambda main: main
```

## File: ./.venv/lib/python3.12/site-packages/dotenv/main.py
```main.py
     1    import io
     2    import logging
     3    import os
     4    import pathlib
     5    import shutil
     6    import stat
     7    import sys
     8    import tempfile
     9    from collections import OrderedDict
    10    from contextlib import contextmanager
    11    from typing import IO, Dict, Iterable, Iterator, Mapping, Optional, Tuple, Union
    12    
    13    from .parser import Binding, parse_stream
    14    from .variables import parse_variables
    15    
    16    # A type alias for a string path to be used for the paths in this file.
    17    # These paths may flow to `open()` and `shutil.move()`; `shutil.move()`
    18    # only accepts string paths, not byte paths or file descriptors. See
    19    # https://github.com/python/typeshed/pull/6832.
    20    StrPath = Union[str, "os.PathLike[str]"]
    21    
    22    logger = logging.getLogger(__name__)
    23    
    24    
    25    def _load_dotenv_disabled() -> bool:
    26        """
    27        Determine if dotenv loading has been disabled.
    28        """
    29        if "PYTHON_DOTENV_DISABLED" not in os.environ:
    30            return False
    31        value = os.environ["PYTHON_DOTENV_DISABLED"].casefold()
    32        return value in {"1", "true", "t", "yes", "y"}
    33    
    34    
    35    def with_warn_for_invalid_lines(mappings: Iterator[Binding]) -> Iterator[Binding]:
    36        for mapping in mappings:
    37            if mapping.error:
    38                logger.warning(
    39                    "python-dotenv could not parse statement starting at line %s",
    40                    mapping.original.line,
    41                )
    42            yield mapping
    43    
    44    
    45    class DotEnv:
    46        def __init__(
    47            self,
    48            dotenv_path: Optional[StrPath],
    49            stream: Optional[IO[str]] = None,
    50            verbose: bool = False,
    51            encoding: Optional[str] = None,
    52            interpolate: bool = True,
    53            override: bool = True,
    54        ) -> None:
    55            self.dotenv_path: Optional[StrPath] = dotenv_path
    56            self.stream: Optional[IO[str]] = stream
    57            self._dict: Optional[Dict[str, Optional[str]]] = None
    58            self.verbose: bool = verbose
    59            self.encoding: Optional[str] = encoding
    60            self.interpolate: bool = interpolate
    61            self.override: bool = override
    62    
    63        @contextmanager
    64        def _get_stream(self) -> Iterator[IO[str]]:
    65            if self.dotenv_path and _is_file_or_fifo(self.dotenv_path):
    66                with open(self.dotenv_path, encoding=self.encoding) as stream:
    67                    yield stream
    68            elif self.stream is not None:
    69                yield self.stream
    70            else:
    71                if self.verbose:
    72                    logger.info(
    73                        "python-dotenv could not find configuration file %s.",
    74                        self.dotenv_path or ".env",
    75                    )
    76                yield io.StringIO("")
    77    
    78        def dict(self) -> Dict[str, Optional[str]]:
    79            """Return dotenv as dict"""
    80            if self._dict:
    81                return self._dict
    82    
    83            raw_values = self.parse()
    84    
    85            if self.interpolate:
    86                self._dict = OrderedDict(
    87                    resolve_variables(raw_values, override=self.override)
    88                )
    89            else:
    90                self._dict = OrderedDict(raw_values)
    91    
    92            return self._dict
    93    
    94        def parse(self) -> Iterator[Tuple[str, Optional[str]]]:
    95            with self._get_stream() as stream:
    96                for mapping in with_warn_for_invalid_lines(parse_stream(stream)):
    97                    if mapping.key is not None:
    98                        yield mapping.key, mapping.value
    99    
   100        def set_as_environment_variables(self) -> bool:
   101            """
   102            Load the current dotenv as system environment variable.
   103            """
   104            if not self.dict():
   105                return False
   106    
   107            for k, v in self.dict().items():
   108                if k in os.environ and not self.override:
   109                    continue
   110                if v is not None:
   111                    os.environ[k] = v
   112    
   113            return True
   114    
   115        def get(self, key: str) -> Optional[str]:
   116            """ """
   117            data = self.dict()
   118    
   119            if key in data:
   120                return data[key]
   121    
   122            if self.verbose:
   123                logger.warning("Key %s not found in %s.", key, self.dotenv_path)
   124    
   125            return None
   126    
   127    
   128    def get_key(
   129        dotenv_path: StrPath,
   130        key_to_get: str,
   131        encoding: Optional[str] = "utf-8",
   132    ) -> Optional[str]:
   133        """
   134        Get the value of a given key from the given .env.
   135    
   136        Returns `None` if the key isn't found or doesn't have a value.
   137        """
   138        return DotEnv(dotenv_path, verbose=True, encoding=encoding).get(key_to_get)
   139    
   140    
   141    @contextmanager
   142    def rewrite(
   143        path: StrPath,
   144        encoding: Optional[str],
   145    ) -> Iterator[Tuple[IO[str], IO[str]]]:
   146        pathlib.Path(path).touch()
   147    
   148        with tempfile.NamedTemporaryFile(mode="w", encoding=encoding, delete=False) as dest:
   149            error = None
   150            try:
   151                with open(path, encoding=encoding) as source:
   152                    yield (source, dest)
   153            except BaseException as err:
   154                error = err
   155    
   156        if error is None:
   157            shutil.move(dest.name, path)
   158        else:
   159            os.unlink(dest.name)
   160            raise error from None
   161    
   162    
   163    def set_key(
   164        dotenv_path: StrPath,
   165        key_to_set: str,
   166        value_to_set: str,
   167        quote_mode: str = "always",
   168        export: bool = False,
   169        encoding: Optional[str] = "utf-8",
   170    ) -> Tuple[Optional[bool], str, str]:
   171        """
   172        Adds or Updates a key/value to the given .env
   173    
   174        If the .env path given doesn't exist, fails instead of risking creating
   175        an orphan .env somewhere in the filesystem
   176        """
   177        if quote_mode not in ("always", "auto", "never"):
   178            raise ValueError(f"Unknown quote_mode: {quote_mode}")
   179    
   180        quote = quote_mode == "always" or (
   181            quote_mode == "auto" and not value_to_set.isalnum()
   182        )
   183    
   184        if quote:
   185            value_out = "'{}'".format(value_to_set.replace("'", "\\'"))
   186        else:
   187            value_out = value_to_set
   188        if export:
   189            line_out = f"export {key_to_set}={value_out}\n"
   190        else:
   191            line_out = f"{key_to_set}={value_out}\n"
   192    
   193        with rewrite(dotenv_path, encoding=encoding) as (source, dest):
   194            replaced = False
   195            missing_newline = False
   196            for mapping in with_warn_for_invalid_lines(parse_stream(source)):
   197                if mapping.key == key_to_set:
   198                    dest.write(line_out)
   199                    replaced = True
   200                else:
   201                    dest.write(mapping.original.string)
   202                    missing_newline = not mapping.original.string.endswith("\n")
   203            if not replaced:
   204                if missing_newline:
   205                    dest.write("\n")
   206                dest.write(line_out)
   207    
   208        return True, key_to_set, value_to_set
   209    
   210    
   211    def unset_key(
   212        dotenv_path: StrPath,
   213        key_to_unset: str,
   214        quote_mode: str = "always",
   215        encoding: Optional[str] = "utf-8",
   216    ) -> Tuple[Optional[bool], str]:
   217        """
   218        Removes a given key from the given `.env` file.
   219    
   220        If the .env path given doesn't exist, fails.
   221        If the given key doesn't exist in the .env, fails.
   222        """
   223        if not os.path.exists(dotenv_path):
   224            logger.warning("Can't delete from %s - it doesn't exist.", dotenv_path)
   225            return None, key_to_unset
   226    
   227        removed = False
   228        with rewrite(dotenv_path, encoding=encoding) as (source, dest):
   229            for mapping in with_warn_for_invalid_lines(parse_stream(source)):
   230                if mapping.key == key_to_unset:
   231                    removed = True
   232                else:
   233                    dest.write(mapping.original.string)
   234    
   235        if not removed:
   236            logger.warning(
   237                "Key %s not removed from %s - key doesn't exist.", key_to_unset, dotenv_path
   238            )
   239            return None, key_to_unset
   240    
   241        return removed, key_to_unset
   242    
   243    
   244    def resolve_variables(
   245        values: Iterable[Tuple[str, Optional[str]]],
   246        override: bool,
   247    ) -> Mapping[str, Optional[str]]:
   248        new_values: Dict[str, Optional[str]] = {}
   249    
   250        for name, value in values:
   251            if value is None:
   252                result = None
   253            else:
   254                atoms = parse_variables(value)
   255                env: Dict[str, Optional[str]] = {}
   256                if override:
   257                    env.update(os.environ)  # type: ignore
   258                    env.update(new_values)
   259                else:
   260                    env.update(new_values)
   261                    env.update(os.environ)  # type: ignore
   262                result = "".join(atom.resolve(env) for atom in atoms)
   263    
   264            new_values[name] = result
   265    
   266        return new_values
   267    
   268    
   269    def _walk_to_root(path: str) -> Iterator[str]:
   270        """
   271        Yield directories starting from the given directory up to the root
   272        """
   273        if not os.path.exists(path):
   274            raise IOError("Starting path not found")
   275    
   276        if os.path.isfile(path):
   277            path = os.path.dirname(path)
   278    
   279        last_dir = None
   280        current_dir = os.path.abspath(path)
   281        while last_dir != current_dir:
   282            yield current_dir
   283            parent_dir = os.path.abspath(os.path.join(current_dir, os.path.pardir))
   284            last_dir, current_dir = current_dir, parent_dir
   285    
   286    
   287    def find_dotenv(
   288        filename: str = ".env",
   289        raise_error_if_not_found: bool = False,
   290        usecwd: bool = False,
   291    ) -> str:
   292        """
   293        Search in increasingly higher folders for the given file
   294    
   295        Returns path to the file if found, or an empty string otherwise
   296        """
   297    
   298        def _is_interactive():
   299            """Decide whether this is running in a REPL or IPython notebook"""
   300            if hasattr(sys, "ps1") or hasattr(sys, "ps2"):
   301                return True
   302            try:
   303                main = __import__("__main__", None, None, fromlist=["__file__"])
   304            except ModuleNotFoundError:
   305                return False
   306            return not hasattr(main, "__file__")
   307    
   308        def _is_debugger():
   309            return sys.gettrace() is not None
   310    
   311        if usecwd or _is_interactive() or _is_debugger() or getattr(sys, "frozen", False):
   312            # Should work without __file__, e.g. in REPL or IPython notebook.
   313            path = os.getcwd()
   314        else:
   315            # will work for .py files
   316            frame = sys._getframe()
   317            current_file = __file__
   318    
   319            while frame.f_code.co_filename == current_file or not os.path.exists(
   320                frame.f_code.co_filename
   321            ):
   322                assert frame.f_back is not None
   323                frame = frame.f_back
   324            frame_filename = frame.f_code.co_filename
   325            path = os.path.dirname(os.path.abspath(frame_filename))
   326    
   327        for dirname in _walk_to_root(path):
   328            check_path = os.path.join(dirname, filename)
   329            if _is_file_or_fifo(check_path):
   330                return check_path
   331    
   332        if raise_error_if_not_found:
   333            raise IOError("File not found")
   334    
   335        return ""
   336    
   337    
   338    def load_dotenv(
   339        dotenv_path: Optional[StrPath] = None,
   340        stream: Optional[IO[str]] = None,
   341        verbose: bool = False,
   342        override: bool = False,
   343        interpolate: bool = True,
   344        encoding: Optional[str] = "utf-8",
   345    ) -> bool:
   346        """Parse a .env file and then load all the variables found as environment variables.
   347    
   348        Parameters:
   349            dotenv_path: Absolute or relative path to .env file.
   350            stream: Text stream (such as `io.StringIO`) with .env content, used if
   351                `dotenv_path` is `None`.
   352            verbose: Whether to output a warning the .env file is missing.
   353            override: Whether to override the system environment variables with the variables
   354                from the `.env` file.
   355            encoding: Encoding to be used to read the file.
   356        Returns:
   357            Bool: True if at least one environment variable is set else False
   358    
   359        If both `dotenv_path` and `stream` are `None`, `find_dotenv()` is used to find the
   360        .env file with it's default parameters. If you need to change the default parameters
   361        of `find_dotenv()`, you can explicitly call `find_dotenv()` and pass the result
   362        to this function as `dotenv_path`.
   363    
   364        If the environment variable `PYTHON_DOTENV_DISABLED` is set to a truthy value,
   365        .env loading is disabled.
   366        """
   367        if _load_dotenv_disabled():
   368            logger.debug(
   369                "python-dotenv: .env loading disabled by PYTHON_DOTENV_DISABLED environment variable"
   370            )
   371            return False
   372    
   373        if dotenv_path is None and stream is None:
   374            dotenv_path = find_dotenv()
   375    
   376        dotenv = DotEnv(
   377            dotenv_path=dotenv_path,
   378            stream=stream,
   379            verbose=verbose,
   380            interpolate=interpolate,
   381            override=override,
   382            encoding=encoding,
   383        )
   384        return dotenv.set_as_environment_variables()
   385    
   386    
   387    def dotenv_values(
   388        dotenv_path: Optional[StrPath] = None,
   389        stream: Optional[IO[str]] = None,
   390        verbose: bool = False,
   391        interpolate: bool = True,
   392        encoding: Optional[str] = "utf-8",
   393    ) -> Dict[str, Optional[str]]:
   394        """
   395        Parse a .env file and return its content as a dict.
   396    
   397        The returned dict will have `None` values for keys without values in the .env file.
   398        For example, `foo=bar` results in `{"foo": "bar"}` whereas `foo` alone results in
   399        `{"foo": None}`
   400    
   401        Parameters:
   402            dotenv_path: Absolute or relative path to the .env file.
   403            stream: `StringIO` object with .env content, used if `dotenv_path` is `None`.
   404            verbose: Whether to output a warning if the .env file is missing.
   405            encoding: Encoding to be used to read the file.
   406    
   407        If both `dotenv_path` and `stream` are `None`, `find_dotenv()` is used to find the
   408        .env file.
   409        """
   410        if dotenv_path is None and stream is None:
   411            dotenv_path = find_dotenv()
   412    
   413        return DotEnv(
   414            dotenv_path=dotenv_path,
   415            stream=stream,
   416            verbose=verbose,
   417            interpolate=interpolate,
   418            override=True,
   419            encoding=encoding,
   420        ).dict()
   421    
   422    
   423    def _is_file_or_fifo(path: StrPath) -> bool:
   424        """
   425        Return True if `path` exists and is either a regular file or a FIFO.
   426        """
   427        if os.path.isfile(path):
   428            return True
   429    
   430        try:
   431            st = os.stat(path)
   432        except (FileNotFoundError, OSError):
   433            return False
   434    
   435        return stat.S_ISFIFO(st.st_mode)
```

## File: ./app/routes/main.py
```main.py
     1    from flask import render_template, request, flash, redirect, url_for, Blueprint
     2    from flask_login import login_required, current_user
     3    from app.extensions import db
     4    from app.models.hotel import Hotel
     5    from app.models.room import Room
     6    from app.models.booking import Booking
     7    from app.forms.booking_forms import BookingForm
     8    
     9    main = Blueprint('main', __name__)
    10    
    11    
    12    @main.route("/")
    13    def index():
    14        """
    15        Главная страница.
    16        """
    17        # Показываем первые 3 отеля из базы
    18        popular_hotels = Hotel.query.order_by(
    19            Hotel.created_at.desc()).limit(3).all()
    20        return render_template("index.html", popular_hotels=popular_hotels)
    21    
    22    
    23    @main.route('/catalog')
    24    def catalog():
    25        """
    26        Каталог отелей с фильтрацией по городу.
    27        """
    28        city = request.args.get('city', '')
    29        query = Hotel.query
    30    
    31        if city:
    32            query = query.filter(Hotel.city.ilike(f'%{city}%'))
    33    
    34        hotels = query.all()
    35        return render_template('catalog.html', hotels=hotels, city=city)
    36    
    37    
    38    @main.route('/hotel/<int:hotel_id>')
    39    def hotel_detail(hotel_id):
    40        """
    41        Страница отеля с номерами.
    42        """
    43        hotel = Hotel.query.get_or_404(hotel_id)
    44        rooms = Room.query.filter_by(hotel_id=hotel_id).all()
    45        return render_template('hotel_detail.html', hotel=hotel, rooms=rooms)
    46    
    47    
    48    @main.route('/hotel/<int:hotel_id>/room/<int:room_id>/book', methods=['GET', 'POST'])
    49    @login_required
    50    def book_room(hotel_id, room_id):
    51        """
    52        Бронирование номера.
    53        """
    54        hotel = Hotel.query.get_or_404(hotel_id)
    55        room = Room.query.filter_by(id=room_id, hotel_id=hotel_id).first_or_404()
    56        form = BookingForm()
    57    
    58        if form.validate_on_submit():
    59            # 1. Проверяем даты
    60            if form.check_in.data >= form.check_out.data:
    61                flash('Дата выезда должна быть позже даты заезда.', 'danger')
    62    
    63            # 2. Проверяем доступность номера
    64            elif not room.is_available(form.check_in.data, form.check_out.data):
    65                flash('К сожалению, номер уже забронирован на эти даты.', 'danger')
    66    
    67            # 3. Проверяем гостей
    68            elif form.guests.data > room.capacity:
    69                flash(
    70                    f'В этот номер можно разместить не более {room.capacity} гостей.', 'danger')
    71            else:
    72                # Всё ок, создаём бронь
    73                nights = (form.check_out.data - form.check_in.data).days
    74                booking = Booking(
    75                    user_id=current_user.id,
    76                    room_id=room.id,
    77                    check_in=form.check_in.data,
    78                    check_out=form.check_out.data,
    79                    guests=form.guests.data,
    80                    total_price=nights * room.price_per_night,
    81                    status='confirmed'
    82                )
    83                db.session.add(booking)
    84                db.session.commit()
    85                flash('Бронирование успешно создано!', 'success')
    86                return redirect(url_for('user.my_bookings'))
    87    
    88        return render_template('book_room.html', hotel=hotel, room=room, form=form)
    89    
    90    
    91    @main.route('/about')
    92    def about():
    93        """Страница о проекте."""
    94        return render_template('about.html')
    95    
    96    
    97    @main.route('/contact')
    98    def contact():
    99        """Страница контактов."""
   100        return render_template('contact.html')
```

## File: ./run.py
```run.py
     1    """
     2    Главный файл приложения Flask.
     3    """
     4    import os
     5    from app import create_app
     6    
     7    from dotenv import load_dotenv
     8    
     9    load_dotenv('.env')
    10    
    11    
    12    application = create_app()
    13    
    14    if __name__ == '__main__':
    15        application.run(host='0.0.0.0', port=8080)
```

# HTML Templates
## File: ./.venv/lib/python3.12/site-packages/setuptools/tests/indexes/test_links_priority/simple/foobar/index.html
```index.html
     1    <html><body>
     2    <a href="/foobar-0.1.tar.gz#md5=0_correct_md5">foobar-0.1.tar.gz</a><br/>
     3    <a href="../../external.html" rel="homepage">external homepage</a><br/>
     4    </body></html>
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/tests/indexes/test_links_priority/external.html
```external.html
     1    <html><body>
     2    <a href="/foobar-0.1.tar.gz#md5=1__bad_md5___">bad old link</a>
     3    </body></html>
```

## File: ./app/templates/user/edit_profile.html
```edit_profile.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Редактирование профиля{% endblock %}
     4    
     5    {% block styles %}
     6    <style>
     7        .edit-profile-container {
     8            max-width: 600px;
     9            margin: 0 auto;
    10        }
    11    
    12        .form-card {
    13            background: white;
    14            border-radius: 12px;
    15            padding: 2rem;
    16            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    17            border: 1px solid rgba(0, 0, 0, 0.05);
    18        }
    19    
    20        .form-header {
    21            margin-bottom: 2rem;
    22            padding-bottom: 1rem;
    23            border-bottom: 2px solid #f0f0f0;
    24        }
    25    
    26        .form-avatar {
    27            width: 80px;
    28            height: 80px;
    29            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    30            border-radius: 50%;
    31            display: flex;
    32            align-items: center;
    33            justify-content: center;
    34            margin: 0 auto 1.5rem;
    35            font-size: 2rem;
    36            color: white;
    37        }
    38    
    39        .form-group {
    40            margin-bottom: 1.5rem;
    41        }
    42    
    43        .form-label {
    44            font-weight: 500;
    45            margin-bottom: 0.5rem;
    46            color: #333;
    47        }
    48    
    49        .form-control {
    50            border: 1px solid #ddd;
    51            border-radius: 8px;
    52            padding: 0.75rem 1rem;
    53            transition: all 0.3s;
    54        }
    55    
    56        .form-control:focus {
    57            border-color: #667eea;
    58            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    59        }
    60    
    61        .form-text {
    62            font-size: 0.85rem;
    63            color: #6c757d;
    64            margin-top: 0.25rem;
    65        }
    66    
    67        .btn-group {
    68            display: flex;
    69            gap: 1rem;
    70            margin-top: 2rem;
    71        }
    72    </style>
    73    {% endblock %}
    74    
    75    {% block content %}
    76    {% include './components/header.html' %}
    77    
    78    <main class="container py-5">
    79        <div class="edit-profile-container">
    80            <div class="form-card">
    81                <!-- Header -->
    82                <div class="form-header text-center">
    83                    <div class="form-avatar">
    84                        <i class="bi bi-person-fill"></i>
    85                    </div>
    86                    <h1 class="h3 mb-2">Редактирование профиля</h1>
    87                    <p class="text-muted mb-0">Обновите свои личные данные</p>
    88                </div>
    89    
    90                <!-- Flash Messages -->
    91                {% with messages = get_flashed_messages(with_categories=true) %}
    92                {% if messages %}
    93                {% for category, message in messages %}
    94                <div class="alert alert-{{ category }} alert-dismissible fade show mb-4">
    95                    {{ message }}
    96                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    97                </div>
    98                {% endfor %}
    99                {% endif %}
   100                {% endwith %}
   101    
   102                <!-- Form -->
   103                <form method="POST" action="{{ url_for('user.edit_profile') }}">
   104                    {{ form.hidden_tag() }}
   105    
   106                    <div class="row">
   107                        <!-- First Name -->
   108                        <div class="col-md-6">
   109                            <div class="form-group">
   110                                {{ form.first_name.label(class="form-label") }}
   111                                {{ form.first_name(class="form-control", placeholder="Иван") }}
   112                                {% if form.first_name.errors %}
   113                                <div class="text-danger small">
   114                                    {% for error in form.first_name.errors %}
   115                                    {{ error }}<br>
   116                                    {% endfor %}
   117                                </div>
   118                                {% endif %}
   119                            </div>
   120                        </div>
   121    
   122                        <!-- Last Name -->
   123                        <div class="col-md-6">
   124                            <div class="form-group">
   125                                {{ form.last_name.label(class="form-label") }}
   126                                {{ form.last_name(class="form-control", placeholder="Иванов") }}
   127                                {% if form.last_name.errors %}
   128                                <div class="text-danger small">
   129                                    {% for error in form.last_name.errors %}
   130                                    {{ error }}<br>
   131                                    {% endfor %}
   132                                </div>
   133                                {% endif %}
   134                            </div>
   135                        </div>
   136                    </div>
   137    
   138                    <!-- Email -->
   139                    <div class="form-group">
   140                        {{ form.email.label(class="form-label") }}
   141                        {{ form.email(class="form-control", placeholder="ivan@example.com") }}
   142                        <div class="form-text">
   143                            Мы никогда не передадим ваш email третьим лицам
   144                        </div>
   145                        {% if form.email.errors %}
   146                        <div class="text-danger small">
   147                            {% for error in form.email.errors %}
   148                            {{ error }}<br>
   149                            {% endfor %}
   150                        </div>
   151                        {% endif %}
   152                    </div>
   153    
   154                    <!-- Phone -->
   155                    <div class="form-group">
   156                        {{ form.phone.label(class="form-label") }}
   157                        {{ form.phone(class="form-control", placeholder="+7 (999) 123-45-67") }}
   158                        <div class="form-text">
   159                            Номер телефона нужен для подтверждения бронирований
   160                        </div>
   161                        {% if form.phone.errors %}
   162                        <div class="text-danger small">
   163                            {% for error in form.phone.errors %}
   164                            {{ error }}<br>
   165                            {% endfor %}
   166                        </div>
   167                        {% endif %}
   168                    </div>
   169    
   170                    <!-- Role Info (readonly) -->
   171                    <div class="form-group">
   172                        <label class="form-label">Ваша роль</label>
   173                        <input type="text" class="form-control bg-light" readonly value="{% if current_user.is_admin %}Администратор
   174                                      {% elif current_user.is_hotel_owner %}Владелец отеля
   175                                      {% else %}Путешественник{% endif %}">
   176                        <div class="form-text">
   177                            Для изменения роли обратитесь к администратору
   178                        </div>
   179                    </div>
   180    
   181                    <!-- Buttons -->
   182                    <div class="btn-group">
   183                        <a href="{{ url_for('user.profile') }}" class="btn btn-outline-secondary flex-grow-1">
   184                            <i class="bi bi-arrow-left me-1"></i>Отмена
   185                        </a>
   186                        {{ form.submit(class="btn btn-primary flex-grow-1") }}
   187                    </div>
   188                </form>
   189    
   190                <!-- Additional Actions -->
   191                <div class="mt-4 pt-3 border-top">
   192                    <div class="d-flex justify-content-between">
   193                        <a href="{{ url_for('user.security') }}" class="btn btn-outline-primary btn-sm">
   194                            <i class="bi bi-shield-lock me-1"></i>Изменить пароль
   195                        </a>
   196                        <!-- Удалена ссылка на notifications, так как роут не существует -->
   197                    </div>
   198                </div>
   199            </div>
   200        </div>
   201    </main>
   202    
   203    {% include './components/footer.html' %}
   204    {% endblock %}```

## File: ./app/templates/user/my_bookings.html
```my_bookings.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Мои бронирования{% endblock %}
     4    
     5    {% block content %}
     6    {% include './components/header.html' %}
     7    
     8    <main class="container py-5">
     9        <h1 class="mb-4">Мои бронирования</h1>
    10    
    11        {% if bookings %}
    12        <div class="table-responsive">
    13            <table class="table table-hover">
    14                <thead>
    15                    <tr>
    16                        <th>Отель / Номер</th>
    17                        <th>Даты</th>
    18                        <th>Гостей</th>
    19                        <th>Стоимость</th>
    20                        <th>Статус</th>
    21                        <th>Действия</th>
    22                    </tr>
    23                </thead>
    24                <tbody>
    25                    {% for booking in bookings %}
    26                    <tr>
    27                        <td>
    28                            <strong>{{ booking.room.hotel.name }}</strong><br>
    29                            <small class="text-muted">{{ booking.room.name }}</small>
    30                        </td>
    31                        <td>
    32                            {{ booking.check_in.strftime('%d.%m.%Y') }}<br>
    33                            <i class="bi bi-arrow-right text-muted"></i><br>
    34                            {{ booking.check_out.strftime('%d.%m.%Y') }}
    35                        </td>
    36                        <td>{{ booking.guests }}</td>
    37                        <td>
    38                            <strong>{{ booking.total_price }} ₽</strong><br>
    39                            <small class="text-muted">
    40                                {{ (booking.total_price / ((booking.check_out - booking.check_in).days))|int }} ₽/ночь
    41                            </small>
    42                        </td>
    43                        <td>
    44                            {% if booking.status == 'confirmed' %}
    45                            <span class="badge bg-success">Подтверждено</span>
    46                            {% elif booking.status == 'cancelled' %}
    47                            <span class="badge bg-danger">Отменено</span>
    48                            {% elif booking.status == 'pending' %}
    49                            <span class="badge bg-warning">Ожидание</span>
    50                            {% endif %}
    51                        </td>
    52                        <td>
    53                            {% if booking.status == 'confirmed' %}
    54                            <form method="POST" action="{{ url_for('user.cancel_booking', booking_id=booking.id) }}"
    55                                class="d-inline" onsubmit="return confirm('Отменить бронирование?')">
    56                                <button type="submit" class="btn btn-sm btn-outline-danger">
    57                                    Отменить
    58                                </button>
    59                            </form>
    60                            {% endif %}
    61                        </td>
    62                    </tr>
    63                    {% endfor %}
    64                </tbody>
    65            </table>
    66        </div>
    67        {% else %}
    68        <div class="text-center py-5">
    69            <div class="mb-3">
    70                <i class="bi bi-calendar-x display-1 text-muted"></i>
    71            </div>
    72            <h4 class="text-muted mb-3">У вас пока нет бронирований</h4>
    73            <p class="text-muted mb-4">Найдите подходящий отель и забронируйте номер</p>
    74            <a href="{{ url_for('main.catalog') }}" class="btn btn-primary">
    75                <i class="bi bi-search me-1"></i>Найти отель
    76            </a>
    77        </div>
    78        {% endif %}
    79    </main>
    80    
    81    {% include './components/footer.html' %}
    82    {% endblock %}```

## File: ./app/templates/user/my_hotels.html
```my_hotels.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Мои отели{% endblock %}
     4    
     5    {% block content %}
     6    {% include './components/header.html' %}
     7    
     8    <main class="container py-5 my-hotels-page">
     9        <div class="d-flex justify-content-between align-items-center mb-4">
    10            <h1 class="h3 mb-0">Мои отели</h1>
    11            <a href="{{ url_for('user.create_hotel') }}" class="btn btn-primary">
    12                <i class="bi bi-plus-circle me-1"></i>Добавить отель
    13            </a>
    14        </div>
    15    
    16        <!-- Сообщения -->
    17        {% with messages = get_flashed_messages(with_categories=true) %}
    18        {% if messages %}
    19        {% for category, message in messages %}
    20        <div class="alert alert-{{ category }} alert-dismissible fade show">
    21            {{ message }}
    22            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    23        </div>
    24        {% endfor %}
    25        {% endif %}
    26        {% endwith %}
    27    
    28        {% if hotels %}
    29        <div class="row">
    30            {% for hotel in hotels %}
    31            <div class="col-md-6 col-lg-4 mb-4">
    32                <div class="card hotel-card h-100">
    33                    <div class="card-body">
    34                        <div class="d-flex justify-content-between align-items-start mb-3">
    35                            <h5 class="card-title mb-0">{{ hotel.name }}</h5>
    36                            <span class="badge bg-warning">Владелец</span>
    37                        </div>
    38    
    39                        <div class="mb-3">
    40                            <p class="card-text text-muted small mb-1">
    41                                <i class="bi bi-geo-alt me-1"></i>{{ hotel.city }}, {{ hotel.address }}
    42                            </p>
    43                            {% if hotel.phone %}
    44                            <p class="card-text text-muted small mb-1">
    45                                <i class="bi bi-telephone me-1"></i>{{ hotel.phone }}
    46                            </p>
    47                            {% endif %}
    48                        </div>
    49    
    50                        <div class="d-flex justify-content-between">
    51                            <a href="{{ url_for('user.hotel_rooms', hotel_id=hotel.id) }}"
    52                                class="btn btn-sm btn-outline-primary">
    53                                Номера
    54                            </a>
    55                            <a href="{{ url_for('user.edit_hotel', hotel_id=hotel.id) }}"
    56                                class="btn btn-sm btn-outline-secondary">
    57                                Редактировать
    58                            </a>
    59                            <form method="POST" action="{{ url_for('user.delete_hotel', hotel_id=hotel.id) }}"
    60                                onsubmit="return confirm('Удалить отель?');">
    61                                {{ form.csrf_token }} <!-- Предполагаем, что CSRF в base.html или добавить -->
    62                                <button type="submit" class="btn btn-sm btn-outline-danger">Удалить</button>
    63                            </form>
    64                        </div>
    65                    </div>
    66                </div>
    67            </div>
    68            {% endfor %}
    69        </div>
    70        {% else %}
    71        <p>У вас нет отелей. Добавьте новый.</p>
    72        {% endif %}
    73    </main>
    74    
    75    {% include './components/footer.html' %}
    76    {% endblock %}```

## File: ./app/templates/user/profile.html
```profile.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Мой профиль{% endblock %}
     4    
     5    {% block content %}
     6    {% include './components/header.html' %}
     7    
     8    <main class="container py-5">
     9        <div class="row">
    10            <!-- Профиль пользователя -->
    11            <div class="col-md-4 mb-4">
    12                <div class="card">
    13                    <div class="card-body text-center">
    14                        <div class="mb-3">
    15                            <i class="bi bi-person-circle display-3 text-primary"></i>
    16                        </div>
    17                        <h3>{{ user.full_name }}</h3>
    18                        <p class="text-muted mb-1">{{ user.email }}</p>
    19                        <p class="text-muted mb-3">{{ user.phone }}</p>
    20    
    21                        <div class="mb-3">
    22                            {% if user.is_admin %}
    23                            <span class="badge bg-danger">Администратор</span>
    24                            {% elif user.is_hotel_owner %}
    25                            <span class="badge bg-primary">Владелец отеля</span>
    26                            {% else %}
    27                            <span class="badge bg-secondary">Пользователь</span>
    28                            {% endif %}
    29                        </div>
    30    
    31                        <p class="text-muted small">
    32                            Зарегистрирован: {{ user.created_at.strftime('%d.%m.%Y') if user.created_at else 'неизвестно' }}
    33                        </p>
    34                    </div>
    35                </div>
    36            </div>
    37    
    38            <!-- Действия -->
    39            <div class="col-md-8">
    40                <div class="card">
    41                    <div class="card-body">
    42                        <h4 class="card-title mb-4">Доступные действия</h4>
    43    
    44                        <div class="row">
    45                            <div class="col-md-6 mb-3">
    46                                <a href="{{ url_for('user.edit_profile') }}"
    47                                    class="card action-card h-100 text-decoration-none">
    48                                    <div class="card-body text-center">
    49                                        <i class="bi bi-pencil-square display-5 text-primary mb-3"></i>
    50                                        <h5>Редактировать профиль</h5>
    51                                        <p class="text-muted small">Изменить личные данные</p>
    52                                    </div>
    53                                </a>
    54                            </div>
    55    
    56                            <div class="col-md-6 mb-3">
    57                                <a href="{{ url_for('user.security') }}"
    58                                    class="card action-card h-100 text-decoration-none">
    59                                    <div class="card-body text-center">
    60                                        <i class="bi bi-shield-lock display-5 text-warning mb-3"></i>
    61                                        <h5>Безопасность</h5>
    62                                        <p class="text-muted small">Сменить пароль</p>
    63                                    </div>
    64                                </a>
    65                            </div>
    66    
    67                            <div class="col-md-6 mb-3">
    68                                <a href="{{ url_for('user.my_bookings') }}"
    69                                    class="card action-card h-100 text-decoration-none">
    70                                    <div class="card-body text-center">
    71                                        <i class="bi bi-calendar-check display-5 text-success mb-3"></i>
    72                                        <h5>Мои бронирования</h5>
    73                                        <p class="text-muted small">Просмотреть и управлять</p>
    74                                    </div>
    75                                </a>
    76                            </div>
    77    
    78                            {% if user.is_hotel_owner %}
    79                            <div class="col-md-6 mb-3">
    80                                <a href="{{ url_for('user.my_hotels') }}"
    81                                    class="card action-card h-100 text-decoration-none">
    82                                    <div class="card-body text-center">
    83                                        <i class="bi bi-building display-5 text-info mb-3"></i>
    84                                        <h5>Мои отели</h5>
    85                                        <p class="text-muted small">Управление отелями</p>
    86                                    </div>
    87                                </a>
    88                            </div>
    89                            {% endif %}
    90                        </div>
    91    
    92                        <!-- Кнопка выхода -->
    93                        <div class="mt-4 pt-3 border-top">
    94                            <a href="{{ url_for('user.logout') }}" class="btn btn-outline-danger w-100">
    95                                <i class="bi bi-box-arrow-right me-2"></i>Выйти
    96                            </a>
    97                        </div>
    98                    </div>
    99                </div>
   100            </div>
   101        </div>
   102    </main>
   103    
   104    {% include './components/footer.html' %}
   105    {% endblock %}
   106    
   107    {% block styles %}
   108    <style>
   109        .action-card {
   110            transition: transform 0.2s;
   111            border: 1px solid #e0e0e0;
   112        }
   113    
   114        .action-card:hover {
   115            transform: translateY(-5px);
   116            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
   117        }
   118    </style>
   119    {% endblock %}```

## File: ./app/templates/user/security.html
```security.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Безопасность{% endblock %}
     4    
     5    {% block content %}
     6    {% include './components/header.html' %}
     7    
     8    <main class="container py-5">
     9        <div class="row justify-content-center">
    10            <div class="col-md-6">
    11                <div class="card">
    12                    <div class="card-body">
    13                        <h1 class="h4 mb-4">Смена пароля</h1>
    14    
    15                        {% with messages = get_flashed_messages(with_categories=true) %}
    16                        {% if messages %}
    17                        {% for category, message in messages %}
    18                        <div class="alert alert-{{ category }} alert-dismissible fade show mb-4">
    19                            {{ message }}
    20                            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    21                        </div>
    22                        {% endfor %}
    23                        {% endif %}
    24                        {% endwith %}
    25    
    26                        <form method="POST">
    27                            {{ form.hidden_tag() }}
    28    
    29                            <div class="mb-3">
    30                                {{ form.current_password.label(class="form-label") }}
    31                                {{ form.current_password(class="form-control") }}
    32                            </div>
    33    
    34                            <div class="mb-3">
    35                                {{ form.new_password.label(class="form-label") }}
    36                                {{ form.new_password(class="form-control") }}
    37                            </div>
    38    
    39                            <div class="mb-4">
    40                                {{ form.confirm_password.label(class="form-label") }}
    41                                {{ form.confirm_password(class="form-control") }}
    42                            </div>
    43    
    44                            <div class="d-grid">
    45                                {{ form.submit(class="btn btn-primary") }}
    46                            </div>
    47                        </form>
    48    
    49                        <div class="mt-4 pt-3 border-top">
    50                            <a href="{{ url_for('user.profile') }}" class="btn btn-outline-secondary">
    51                                <i class="bi bi-arrow-left me-1"></i>Назад в профиль
    52                            </a>
    53                        </div>
    54                    </div>
    55                </div>
    56            </div>
    57        </div>
    58    </main>
    59    
    60    {% include './components/footer.html' %}
    61    {% endblock %}```

## File: ./app/templates/user/login.html
```login.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Вход{% endblock %}
     4    
     5    {% block content %}
     6    {% include './components/header.html' %}
     7    
     8    <main class="container py-5">
     9        <div class="row justify-content-center">
    10            <div class="col-md-5">
    11                <div class="card">
    12                    <div class="card-body p-4">
    13                        <h1 class="h3 mb-4 text-center">Вход</h1>
    14    
    15                        <!-- Сообщения -->
    16                        {% with messages = get_flashed_messages(with_categories=true) %}
    17                        {% if messages %}
    18                        {% for category, message in messages %}
    19                        <div class="alert alert-{{ category }} alert-dismissible fade show">
    20                            {{ message }}
    21                            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    22                        </div>
    23                        {% endfor %}
    24                        {% endif %}
    25                        {% endwith %}
    26    
    27                        <form method="POST" action="{{ url_for('user.login') }}">
    28                            {{ form.hidden_tag() }}
    29    
    30                            <div class="mb-3">
    31                                {{ form.email.label(class="form-label") }}
    32                                {{ form.email(class="form-control") }}
    33                            </div>
    34    
    35                            <div class="mb-3">
    36                                {{ form.password.label(class="form-label") }}
    37                                {{ form.password(class="form-control") }}
    38                            </div>
    39    
    40                            <div class="d-grid">
    41                                {{ form.submit(class="btn btn-primary") }}
    42                            </div>
    43                        </form>
    44    
    45                        <div class="text-center mt-3">
    46                            Нет аккаунта? <a href="{{ url_for('user.register') }}">Зарегистрироваться</a>
    47                        </div>
    48                    </div>
    49                </div>
    50            </div>
    51        </div>
    52    </main>
    53    
    54    {% include './components/footer.html' %}
    55    {% endblock %}```

## File: ./app/templates/user/hotel_form.html
```hotel_form.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}{{ title }}{% endblock %}
     4    
     5    {% block content %}
     6    {% include './components/header.html' %}
     7    
     8    <main class="container py-5">
     9        <h1 class="mb-4">{{ title }}</h1>
    10    
    11        {% with messages = get_flashed_messages(with_categories=true) %}
    12        {% if messages %}
    13        {% for category, message in messages %}
    14        <div class="alert alert-{{ category }} alert-dismissible fade show">
    15            {{ message }}
    16            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    17        </div>
    18        {% endfor %}
    19        {% endif %}
    20        {% endwith %}
    21    
    22        <form method="POST">
    23            {{ form.hidden_tag() }}
    24            <div class="mb-3">
    25                {{ form.name.label }} {{ form.name(class="form-control") }}
    26            </div>
    27            <div class="mb-3">
    28                {{ form.description.label }} {{ form.description(class="form-control") }}
    29            </div>
    30            <div class="mb-3">
    31                {{ form.address.label }} {{ form.address(class="form-control") }}
    32            </div>
    33            <div class="mb-3">
    34                {{ form.city.label }} {{ form.city(class="form-control") }}
    35            </div>
    36            <div class="mb-3">
    37                {{ form.phone.label }} {{ form.phone(class="form-control") }}
    38            </div>
    39            <div class="mb-3">
    40                {{ form.email.label }} {{ form.email(class="form-control") }}
    41            </div>
    42            {{ form.submit(class="btn btn-primary") }}
    43        </form>
    44    </main>
    45    
    46    {% include './components/footer.html' %}
    47    {% endblock %}```

## File: ./app/templates/user/register.html
```register.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Регистрация{% endblock %}
     4    
     5    {% block content %}
     6    {% include './components/header.html' %}
     7    
     8    <main class="container py-5">
     9        <div class="row justify-content-center">
    10            <div class="col-md-6">
    11                <div class="card">
    12                    <div class="card-body p-4">
    13                        <h1 class="h3 mb-4 text-center">Регистрация</h1>
    14    
    15                        <!-- Сообщения -->
    16                        {% with messages = get_flashed_messages(with_categories=true) %}
    17                        {% if messages %}
    18                        {% for category, message in messages %}
    19                        <div class="alert alert-{{ category }} alert-dismissible fade show">
    20                            {{ message }}
    21                            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    22                        </div>
    23                        {% endfor %}
    24                        {% endif %}
    25                        {% endwith %}
    26    
    27                        <form method="POST" action="{{ url_for('user.register') }}">
    28                            {{ form.hidden_tag() }}
    29    
    30                            <div class="mb-3">
    31                                {{ form.email.label(class="form-label") }}
    32                                {{ form.email(class="form-control") }}
    33                                {% if form.email.errors %}
    34                                <div class="text-danger">
    35                                    {% for error in form.email.errors %}
    36                                    <small>{{ error }}</small><br>
    37                                    {% endfor %}
    38                                </div>
    39                                {% endif %}
    40                            </div>
    41    
    42                            <div class="mb-3">
    43                                {{ form.phone.label(class="form-label") }}
    44                                {{ form.phone(class="form-control") }}
    45                                {% if form.phone.errors %}
    46                                <div class="text-danger">
    47                                    {% for error in form.phone.errors %}
    48                                    <small>{{ error }}</small><br>
    49                                    {% endfor %}
    50                                </div>
    51                                {% endif %}
    52                            </div>
    53    
    54                            <div class="row">
    55                                <div class="col-md-6 mb-3">
    56                                    {{ form.first_name.label(class="form-label") }}
    57                                    {{ form.first_name(class="form-control") }}
    58                                </div>
    59                                <div class="col-md-6 mb-3">
    60                                    {{ form.last_name.label(class="form-label") }}
    61                                    {{ form.last_name(class="form-control") }}
    62                                </div>
    63                            </div>
    64    
    65                            <div class="mb-3">
    66                                {{ form.password.label(class="form-label") }}
    67                                {{ form.password(class="form-control") }}
    68                            </div>
    69    
    70                            <div class="mb-3">
    71                                {{ form.password_confirm.label(class="form-label") }}
    72                                {{ form.password_confirm(class="form-control") }}
    73                            </div>
    74    
    75                            <div class="mb-3">
    76                                {{ form.role.label(class="form-label") }}
    77                                {{ form.role(class="form-select") }}
    78                            </div>
    79    
    80                            <div class="d-grid">
    81                                {{ form.submit(class="btn btn-primary") }}
    82                            </div>
    83                        </form>
    84    
    85                        <div class="text-center mt-3">
    86                            Уже есть аккаунт? <a href="{{ url_for('user.login') }}">Войти</a>
    87                        </div>
    88                    </div>
    89                </div>
    90            </div>
    91        </div>
    92    </main>
    93    
    94    {% include './components/footer.html' %}
    95    {% endblock %}```

## File: ./app/templates/user/hotel_rooms.html
```hotel_rooms.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Номера в {{ hotel.name }}{% endblock %}
     4    
     5    {% block content %}
     6    {% include './components/header.html' %}
     7    
     8    <main class="container py-5">
     9        <div class="d-flex justify-content-between align-items-center mb-4">
    10            <h1 class="h3 mb-0">Номера в {{ hotel.name }}</h1>
    11            <a href="{{ url_for('user.create_room', hotel_id=hotel.id) }}" class="btn btn-primary">
    12                <i class="bi bi-plus-circle me-1"></i>Добавить номер
    13            </a>
    14        </div>
    15    
    16        <!-- Сообщения -->
    17        {% with messages = get_flashed_messages(with_categories=true) %}
    18        {% if messages %}
    19        {% for category, message in messages %}
    20        <div class="alert alert-{{ category }} alert-dismissible fade show">
    21            {{ message }}
    22            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    23        </div>
    24        {% endfor %}
    25        {% endif %}
    26        {% endwith %}
    27    
    28        {% if rooms %}
    29        <div class="row">
    30            {% for room in rooms %}
    31            <div class="col-md-6 mb-4">
    32                <div class="card">
    33                    <div class="card-body">
    34                        <h5 class="card-title">{{ room.name }}</h5>
    35                        <p class="card-text">{{ room.description }}</p>
    36                        <p class="card-text"><strong>Цена:</strong> {{ room.price_per_night }} ₽/ночь</p>
    37                        <p class="card-text"><strong>Вместимость:</strong> {{ room.capacity }}</p>
    38                        <div class="d-flex justify-content-between">
    39                            <a href="{{ url_for('user.edit_room', hotel_id=hotel.id, room_id=room.id) }}"
    40                                class="btn btn-sm btn-outline-secondary">Редактировать</a>
    41                            <form method="POST"
    42                                action="{{ url_for('user.delete_room', hotel_id=hotel.id, room_id=room.id) }}"
    43                                onsubmit="return confirm('Удалить номер?');">
    44                                {{ form.csrf_token }} <!-- Предполагаем CSRF -->
    45                                <button type="submit" class="btn btn-sm btn-outline-danger">Удалить</button>
    46                            </form>
    47                        </div>
    48                    </div>
    49                </div>
    50            </div>
    51            {% endfor %}
    52        </div>
    53        {% else %}
    54        <p>В отеле нет номеров. Добавьте новый.</p>
    55        {% endif %}
    56    </main>
    57    
    58    {% include './components/footer.html' %}
    59    {% endblock %}```

## File: ./app/templates/user/room_form.html
```room_form.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}{{ title }}{% endblock %}
     4    
     5    {% block content %}
     6    {% include './components/header.html' %}
     7    
     8    <main class="container py-5">
     9        <h1 class="mb-4">{{ title }}</h1>
    10    
    11        {% with messages = get_flashed_messages(with_categories=true) %}
    12        {% if messages %}
    13        {% for category, message in messages %}
    14        <div class="alert alert-{{ category }} alert-dismissible fade show">
    15            {{ message }}
    16            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    17        </div>
    18        {% endfor %}
    19        {% endif %}
    20        {% endwith %}
    21    
    22        <form method="POST">
    23            {{ form.hidden_tag() }}
    24            <div class="mb-3">
    25                {{ form.name.label }} {{ form.name(class="form-control") }}
    26            </div>
    27            <div class="mb-3">
    28                {{ form.description.label }} {{ form.description(class="form-control") }}
    29            </div>
    30            <div class="mb-3">
    31                {{ form.price_per_night.label }} {{ form.price_per_night(class="form-control") }}
    32            </div>
    33            <div class="mb-3">
    34                {{ form.capacity.label }} {{ form.capacity(class="form-control") }}
    35            </div>
    36            <div class="mb-3">
    37                {{ form.amenities.label }} {{ form.amenities(class="form-control") }}
    38            </div>
    39            <div class="mb-3">
    40                {{ form.image_url.label }} {{ form.image_url(class="form-control") }}
    41            </div>
    42            {{ form.submit(class="btn btn-primary") }}
    43        </form>
    44    </main>
    45    
    46    {% include './components/footer.html' %}
    47    {% endblock %}```

## File: ./app/templates/components/footer.html
```footer.html
     1    <footer class="footer bg-dark text-light">
     2        <div class="container py-5">
     3            <div class="row g-4">
     4                <!-- Колонка 1: О компании -->
     5                <div class="col-lg-4 col-md-6">
     6                    <div class="d-flex align-items-start mb-4">
     7                        <i class="bi bi-building fs-3 text-orange me-3"></i>
     8                        <div>
     9                            <h3 class="h5 fw-bold mb-1">OrangeStay</h3>
    10                            <p class="text-muted small mb-0">отели по всей России</p>
    11                        </div>
    12                    </div>
    13                    <p class="text-secondary mb-4">
    14                        Бронируйте отели с гарантией лучшей цены. Более 50 000 вариантов размещения. Без скрытых комиссий.
    15                    </p>
    16                    <div class="d-flex align-items-center mb-3">
    17                        <a href="https://t.me/Leha_coldfish" class="footer-social-link me-3">
    18                            <i class="bi bi-telegram"></i>
    19                        </a>
    20                        <span class="text-secondary small">Telegram автора проекта</span>
    21                    </div>
    22                    <div class="d-flex align-items-center">
    23                        <a href="https://github.com/AlekseyIrlik" class="footer-social-link me-3">
    24                            <i class="bi bi-github"></i>
    25                        </a>
    26                        <span class="text-secondary small">GitHub автора проекта</span>
    27                    </div>
    28                </div>
    29    
    30                <!-- Колонка 2: Навигация -->
    31                <div class="col-lg-2 col-md-6">
    32                    <h4 class="h6 fw-bold mb-4 position-relative footer-title">OrangeStay</h4>
    33                    <ul class="list-unstyled footer-list">
    34                        <li class="mb-2"><a href="#" class="footer-link">Поиск отелей</a></li>
    35                        <li class="mb-2"><a href="#" class="footer-link">Спецпредложения</a></li>
    36                        <li class="mb-2"><a href="#" class="footer-link">Для бизнеса</a></li>
    37                        <li class="mb-2"><a href="#" class="footer-link">Отзывы</a></li>
    38                        <li class="mb-2"><a href="#" class="footer-link">Помощь</a></li>
    39                    </ul>
    40                </div>
    41    
    42                <!-- Колонка 3: Контакты -->
    43                <div class="col-lg-3 col-md-6">
    44                    <h4 class="h6 fw-bold mb-4 position-relative footer-title">Контакты</h4>
    45                    <div class="footer-contacts">
    46                        <div class="d-flex align-items-start mb-3">
    47                            <i class="bi bi-telephone text-orange me-2 mt-1"></i>
    48                            <div>
    49                                <div class="fw-medium">8 999 999-99-99</div>
    50                                <small class="text-secondary">Бесплатно по РФ</small>
    51                            </div>
    52                        </div>
    53                        <div class="d-flex align-items-start mb-3">
    54                            <i class="bi bi-envelope text-orange me-2 mt-1"></i>
    55                            <div>
    56                                <div class="fw-medium">support@orangestay.ru</div>
    57                                <small class="text-secondary">Ответим за 24 часа</small>
    58                            </div>
    59                        </div>
    60                        <div class="d-flex align-items-start">
    61                            <i class="bi bi-clock text-orange me-2 mt-1"></i>
    62                            <div>
    63                                <div class="fw-medium">Поддержка 24/7</div>
    64                                <small class="text-secondary">Горячая линия</small>
    65                            </div>
    66                        </div>
    67                    </div>
    68                </div>
    69    
    70                <!-- Колонка 4: Юридическая информация -->
    71                <div class="col-lg-3 col-md-6">
    72                    <h4 class="h6 fw-bold mb-4 position-relative footer-title">Информация</h4>
    73                    <ul class="list-unstyled footer-list">
    74                        <li class="mb-2"><a href="#" class="footer-link">Политика конфиденциальности</a></li>
    75                        <li class="mb-2"><a href="#" class="footer-link">Условия использования</a></li>
    76                        <li class="mb-2"><a href="#" class="footer-link">Правовая информация</a></li>
    77                        <li class="mb-2"><a href="#" class="footer-link">Обработка данных</a></li>
    78                    </ul>
    79                </div>
    80            </div>
    81    
    82            <!-- Нижняя часть -->
    83            <div class="row mt-5 pt-4 border-top border-secondary">
    84                <div class="col-md-8 mb-3 mb-md-0">
    85                    <p class="text-secondary small mb-2">
    86                        © 2025 OrangeStay. Сайт создан с надеждой найти работу студентом группы ИСТ-31.
    87                    </p>
    88                    <p class="text-secondary small">
    89                        Все цены указаны в евро-долларах из cyberpunk 2077. Данные вымышлены.
    90                    </p>
    91                </div>
    92                <div class="col-md-4 text-md-end">
    93                    <div class="d-flex align-items-center justify-content-md-end gap-3">
    94                        <span class="text-secondary small">Безопасная оплата:</span>
    95                        <div class="d-flex gap-2">
    96                            <i class="bi bi-credit-card text-secondary fs-5" title="Visa"></i>
    97                            <i class="bi bi-credit-card-fill text-secondary fs-5" title="Mastercard"></i>
    98                            <i class="bi bi-phone text-secondary fs-5" title="Мир"></i>
    99                        </div>
   100                    </div>
   101                </div>
   102            </div>
   103        </div>
   104    </footer>```

## File: ./app/templates/components/header.html
```header.html
     1    <!-- Хедер -->
     2    <header class="site-header sticky-top">
     3        <nav class="navbar navbar-expand-lg">
     4            <div class="container">
     5                <!-- Левая часть: кнопка Каталог + логотип -->
     6                <div class="header-left-group">
     7                    <!-- Кнопка Каталог для десктопа -->
     8                    <a href="{{ url_for('main.catalog') }}" class="btn btn-catalog desktop-only">
     9                        <i class="bi bi-grid"></i>
    10                        Каталог
    11                    </a>
    12    
    13                    <!-- Логотип -->
    14                    <a class="header-logo" href="{{ url_for('main.index') }}">
    15                        <i class="bi bi-building"></i>
    16                        <div class="logo-text">
    17                            <div class="logo-main">OrangeStay</div>
    18                            <div class="logo-sub d-none d-sm-block">бронирование отелей</div>
    19                        </div>
    20                    </a>
    21                </div>
    22    
    23                <!-- Бургер меню для мобильных -->
    24                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
    25                    <i class="bi bi-list"></i>
    26                </button>
    27    
    28                <!-- Основной контент -->
    29                <div class="collapse navbar-collapse" id="navbarContent">
    30                    <!-- Кнопка Каталог для мобильных -->
    31                    <a href="{{ url_for('main.catalog') }}" class="btn btn-catalog mobile-only">
    32                        <i class="bi bi-grid"></i>
    33                        Каталог номеров
    34                    </a>
    35    
    36    
    37                    <!-- Кнопки авторизации -->
    38                    <div class="header-buttons d-flex align-items-center gap-2">
    39                        {% if current_user.is_authenticated %}
    40                        <!-- Пользователь вошел -->
    41                        <div class="dropdown">
    42                            <button class="btn btn-outline-secondary dropdown-toggle" type="button"
    43                                data-bs-toggle="dropdown">
    44                                <i class="bi bi-person-circle me-1"></i>
    45                                {{ current_user.first_name }}
    46                            </button>
    47                            <ul class="dropdown-menu">
    48                                <li><a class="dropdown-item" href="{{ url_for('user.profile') }}">
    49                                        <i class="bi bi-person me-2"></i>Профиль
    50                                    </a></li>
    51    
    52                                {% if current_user.is_hotel_owner %}
    53                                <li><a class="dropdown-item" href="{{ url_for('user.my_hotels') }}">
    54                                        <i class="bi bi-building me-2"></i>Мои отели
    55                                    </a></li>
    56                                {% endif %}
    57    
    58                                <li><a class="dropdown-item" href="{{ url_for('user.my_bookings') }}">
    59                                        <i class="bi bi-calendar-check me-2"></i>Мои бронирования
    60                                    </a></li>
    61    
    62                                <li>
    63                                    <hr class="dropdown-divider">
    64                                </li>
    65    
    66                                {% if current_user.is_admin %}
    67                                <li><a class="dropdown-item" href="{{ url_for('admin.dashboard') }}">
    68                                        <i class="bi bi-speedometer2 me-2"></i>Админка
    69                                    </a></li>
    70                                <li>
    71                                    <hr class="dropdown-divider">
    72                                </li>
    73                                {% endif %}
    74    
    75                                <li><a class="dropdown-item" href="{{ url_for('user.logout') }}">
    76                                        <i class="bi bi-box-arrow-right me-2"></i>Выйти
    77                                    </a></li>
    78                            </ul>
    79                        </div>
    80                        {% else %}
    81                        <!-- Пользователь не вошел -->
    82                        <a href="{{ url_for('user.login') }}" class="btn btn-login">Вход</a>
    83                        <a href="{{ url_for('user.register') }}" class="btn btn-signup">Регистрация</a>
    84                        {% endif %}
    85                    </div>
    86                </div>
    87            </div>
    88        </nav>
    89    </header>```

## File: ./app/templates/404.html
```404.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Страница не найдена{% endblock %}
     4    
     5    {% block content %}
     6    {% include "./components/header.html" %}
     7    
     8    <main class="container py-5">
     9        <div class="text-center py-5">
    10            <div class="mb-3">
    11                <i class="bi bi-emoji-frown display-1 text-muted"></i>
    12            </div>
    13            <h1 class="h3 mb-3">Страница не найдена</h1>
    14            <p class="text-muted mb-4">
    15                Возможно, страница была удалена или вы перешли по неверной ссылке.
    16            </p>
    17            <a href="{{ url_for('main.index') }}" class="btn btn-primary">
    18                <i class="bi bi-arrow-left me-2"></i>На главную
    19            </a>
    20        </div>
    21    </main>
    22    
    23    {% include "./components/footer.html" %}
    24    {% endblock %}
    25    
    26    
```

## File: ./app/templates/hotel_detail.html
```hotel_detail.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}{{ hotel.name }}{% endblock %}
     4    
     5    {% block styles %}
     6    <style>
     7        .hotel-hero {
     8            height: 300px;
     9            object-fit: cover;
    10            border-radius: var(--btn-radius);
    11        }
    12    
    13        .room-card {
    14            border: 1px solid var(--border);
    15            border-radius: var(--btn-radius);
    16            transition: all var(--transition-time);
    17            height: 100%;
    18        }
    19    
    20        .room-card:hover {
    21            border-color: var(--orange);
    22            box-shadow: 0 5px 15px rgba(255, 109, 0, 0.1);
    23        }
    24    
    25        .amenity-badge {
    26            background: var(--gray-light);
    27            padding: 0.3em 0.8em;
    28            border-radius: 20px;
    29            font-size: 0.85em;
    30            margin-right: 0.5em;
    31            margin-bottom: 0.5em;
    32            display: inline-block;
    33        }
    34    
    35        .capacity-badge {
    36            background: rgba(13, 110, 253, 0.1);
    37            color: #0d6efd;
    38        }
    39    </style>
    40    {% endblock %}
    41    
    42    {% block content %}
    43    {% include './components/header.html' %}
    44    
    45    <main class="container py-5">
    46        <!-- Хлебные крошки -->
    47        <nav aria-label="breadcrumb" class="mb-4">
    48            <ol class="breadcrumb">
    49                <li class="breadcrumb-item"><a href="{{ url_for('main.index') }}">Главная</a></li>
    50                <li class="breadcrumb-item"><a href="{{ url_for('main.catalog') }}">Каталог</a></li>
    51                <li class="breadcrumb-item active">{{ hotel.name|truncate(30) }}</li>
    52            </ol>
    53        </nav>
    54    
    55        <!-- Заголовок и фото -->
    56        <div class="row mb-5">
    57            <div class="col-md-8">
    58                <h1 class="mb-3">{{ hotel.name }}</h1>
    59                <div class="d-flex align-items-center gap-3 mb-3">
    60                    <span class="city-badge" style="background: rgba(255, 109, 0, 0.1); color: var(--orange);">
    61                        <i class="bi bi-geo-alt me-1"></i>{{ hotel.city }}
    62                    </span>
    63                    {% if hotel.phone %}
    64                    <span class="text-muted">
    65                        <i class="bi bi-telephone me-1"></i>{{ hotel.phone }}
    66                    </span>
    67                    {% endif %}
    68                </div>
    69            </div>
    70        </div>
    71    
    72        <div class="row">
    73            <!-- Основная информация -->
    74            <div class="col-lg-8">
    75                <!-- Фото (заглушка) -->
    76                <div class="mb-4">
    77                    <img src="{{ url_for('static', filename='img/hotel.webp') }}" alt="{{ hotel.name }}"
    78                        class="hotel-hero w-100">
    79                </div>
    80    
    81                <!-- Описание -->
    82                {% if hotel.description %}
    83                <div class="card mb-4">
    84                    <div class="card-body">
    85                        <h5 class="card-title">Об отеле</h5>
    86                        <p class="card-text">{{ hotel.description }}</p>
    87                    </div>
    88                </div>
    89                {% endif %}
    90    
    91                <!-- Номера -->
    92                <h3 class="mb-4">Доступные номера</h3>
    93    
    94                {% if rooms %}
    95                <div class="row g-4">
    96                    {% for room in rooms %}
    97                    <div class="col-md-6">
    98                        <div class="card room-card h-100">
    99                            {% if room.image_url %}
   100                            <img src="{{ room.image_url }}" class="card-img-top" alt="{{ room.name }}"
   101                                style="height: 200px; object-fit: cover;">
   102                            {% else %}
   103                            <div class="card-img-top bg-light d-flex align-items-center justify-content-center"
   104                                style="height: 200px;">
   105                                <i class="bi bi-image text-muted" style="font-size: 3rem;"></i>
   106                            </div>
   107                            {% endif %}
   108    
   109                            <div class="card-body d-flex flex-column">
   110                                <h5 class="card-title">{{ room.name }}</h5>
   111                                <p class="card-text text-muted small flex-grow-1">
   112                                    {{ room.description|truncate(150) }}
   113                                </p>
   114    
   115                                <!-- Удобства -->
   116                                {% if room.amenities %}
   117                                <div class="my-3">
   118                                    <p class="small text-muted mb-2">Удобства в номере:</p>
   119                                    <div>
   120                                        {% for amenity in room.amenities.split(',') %}
   121                                        <span class="amenity-badge">{{ amenity.strip() }}</span>
   122                                        {% endfor %}
   123                                    </div>
   124                                </div>
   125                                {% endif %}
   126    
   127                                <div class="mt-auto">
   128                                    <div class="d-flex justify-content-between align-items-center mb-3">
   129                                        <div>
   130                                            <span class="capacity-badge amenity-badge">
   131                                                <i class="bi bi-people me-1"></i>До {{ room.capacity }} чел.
   132                                            </span>
   133                                        </div>
   134                                        <div class="text-end">
   135                                            <div class="price-tag">{{ room.price_per_night }} ₽</div>
   136                                            <p class="text-muted small mb-0">за ночь</p>
   137                                        </div>
   138                                    </div>
   139    
   140                                    <a href="{{ url_for('main.book_room', hotel_id=hotel.id, room_id=room.id) }}"
   141                                        class="btn btn-primary w-100">
   142                                        <i class="bi bi-calendar-check me-2"></i>Забронировать
   143                                    </a>
   144                                </div>
   145                            </div>
   146                        </div>
   147                    </div>
   148                    {% endfor %}
   149                </div>
   150                {% else %}
   151                <div class="alert alert-info">
   152                    <i class="bi bi-info-circle me-2"></i>
   153                    В этом отеле пока нет доступных номеров.
   154                </div>
   155                {% endif %}
   156            </div>
   157    
   158            <!-- Боковая панель с контактами -->
   159            <div class="col-lg-4">
   160                <div class="card sticky-top" style="top: 20px;">
   161                    <div class="card-body">
   162                        <h5 class="card-title mb-4">Контакты и информация</h5>
   163    
   164                        <ul class="list-unstyled">
   165                            <li class="mb-3">
   166                                <strong><i class="bi bi-geo-alt text-primary me-2"></i>Адрес:</strong><br>
   167                                {{ hotel.address }}
   168                            </li>
   169                            <li class="mb-3">
   170                                <strong><i class="bi bi-building text-primary me-2"></i>Город:</strong><br>
   171                                {{ hotel.city }}
   172                            </li>
   173                            {% if hotel.phone %}
   174                            <li class="mb-3">
   175                                <strong><i class="bi bi-telephone text-primary me-2"></i>Телефон:</strong><br>
   176                                {{ hotel.phone }}
   177                            </li>
   178                            {% endif %}
   179                            {% if hotel.email %}
   180                            <li class="mb-3">
   181                                <strong><i class="bi bi-envelope text-primary me-2"></i>Email:</strong><br>
   182                                <a href="mailto:{{ hotel.email }}">{{ hotel.email }}</a>
   183                            </li>
   184                            {% endif %}
   185                            <li class="mb-3">
   186                                <strong><i class="bi bi-door-closed text-primary me-2"></i>Количество номеров:</strong><br>
   187                                {{ rooms|length }}
   188                            </li>
   189                        </ul>
   190    
   191                        <div class="mt-4">
   192                            <a href="{{ url_for('main.catalog') }}" class="btn btn-outline-primary w-100 mb-2">
   193                                <i class="bi bi-arrow-left me-2"></i>Вернуться к поиску
   194                            </a>
   195                            {% if current_user.is_authenticated and current_user.is_hotel_owner and hotel.owner_id ==
   196                            current_user.id %}
   197                            <a href="{{ url_for('user.hotel_rooms', hotel_id=hotel.id) }}"
   198                                class="btn btn-outline-secondary w-100">
   199                                <i class="bi bi-gear me-2"></i>Управление номерами
   200                            </a>
   201                            {% endif %}
   202                        </div>
   203                    </div>
   204                </div>
   205            </div>
   206        </div>
   207    </main>
   208    
   209    {% include './components/footer.html' %}
   210    {% endblock %}```

## File: ./app/templates/base.html
```base.html
     1    <!DOCTYPE html>
     2    <html lang="ru">
     3    
     4    <head>
     5        <meta charset="UTF-8">
     6        <meta name="viewport" content="width=device-width, initial-scale=1.0">
     7        <title>{% block title %}Template title{% endblock %}</title>
     8        <link rel="shortcut icon" href="{{ url_for('static', filename='favicon/favicon.png') }}" type="image/x-icon">
     9        <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    10        {% block styles %}{% endblock %}
    11    </head>
    12    
    13    <body>
    14        {% block content %}{% endblock %}
    15    
    16        <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
    17        {% block scripts %}{% endblock %}
    18    </body>
    19    
    20    </html>```

## File: ./app/templates/admin/bookings.html
```bookings.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Список бронирований{% endblock %}
     4    
     5    {% block content %}
     6    {% include './components/header.html' %}
     7    
     8    <main class="container py-5">
     9        <div class="d-flex justify-content-between align-items-center mb-4">
    10            <h1 class="h3 mb-0">Бронирования</h1>
    11            <div class="btn-group">
    12                {% for st in statuses %}
    13                <a href="{{ url_for('admin.bookings_list', status=st) }}"
    14                    class="btn btn-sm {% if st == current_status %}btn-primary{% else %}btn-outline-primary{% endif %}">
    15                    {{ st.capitalize() }} ({{ status_counts[st] }})
    16                </a>
    17                {% endfor %}
    18            </div>
    19        </div>
    20    
    21        <!-- Flash Messages -->
    22        {% with messages = get_flashed_messages(with_categories=true) %}
    23        {% if messages %}
    24        {% for category, message in messages %}
    25        <div class="alert alert-{{ category }} alert-dismissible fade show mb-4">
    26            {{ message }}
    27            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    28        </div>
    29        {% endfor %}
    30        {% endif %}
    31        {% endwith %}
    32    
    33        <!-- Search Form -->
    34        <form method="GET" class="mb-4">
    35            <div class="input-group">
    36                <input type="text" name="search" class="form-control" placeholder="Поиск по email, имени или отелю"
    37                    value="{{ search_query }}">
    38                <input type="hidden" name="status" value="{{ current_status }}">
    39                <button type="submit" class="btn btn-primary">Поиск</button>
    40            </div>
    41        </form>
    42    
    43        <!-- Bookings Table -->
    44        {% if bookings.items %}
    45        <div class="table-responsive">
    46            <table class="table table-hover">
    47                <thead>
    48                    <tr>
    49                        <th>ID</th>
    50                        <th>Пользователь</th>
    51                        <th>Отель / Номер</th>
    52                        <th>Даты</th>
    53                        <th>Гости</th>
    54                        <th>Сумма</th>
    55                        <th>Статус</th>
    56                        <th>Создано</th>
    57                        <th>Действия</th>
    58                    </tr>
    59                </thead>
    60                <tbody>
    61                    {% for booking in bookings.items %}
    62                    <tr>
    63                        <td>#{{ booking.id }}</td>
    64                        <td>
    65                            {{ booking.user.first_name }} {{ booking.user.last_name }}<br>
    66                            <small>{{ booking.user.email }}</small>
    67                        </td>
    68                        <td>
    69                            {{ booking.room.hotel.name }}<br>
    70                            <small>{{ booking.room.name }}</small>
    71                        </td>
    72                        <td>
    73                            {{ booking.check_in.strftime('%d.%m.%Y') }} - {{ booking.check_out.strftime('%d.%m.%Y') }}
    74                        </td>
    75                        <td>{{ booking.guests }}</td>
    76                        <td>{{ booking.total_price }} руб.</td>
    77                        <td>
    78                            <span
    79                                class="badge bg-{{ 'warning' if booking.status == 'pending' else 'success' if booking.status == 'confirmed' else 'danger' }}">
    80                                {{ booking.status.capitalize() }}
    81                            </span>
    82                        </td>
    83                        <td>{{ booking.created_at.strftime('%d.%m.%Y %H:%M') }}</td>
    84                        <td>
    85                            {% if booking.status != 'confirmed' and booking.status != 'cancelled' %}
    86                            <form method="POST"
    87                                action="{{ url_for('admin.confirm_booking_admin', booking_id=booking.id, status=current_status) }}"
    88                                class="d-inline">
    89                                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    90                                <button type="submit" class="btn btn-sm btn-success">Подтвердить</button>
    91                            </form>
    92                            {% endif %}
    93                            {% if booking.status != 'cancelled' %}
    94                            <form method="POST"
    95                                action="{{ url_for('admin.cancel_booking_admin', booking_id=booking.id, status=current_status) }}"
    96                                class="d-inline">
    97                                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    98                                <button type="submit" class="btn btn-sm btn-danger"
    99                                    onclick="return confirm('Отменить бронирование?');">Отменить</button>
   100                            </form>
   101                            {% endif %}
   102                        </td>
   103                    </tr>
   104                    {% endfor %}
   105                </tbody>
   106            </table>
   107        </div>
   108    
   109        <!-- Pagination -->
   110        <nav aria-label="Pagination">
   111            <ul class="pagination justify-content-center">
   112                {% if bookings.has_prev %}
   113                <li class="page-item"><a class="page-link"
   114                        href="{{ url_for('admin.bookings_list', page=bookings.prev_num, status=current_status, search=search_query) }}">Предыдущая</a>
   115                </li>
   116                {% endif %}
   117                {% for p in bookings.iter_pages() %}
   118                {% if p %}
   119                <li class="page-item {% if p == bookings.page %}active{% endif %}"><a class="page-link"
   120                        href="{{ url_for('admin.bookings_list', page=p, status=current_status, search=search_query) }}">{{ p
   121                        }}</a></li>
   122                {% else %}
   123                <li class="page-item disabled"><span class="page-link">...</span></li>
   124                {% endif %}
   125                {% endfor %}
   126                {% if bookings.has_next %}
   127                <li class="page-item"><a class="page-link"
   128                        href="{{ url_for('admin.bookings_list', page=bookings.next_num, status=current_status, search=search_query) }}">Следующая</a>
   129                </li>
   130                {% endif %}
   131            </ul>
   132        </nav>
   133        {% else %}
   134        <p class="text-center text-muted">Нет бронирований по выбранным критериям.</p>
   135        {% endif %}
   136    </main>
   137    
   138    {% include './components/footer.html' %}
   139    {% endblock %}```

## File: ./app/templates/admin/hotels.html
```hotels.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Отели — админка{% endblock %}
     4    
     5    {% block styles %}
     6    <style>
     7        .hotel-card-admin {
     8            border: 1px solid #e9ecef;
     9            border-radius: 10px;
    10            transition: all 0.3s;
    11            overflow: hidden;
    12        }
    13    
    14        .hotel-card-admin:hover {
    15            border-color: #007bff;
    16            box-shadow: 0 5px 15px rgba(0, 123, 255, 0.1);
    17            transform: translateY(-3px);
    18        }
    19    
    20        .hotel-image {
    21            height: 150px;
    22            object-fit: cover;
    23            width: 100%;
    24        }
    25    
    26        .rooms-count {
    27            font-size: 0.85rem;
    28        }
    29    
    30        .city-badge {
    31            background: rgba(13, 110, 253, 0.1);
    32            color: #0d6efd;
    33            font-size: 0.8rem;
    34            padding: 0.2rem 0.6rem;
    35            border-radius: 20px;
    36        }
    37    
    38        .owner-info {
    39            font-size: 0.85rem;
    40        }
    41    </style>
    42    {% endblock %}
    43    
    44    {% block content %}
    45    {% include "components/header.html" %}
    46    
    47    <main class="container py-4">
    48        <div class="d-flex justify-content-between align-items-center mb-4">
    49            <div>
    50                <h1 class="h3 mb-1">Отели системы</h1>
    51                <p class="text-muted mb-0">Все зарегистрированные отели</p>
    52            </div>
    53            <div class="text-end">
    54                <div class="small text-muted">
    55                    Всего отелей: <span class="fw-bold">{{ hotels.total }}</span>
    56                </div>
    57            </div>
    58        </div>
    59    
    60        <!-- Flash сообщения -->
    61        {% with messages = get_flashed_messages(with_categories=true) %}
    62        {% if messages %}
    63        {% for category, message in messages %}
    64        <div class="alert alert-{{ category }} alert-dismissible fade show mb-4">
    65            {{ message }}
    66            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    67        </div>
    68        {% endfor %}
    69        {% endif %}
    70        {% endwith %}
    71    
    72        <!-- Поиск и фильтры -->
    73        <div class="card mb-4">
    74            <div class="card-body">
    75                <form method="GET" action="{{ url_for('admin.hotels_list') }}" class="row g-3">
    76                    <div class="col-md-6">
    77                        <div class="input-group">
    78                            <span class="input-group-text">
    79                                <i class="bi bi-search"></i>
    80                            </span>
    81                            <input type="text" class="form-control" name="search"
    82                                placeholder="Поиск по названию или описанию..." value="{{ search_query }}">
    83                        </div>
    84                    </div>
    85                    <div class="col-md-4">
    86                        <select class="form-select" name="city">
    87                            <option value="">Все города</option>
    88                            {% for city in cities %}
    89                            <option value="{{ city }}" {% if city_filter==city %}selected{% endif %}>
    90                                {{ city }}
    91                            </option>
    92                            {% endfor %}
    93                        </select>
    94                    </div>
    95                    <div class="col-md-2">
    96                        <button type="submit" class="btn btn-primary w-100">
    97                            Применить
    98                        </button>
    99                    </div>
   100                </form>
   101            </div>
   102        </div>
   103    
   104        <!-- Список отелей -->
   105        {% if hotels.items %}
   106        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 mb-4">
   107            {% for hotel in hotels.items %}
   108            <div class="col">
   109                <div class="hotel-card-admin h-100">
   110                    <!-- Изображение отеля -->
   111                    <div class="position-relative">
   112                        <img src="{{ url_for('static', filename='img/hotel.webp') }}" class="hotel-image"
   113                            alt="{{ hotel.name }}">
   114                        <span class="position-absolute top-0 end-0 m-2 city-badge">
   115                            {{ hotel.city }}
   116                        </span>
   117                    </div>
   118    
   119                    <div class="p-3">
   120                        <!-- Название и информация -->
   121                        <h5 class="mb-2">{{ hotel.name }}</h5>
   122    
   123                        {% if hotel.description %}
   124                        <p class="small text-muted mb-3">
   125                            {{ hotel.description|truncate(100) }}
   126                        </p>
   127                        {% endif %}
   128    
   129                        <!-- Адрес и контакты -->
   130                        <div class="mb-3">
   131                            <div class="small text-muted mb-1">
   132                                <i class="bi bi-geo-alt me-1"></i>{{ hotel.address }}
   133                            </div>
   134                            {% if hotel.phone %}
   135                            <div class="small text-muted mb-1">
   136                                <i class="bi bi-telephone me-1"></i>{{ hotel.phone }}
   137                            </div>
   138                            {% endif %}
   139                            {% if hotel.email %}
   140                            <div class="small text-muted">
   141                                <i class="bi bi-envelope me-1"></i>{{ hotel.email }}
   142                            </div>
   143                            {% endif %}
   144                        </div>
   145    
   146                        <!-- Владелец -->
   147                        <div class="owner-info mb-3">
   148                            <div class="d-flex justify-content-between align-items-center">
   149                                <div>
   150                                    <span class="text-muted">Владелец:</span>
   151                                    <div class="fw-bold">
   152                                        {{ hotel.owner.full_name if hotel.owner else '—' }}
   153                                    </div>
   154                                </div>
   155                                <div class="text-end">
   156                                    <span class="badge bg-primary rooms-count">
   157                                        <i class="bi bi-door-closed me-1"></i>{{ hotel.rooms|length }} номеров
   158                                    </span>
   159                                </div>
   160                            </div>
   161                        </div>
   162    
   163                        <!-- Дополнительная информация -->
   164                        <div class="small text-muted">
   165                            <div>
   166                                <i class="bi bi-calendar me-1"></i>
   167                                Создан: {{ hotel.created_at.strftime('%d.%m.%Y') if hotel.created_at else '—' }}
   168                            </div>
   169                            <div>
   170                                <i class="bi bi-arrow-clockwise me-1"></i>
   171                                Обновлен: {{ hotel.updated_at.strftime('%d.%m.%Y') if hotel.updated_at else '—' }}
   172                            </div>
   173                        </div>
   174                    </div>
   175                </div>
   176            </div>
   177            {% endfor %}
   178        </div>
   179        {% else %}
   180        <div class="card">
   181            <div class="card-body text-center py-5">
   182                <div class="mb-3">
   183                    <i class="bi bi-building display-4 text-muted"></i>
   184                </div>
   185                <h5 class="text-muted">Отели не найдены</h5>
   186                {% if search_query or city_filter %}
   187                <p class="text-muted">Попробуйте изменить условия поиска</p>
   188                {% else %}
   189                <p class="text-muted">В системе пока нет отелей</p>
   190                {% endif %}
   191            </div>
   192        </div>
   193        {% endif %}
   194    
   195        <!-- Пагинация -->
   196        {% if hotels.pages > 1 %}
   197        <div class="card">
   198            <div class="card-body py-3">
   199                <nav aria-label="Навигация по страницам">
   200                    <ul class="pagination justify-content-center mb-0">
   201                        {% if hotels.has_prev %}
   202                        <li class="page-item">
   203                            <a class="page-link"
   204                                href="{{ url_for('admin.hotels_list', page=hotels.prev_num, search=search_query, city=city_filter) }}">
   205                                <i class="bi bi-chevron-left"></i>
   206                            </a>
   207                        </li>
   208                        {% else %}
   209                        <li class="page-item disabled">
   210                            <span class="page-link"><i class="bi bi-chevron-left"></i></span>
   211                        </li>
   212                        {% endif %}
   213    
   214                        {% for page_num in hotels.iter_pages(left_edge=1, left_current=2, right_current=2, right_edge=1) %}
   215                        {% if page_num %}
   216                        <li class="page-item {% if page_num == hotels.page %}active{% endif %}">
   217                            <a class="page-link"
   218                                href="{{ url_for('admin.hotels_list', page=page_num, search=search_query, city=city_filter) }}">
   219                                {{ page_num }}
   220                            </a>
   221                        </li>
   222                        {% else %}
   223                        <li class="page-item disabled">
   224                            <span class="page-link">...</span>
   225                        </li>
   226                        {% endif %}
   227                        {% endfor %}
   228    
   229                        {% if hotels.has_next %}
   230                        <li class="page-item">
   231                            <a class="page-link"
   232                                href="{{ url_for('admin.hotels_list', page=hotels.next_num, search=search_query, city=city_filter) }}">
   233                                <i class="bi bi-chevron-right"></i>
   234                            </a>
   235                        </li>
   236                        {% else %}
   237                        <li class="page-item disabled">
   238                            <span class="page-link"><i class="bi bi-chevron-right"></i></span>
   239                        </li>
   240                        {% endif %}
   241                    </ul>
   242                </nav>
   243    
   244                <div class="text-center mt-2 text-muted small">
   245                    Показано {{ hotels.items|length }} из {{ hotels.total }} отелей
   246                    {% if search_query %}
   247                    по запросу "{{ search_query }}"
   248                    {% endif %}
   249                    {% if city_filter %}
   250                    в городе "{{ city_filter }}"
   251                    {% endif %}
   252                </div>
   253            </div>
   254        </div>
   255        {% endif %}
   256    </main>
   257    
   258    {% include "components/footer.html" %}
   259    {% endblock %}```

## File: ./app/templates/admin/users.html
```users.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Пользователи — админка{% endblock %}
     4    
     5    {% block styles %}
     6    <style>
     7        .user-avatar {
     8            width: 40px;
     9            height: 40px;
    10            border-radius: 50%;
    11            background: #f8f9fa;
    12            display: flex;
    13            align-items: center;
    14            justify-content: center;
    15            font-size: 1.2rem;
    16            color: #6c757d;
    17            border: 2px solid #e9ecef;
    18        }
    19    
    20        .role-badge {
    21            font-size: 0.75rem;
    22            padding: 0.25rem 0.5rem;
    23            border-radius: 10px;
    24        }
    25    
    26        .action-form {
    27            min-width: 250px;
    28        }
    29    
    30        .search-box {
    31            max-width: 300px;
    32        }
    33    
    34        .table-hover tbody tr:hover {
    35            background-color: rgba(0, 123, 255, 0.05);
    36        }
    37    
    38        .pagination .page-link {
    39            border-radius: 6px;
    40            margin: 0 3px;
    41            border: none;
    42            color: #495057;
    43        }
    44    
    45        .pagination .page-item.active .page-link {
    46            background-color: #007bff;
    47            border-color: #007bff;
    48        }
    49    </style>
    50    {% endblock %}
    51    
    52    {% block content %}
    53    {% include "components/header.html" %}
    54    
    55    <main class="container py-4">
    56        <div class="d-flex justify-content-between align-items-center mb-4">
    57            <div>
    58                <h1 class="h3 mb-1">Управление пользователями</h1>
    59                <p class="text-muted mb-0">Все зарегистрированные пользователи системы</p>
    60            </div>
    61            <div>
    62                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addUserModal">
    63                    <i class="bi bi-person-plus me-1"></i>Добавить пользователя
    64                </button>
    65            </div>
    66        </div>
    67    
    68        <!-- Flash сообщения -->
    69        {% with messages = get_flashed_messages(with_categories=true) %}
    70        {% if messages %}
    71        {% for category, message in messages %}
    72        <div class="alert alert-{{ category }} alert-dismissible fade show mb-4">
    73            {{ message }}
    74            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    75        </div>
    76        {% endfor %}
    77        {% endif %}
    78        {% endwith %}
    79    
    80        <!-- Поиск и фильтры -->
    81        <div class="card mb-4">
    82            <div class="card-body">
    83                <form method="GET" action="{{ url_for('admin.users_list') }}" class="row g-3">
    84                    <div class="col-md-8">
    85                        <div class="input-group">
    86                            <span class="input-group-text">
    87                                <i class="bi bi-search"></i>
    88                            </span>
    89                            <input type="text" class="form-control" name="search"
    90                                placeholder="Поиск по email, имени, фамилии или телефону..." value="{{ search_query }}">
    91                            <button class="btn btn-outline-secondary" type="submit">
    92                                Найти
    93                            </button>
    94                        </div>
    95                    </div>
    96                    <div class="col-md-4 text-end">
    97                        {% if search_query %}
    98                        <a href="{{ url_for('admin.users_list') }}" class="btn btn-outline-danger">
    99                            <i class="bi bi-x-circle me-1"></i>Сбросить поиск
   100                        </a>
   101                        {% endif %}
   102                    </div>
   103                </form>
   104            </div>
   105        </div>
   106    
   107        <!-- Таблица пользователей -->
   108        <div class="card">
   109            <div class="card-body p-0">
   110                <div class="table-responsive">
   111                    <table class="table table-hover align-middle mb-0">
   112                        <thead class="table-light">
   113                            <tr>
   114                                <th class="ps-4">Пользователь</th>
   115                                <th>Контакт</th>
   116                                <th>Роль</th>
   117                                <th>Регистрация</th>
   118                                <th class="pe-4">Действия</th>
   119                            </tr>
   120                        </thead>
   121                        <tbody>
   122                            {% for user in users.items %}
   123                            <tr>
   124                                <td class="ps-4">
   125                                    <div class="d-flex align-items-center">
   126                                        <div class="user-avatar me-3">
   127                                            <i class="bi bi-person"></i>
   128                                        </div>
   129                                        <div>
   130                                            <div class="fw-bold">{{ user.full_name }}</div>
   131                                            <small class="text-muted">ID: #{{ user.id }}</small>
   132                                        </div>
   133                                    </div>
   134                                </td>
   135                                <td>
   136                                    <div class="small">
   137                                        <div>{{ user.email }}</div>
   138                                        <div class="text-muted">{{ user.phone }}</div>
   139                                    </div>
   140                                </td>
   141                                <td>
   142                                    {% if user.is_admin %}
   143                                    <span class="badge bg-danger role-badge">Администратор</span>
   144                                    {% elif user.is_hotel_owner %}
   145                                    <span class="badge bg-primary role-badge">Владелец отеля</span>
   146                                    {% else %}
   147                                    <span class="badge bg-secondary role-badge">Пользователь</span>
   148                                    {% endif %}
   149                                </td>
   150                                <td>
   151                                    <div class="small">
   152                                        <div>{{ user.created_at.strftime('%d.%m.%Y') if user.created_at else '—' }}</div>
   153                                        <div class="text-muted">{{ user.created_at.strftime('%H:%M') if user.created_at else
   154                                            '' }}</div>
   155                                    </div>
   156                                </td>
   157                                <td class="pe-4">
   158                                    <div class="d-flex gap-2 action-form">
   159                                        <form method="POST" action="{{ url_for('admin.set_user_role', user_id=user.id) }}"
   160                                            class="d-flex gap-2 flex-grow-1">
   161                                            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
   162                                            <select name="role" class="form-select form-select-sm" {% if
   163                                                user.id==current_user.id %}disabled{% endif %}>
   164                                                <option value="user" {% if user.role.value=='user' %}selected{% endif %}>
   165                                                    Пользователь</option>
   166                                                <option value="hotel_owner" {% if user.role.value=='hotel_owner'
   167                                                    %}selected{% endif %}>Владелец</option>
   168                                                <option value="admin" {% if user.role.value=='admin' %}selected{% endif %}>
   169                                                    Администратор</option>
   170                                            </select>
   171                                            <button type="submit" class="btn btn-sm btn-outline-primary" {% if
   172                                                user.id==current_user.id %}disabled{% endif %}
   173                                                onclick="return confirm('Изменить роль пользователя {{ user.email }}?')">
   174                                                <i class="bi bi-check"></i>
   175                                            </button>
   176                                        </form>
   177    
   178                                        {% if user.id != current_user.id %}
   179                                        <form method="POST" action="{{ url_for('admin.delete_user', user_id=user.id) }}"
   180                                            onsubmit="return confirm('Удалить пользователя {{ user.email }}? Это действие нельзя отменить.')">
   181                                            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
   182                                            <button type="submit" class="btn btn-sm btn-outline-danger">
   183                                                <i class="bi bi-trash"></i>
   184                                            </button>
   185                                        </form>
   186                                        {% endif %}
   187                                    </div>
   188                                </td>
   189                            </tr>
   190                            {% else %}
   191                            <tr>
   192                                <td colspan="5" class="text-center py-5">
   193                                    <div class="mb-3">
   194                                        <i class="bi bi-people display-4 text-muted"></i>
   195                                    </div>
   196                                    <h5 class="text-muted">Пользователи не найдены</h5>
   197                                    {% if search_query %}
   198                                    <p class="text-muted">Попробуйте изменить условия поиска</p>
   199                                    {% else %}
   200                                    <p class="text-muted">В системе пока нет пользователей</p>
   201                                    {% endif %}
   202                                </td>
   203                            </tr>
   204                            {% endfor %}
   205                        </tbody>
   206                    </table>
   207                </div>
   208            </div>
   209    
   210            <!-- Пагинация -->
   211            {% if users.pages > 1 %}
   212            <div class="card-footer">
   213                <nav aria-label="Навигация по страницам">
   214                    <ul class="pagination justify-content-center mb-0">
   215                        {% if users.has_prev %}
   216                        <li class="page-item">
   217                            <a class="page-link"
   218                                href="{{ url_for('admin.users_list', page=users.prev_num, search=search_query) }}">
   219                                <i class="bi bi-chevron-left"></i>
   220                            </a>
   221                        </li>
   222                        {% else %}
   223                        <li class="page-item disabled">
   224                            <span class="page-link"><i class="bi bi-chevron-left"></i></span>
   225                        </li>
   226                        {% endif %}
   227    
   228                        {% for page_num in users.iter_pages(left_edge=1, left_current=2, right_current=2, right_edge=1) %}
   229                        {% if page_num %}
   230                        <li class="page-item {% if page_num == users.page %}active{% endif %}">
   231                            <a class="page-link"
   232                                href="{{ url_for('admin.users_list', page=page_num, search=search_query) }}">
   233                                {{ page_num }}
   234                            </a>
   235                        </li>
   236                        {% else %}
   237                        <li class="page-item disabled">
   238                            <span class="page-link">...</span>
   239                        </li>
   240                        {% endif %}
   241                        {% endfor %}
   242    
   243                        {% if users.has_next %}
   244                        <li class="page-item">
   245                            <a class="page-link"
   246                                href="{{ url_for('admin.users_list', page=users.next_num, search=search_query) }}">
   247                                <i class="bi bi-chevron-right"></i>
   248                            </a>
   249                        </li>
   250                        {% else %}
   251                        <li class="page-item disabled">
   252                            <span class="page-link"><i class="bi bi-chevron-right"></i></span>
   253                        </li>
   254                        {% endif %}
   255                    </ul>
   256                </nav>
   257    
   258                <div class="text-center mt-2 text-muted small">
   259                    Показано {{ users.items|length }} из {{ users.total }} пользователей
   260                    {% if search_query %}
   261                    по запросу "{{ search_query }}"
   262                    {% endif %}
   263                </div>
   264            </div>
   265            {% endif %}
   266        </div>
   267    </main>
   268    
   269    <!-- Модальное окно добавления пользователя -->
   270    <div class="modal fade" id="addUserModal" tabindex="-1" aria-hidden="true">
   271        <div class="modal-dialog">
   272            <div class="modal-content">
   273                <div class="modal-header">
   274                    <h5 class="modal-title">Добавить пользователя</h5>
   275                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
   276                </div>
   277                <div class="modal-body">
   278                    <div class="alert alert-info">
   279                        <i class="bi bi-info-circle me-2"></i>
   280                        Для добавления нового пользователя воспользуйтесь формой регистрации на главной странице.
   281                    </div>
   282                    <p class="text-muted">
   283                        Или отправьте ссылку для регистрации:
   284                        <code>{{ url_for('user.register', _external=True) }}</code>
   285                    </p>
   286                </div>
   287                <div class="modal-footer">
   288                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
   289                    <a href="{{ url_for('user.register') }}" class="btn btn-primary" target="_blank">
   290                        <i class="bi bi-box-arrow-up-right me-1"></i>Перейти к регистрации
   291                    </a>
   292                </div>
   293            </div>
   294        </div>
   295    </div>
   296    
   297    {% include "components/footer.html" %}
   298    {% endblock %}```

## File: ./app/templates/admin/dashboard.html
```dashboard.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Админка{% endblock %}
     4    
     5    {% block styles %}
     6    <style>
     7        .stat-card {
     8            border-radius: 12px;
     9            border: none;
    10            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    11            transition: transform 0.3s, box-shadow 0.3s;
    12            height: 100%;
    13        }
    14    
    15        .stat-card:hover {
    16            transform: translateY(-5px);
    17            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
    18        }
    19    
    20        .stat-icon {
    21            font-size: 2.5rem;
    22            opacity: 0.8;
    23        }
    24    
    25        .stat-number {
    26            font-size: 2.2rem;
    27            font-weight: 700;
    28            line-height: 1.2;
    29        }
    30    
    31        .stat-label {
    32            font-size: 0.9rem;
    33            color: #6c757d;
    34            text-transform: uppercase;
    35            letter-spacing: 0.5px;
    36        }
    37    
    38        .recent-table {
    39            font-size: 0.9rem;
    40        }
    41    
    42        .status-badge {
    43            font-size: 0.75rem;
    44            padding: 0.25rem 0.5rem;
    45        }
    46    
    47        .quick-action {
    48            border-radius: 8px;
    49            padding: 1rem;
    50            background: #f8f9fa;
    51            border: 1px solid #e9ecef;
    52            transition: all 0.2s;
    53        }
    54    
    55        .quick-action:hover {
    56            background: #fff;
    57            border-color: #007bff;
    58            text-decoration: none;
    59        }
    60    
    61        .action-icon {
    62            width: 50px;
    63            height: 50px;
    64            border-radius: 10px;
    65            display: flex;
    66            align-items: center;
    67            justify-content: center;
    68            font-size: 1.5rem;
    69            margin-bottom: 0.5rem;
    70        }
    71    </style>
    72    {% endblock %}
    73    
    74    {% block content %}
    75    {% include "components/header.html" %}
    76    
    77    <main class="container py-4">
    78        <!-- Flash сообщения -->
    79        {% with messages = get_flashed_messages(with_categories=true) %}
    80        {% if messages %}
    81        {% for category, message in messages %}
    82        <div class="alert alert-{{ category }} alert-dismissible fade show mb-4">
    83            {{ message }}
    84            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    85        </div>
    86        {% endfor %}
    87        {% endif %}
    88        {% endwith %}
    89    
    90        <div class="d-flex justify-content-between align-items-center mb-4">
    91            <div>
    92                <h1 class="h3 mb-1">Панель администратора</h1>
    93                <p class="text-muted mb-0">Обзор системы и быстрый доступ</p>
    94            </div>
    95            <div class="text-end">
    96                <small class="text-muted d-block">Последний вход: {{ current_user.updated_at.strftime('%d.%m.%Y %H:%M') if
    97                    current_user.updated_at else '—' }}</small>
    98                <small class="text-muted">Роль: <span class="badge bg-danger">Администратор</span></small>
    99            </div>
   100        </div>
   101    
   102        <!-- Статистика в карточках -->
   103        <div class="row g-4 mb-5">
   104            <div class="col-md-3">
   105                <div class="card stat-card border-primary">
   106                    <div class="card-body">
   107                        <div class="d-flex justify-content-between align-items-start">
   108                            <div>
   109                                <div class="stat-label">Пользователи</div>
   110                                <div class="stat-number text-primary">{{ stats.total_users }}</div>
   111                                <div class="small text-muted mt-1">
   112                                    +{{ stats.recent_users }} за неделю
   113                                </div>
   114                            </div>
   115                            <div class="stat-icon text-primary">
   116                                <i class="bi bi-people"></i>
   117                            </div>
   118                        </div>
   119                        <a href="{{ url_for('admin.users_list') }}" class="stretched-link"></a>
   120                    </div>
   121                </div>
   122            </div>
   123    
   124            <div class="col-md-3">
   125                <div class="card stat-card border-success">
   126                    <div class="card-body">
   127                        <div class="d-flex justify-content-between align-items-start">
   128                            <div>
   129                                <div class="stat-label">Отели</div>
   130                                <div class="stat-number text-success">{{ stats.total_hotels }}</div>
   131                                <div class="small text-muted mt-1">
   132                                    {{ stats.hotel_owners }} владельцев
   133                                </div>
   134                            </div>
   135                            <div class="stat-icon text-success">
   136                                <i class="bi bi-building"></i>
   137                            </div>
   138                        </div>
   139                        <a href="{{ url_for('admin.hotels_list') }}" class="stretched-link"></a>
   140                    </div>
   141                </div>
   142            </div>
   143    
   144            <div class="col-md-3">
   145                <div class="card stat-card border-warning">
   146                    <div class="card-body">
   147                        <div class="d-flex justify-content-between align-items-start">
   148                            <div>
   149                                <div class="stat-label">Бронирования</div>
   150                                <div class="stat-number text-warning">{{ stats.total_bookings }}</div>
   151                                <div class="small text-muted mt-1">
   152                                    +{{ stats.recent_bookings }} за неделю
   153                                </div>
   154                            </div>
   155                            <div class="stat-icon text-warning">
   156                                <i class="bi bi-calendar-check"></i>
   157                            </div>
   158                        </div>
   159                        <a href="{{ url_for('admin.bookings_list') }}" class="stretched-link"></a>
   160                    </div>
   161                </div>
   162            </div>
   163    
   164            <div class="col-md-3">
   165                <div class="card stat-card border-info">
   166                    <div class="card-body">
   167                        <div class="d-flex justify-content-between align-items-start">
   168                            <div>
   169                                <div class="stat-label">На проверке</div>
   170                                <div class="stat-number text-info">{{ stats.pending_bookings }}</div>
   171                                <div class="small text-muted mt-1">
   172                                    Требуют внимания
   173                                </div>
   174                            </div>
   175                            <div class="stat-icon text-info">
   176                                <i class="bi bi-clock-history"></i>
   177                            </div>
   178                        </div>
   179                        <a href="{{ url_for('admin.bookings_list', status='pending') }}" class="stretched-link"></a>
   180                    </div>
   181                </div>
   182            </div>
   183        </div>
   184    
   185        <div class="row g-4">
   186            <!-- Левая колонка: Быстрые действия и последние бронирования -->
   187            <div class="col-lg-8">
   188                <!-- Последние бронирования -->
   189                <div class="card mb-4">
   190                    <div class="card-header d-flex justify-content-between align-items-center">
   191                        <h5 class="mb-0">Последние бронирования</h5>
   192                        <a href="{{ url_for('admin.bookings_list') }}" class="btn btn-sm btn-outline-primary">
   193                            Все бронирования
   194                        </a>
   195                    </div>
   196                    <div class="card-body p-0">
   197                        <div class="table-responsive">
   198                            <table class="table table-hover mb-0 recent-table">
   199                                <thead>
   200                                    <tr>
   201                                        <th>ID</th>
   202                                        <th>Пользователь</th>
   203                                        <th>Отель</th>
   204                                        <th>Даты</th>
   205                                        <th>Стоимость</th>
   206                                        <th>Статус</th>
   207                                    </tr>
   208                                </thead>
   209                                <tbody>
   210                                    {% for booking in stats.recent_booking_list %}
   211                                    <tr>
   212                                        <td class="text-muted">#{{ booking.id }}</td>
   213                                        <td>
   214                                            <small>{{ booking.user.full_name if booking.user else '—' }}</small>
   215                                        </td>
   216                                        <td>
   217                                            <small>{{ booking.room.hotel.name if booking.room else '—' }}</small>
   218                                        </td>
   219                                        <td>
   220                                            <small>{{ booking.check_in.strftime('%d.%m') }} → {{
   221                                                booking.check_out.strftime('%d.%m') }}</small>
   222                                        </td>
   223                                        <td>
   224                                            <strong>{{ booking.total_price }} ₽</strong>
   225                                        </td>
   226                                        <td>
   227                                            {% if booking.status == 'confirmed' %}
   228                                            <span class="badge bg-success status-badge">Подтверждено</span>
   229                                            {% elif booking.status == 'cancelled' %}
   230                                            <span class="badge bg-danger status-badge">Отменено</span>
   231                                            {% elif booking.status == 'pending' %}
   232                                            <span class="badge bg-warning status-badge">Ожидание</span>
   233                                            {% elif booking.status == 'completed' %}
   234                                            <span class="badge bg-info status-badge">Завершено</span>
   235                                            {% endif %}
   236                                        </td>
   237                                    </tr>
   238                                    {% else %}
   239                                    <tr>
   240                                        <td colspan="6" class="text-center py-3 text-muted">
   241                                            <i class="bi bi-calendar-x me-2"></i>Нет бронирований
   242                                        </td>
   243                                    </tr>
   244                                    {% endfor %}
   245                                </tbody>
   246                            </table>
   247                        </div>
   248                    </div>
   249                </div>
   250    
   251                <!-- Быстрые действия -->
   252                <div class="card">
   253                    <div class="card-header">
   254                        <h5 class="mb-0">Быстрые действия</h5>
   255                    </div>
   256                    <div class="card-body">
   257                        <div class="row g-3">
   258                            <div class="col-md-4">
   259                                <a href="{{ url_for('admin.users_list') }}"
   260                                    class="d-block quick-action text-decoration-none">
   261                                    <div class="action-icon bg-primary bg-opacity-10 text-primary">
   262                                        <i class="bi bi-person-plus"></i>
   263                                    </div>
   264                                    <div class="fw-bold text-dark">Добавить пользователя</div>
   265                                    <small class="text-muted">Создание нового аккаунта</small>
   266                                </a>
   267                            </div>
   268                            <div class="col-md-4">
   269                                <a href="{{ url_for('admin.bookings_list', status='pending') }}"
   270                                    class="d-block quick-action text-decoration-none">
   271                                    <div class="action-icon bg-warning bg-opacity-10 text-warning">
   272                                        <i class="bi bi-clock"></i>
   273                                    </div>
   274                                    <div class="fw-bold text-dark">Проверить бронирования</div>
   275                                    <small class="text-muted">{{ stats.pending_bookings }} ожидают</small>
   276                                </a>
   277                            </div>
   278                            <div class="col-md-4">
   279                                <a href="{{ url_for('admin.dashboard') }}"
   280                                    class="d-block quick-action text-decoration-none">
   281                                    <div class="action-icon bg-info bg-opacity-10 text-info">
   282                                        <i class="bi bi-graph-up"></i>
   283                                    </div>
   284                                    <div class="fw-bold text-dark">Статистика</div>
   285                                    <small class="text-muted">Аналитика и отчеты</small>
   286                                </a>
   287                            </div>
   288                        </div>
   289                    </div>
   290                </div>
   291            </div>
   292    
   293            <!-- Правая колонка: Статус системы и информация -->
   294            <div class="col-lg-4">
   295                <!-- Статус системы -->
   296                <div class="card mb-4">
   297                    <div class="card-header">
   298                        <h5 class="mb-0">Статус системы</h5>
   299                    </div>
   300                    <div class="card-body">
   301                        <div class="mb-3">
   302                            <div class="d-flex justify-content-between mb-2">
   303                                <span class="text-muted">Подтвержденные бронирования:</span>
   304                                <span class="fw-bold">{{ stats.confirmed_bookings }}</span>
   305                            </div>
   306                            <div class="progress" style="height: 6px;">
   307                                <div class="progress-bar bg-success"
   308                                    style="width: {{ (stats.confirmed_bookings / stats.total_bookings * 100) if stats.total_bookings > 0 else 0 }}%">
   309                                </div>
   310                            </div>
   311                        </div>
   312    
   313                        <div class="mb-3">
   314                            <div class="d-flex justify-content-between mb-2">
   315                                <span class="text-muted">Отмененные бронирования:</span>
   316                                <span class="fw-bold">{{ stats.cancelled_bookings }}</span>
   317                            </div>
   318                            <div class="progress" style="height: 6px;">
   319                                <div class="progress-bar bg-danger"
   320                                    style="width: {{ (stats.cancelled_bookings / stats.total_bookings * 100) if stats.total_bookings > 0 else 0 }}%">
   321                                </div>
   322                            </div>
   323                        </div>
   324    
   325                        <div class="mb-3">
   326                            <div class="d-flex justify-content-between mb-2">
   327                                <span class="text-muted">Владельцы отелей:</span>
   328                                <span class="fw-bold">{{ stats.hotel_owners }}</span>
   329                            </div>
   330                            <div class="progress" style="height: 6px;">
   331                                <div class="progress-bar bg-primary"
   332                                    style="width: {{ (stats.hotel_owners / stats.total_users * 100) if stats.total_users > 0 else 0 }}%">
   333                                </div>
   334                            </div>
   335                        </div>
   336                    </div>
   337                </div>
   338    
   339                <!-- Информация о безопасности -->
   340                <div class="card">
   341                    <div class="card-header">
   342                        <h5 class="mb-0"><i class="bi bi-shield-check me-2"></i>Безопасность</h5>
   343                    </div>
   344                    <div class="card-body">
   345                        <div class="alert alert-success small mb-3">
   346                            <i class="bi bi-check-circle me-2"></i>
   347                            <strong>CSRF защита активна</strong><br>
   348                            Все формы защищены токенами
   349                        </div>
   350    
   351                        <div class="alert alert-info small mb-3">
   352                            <i class="bi bi-info-circle me-2"></i>
   353                            <strong>Рекомендации</strong><br>
   354                            • Регулярно меняйте пароль<br>
   355                            • Используйте сложные пароли<br>
   356                            • Выходите из системы после работы
   357                        </div>
   358    
   359                        <div class="text-center">
   360                            <a href="{{ url_for('user.logout') }}" class="btn btn-outline-danger btn-sm">
   361                                <i class="bi bi-box-arrow-right me-1"></i>Выйти из системы
   362                            </a>
   363                        </div>
   364                    </div>
   365                </div>
   366            </div>
   367        </div>
   368    </main>
   369    
   370    {% include "components/footer.html" %}
   371    {% endblock %}```

## File: ./app/templates/catalog.html
```catalog.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Каталог отелей{% endblock %}
     4    
     5    {% block styles %}
     6    <style>
     7        .search-card {
     8            background: var(--gray-light);
     9            border-radius: var(--btn-radius);
    10            padding: 2rem;
    11            margin-bottom: 2rem;
    12            border: 1px solid var(--border);
    13        }
    14    
    15        .hotel-card {
    16            transition: all var(--transition-time);
    17            border: 1px solid var(--border);
    18            height: 100%;
    19            border-radius: var(--btn-radius);
    20            overflow: hidden;
    21        }
    22    
    23        .hotel-card:hover {
    24            transform: translateY(-5px);
    25            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    26            border-color: var(--orange-light);
    27        }
    28    
    29        .hotel-img {
    30            height: 220px;
    31            object-fit: cover;
    32            width: 100%;
    33        }
    34    
    35        .price-tag {
    36            color: var(--orange);
    37            font-size: 1.5rem;
    38            font-weight: 800;
    39        }
    40    
    41        .city-badge {
    42            background: rgba(255, 109, 0, 0.1);
    43            color: var(--orange);
    44            font-weight: 600;
    45            padding: 0.35em 0.65em;
    46        }
    47    </style>
    48    {% endblock %}
    49    
    50    {% block content %}
    51    {% include './components/header.html' %}
    52    
    53    <main class="container py-5">
    54        <h1 class="mb-4">Найдите идеальный отель</h1>
    55    
    56        <!-- Поиск -->
    57        <div class="card search-card border-0 shadow-sm">
    58            <div class="card-body">
    59                <form method="GET" action="{{ url_for('main.catalog') }}" class="row g-3">
    60                    <div class="col-md-8">
    61                        <label class="form-label fw-bold">Куда вы хотите поехать?</label>
    62                        <input type="text" name="city" class="form-control form-control-lg"
    63                            placeholder="Например: Москва, Сочи, Санкт-Петербург..." value="{{ city }}">
    64                    </div>
    65                    <div class="col-md-4 d-flex align-items-end">
    66                        <button type="submit" class="btn btn-primary btn-lg w-100">
    67                            <i class="bi bi-search me-2"></i>Найти отели
    68                        </button>
    69                    </div>
    70                </form>
    71            </div>
    72        </div>
    73    
    74        <!-- Результаты -->
    75        <div class="row">
    76            <div class="col-12 mb-4">
    77                <h2 class="h4">
    78                    {% if city %}
    79                    Отели в городе <span class="city-badge">{{ city }}</span>
    80                    {% else %}
    81                    Все отели
    82                    {% endif %}
    83                    <span class="text-muted fs-6">({{ hotels|length }})</span>
    84                </h2>
    85            </div>
    86    
    87            {% if hotels %}
    88            {% for hotel in hotels %}
    89            <div class="col-md-6 col-lg-4 mb-4">
    90                <div class="card hotel-card h-100">
    91                    <!-- Фото отеля (заглушка или из БД) -->
    92                    <img src="{{ url_for('static', filename='img/hotel.webp') }}" class="card-img-top hotel-img"
    93                        alt="{{ hotel.name }}">
    94    
    95                    <div class="card-body d-flex flex-column">
    96                        <div class="mb-2">
    97                            <span class="city-badge">{{ hotel.city }}</span>
    98                        </div>
    99    
   100                        <h5 class="card-title">{{ hotel.name }}</h5>
   101    
   102                        <p class="card-text text-muted small flex-grow-1">
   103                            <i class="bi bi-geo-alt me-1"></i>{{ hotel.address }}
   104                        </p>
   105    
   106                        {% if hotel.description %}
   107                        <p class="card-text small mb-3">{{ hotel.description|truncate(120) }}</p>
   108                        {% endif %}
   109    
   110                        <div class="mt-auto">
   111                            <div class="d-flex justify-content-between align-items-center">
   112                                <div>
   113                                    {% if hotel.rooms %}
   114                                    {% set min_price = hotel.rooms|map(attribute='price_per_night')|min %}
   115                                    <span class="price-tag">от {{ min_price }} ₽</span>
   116                                    <p class="text-muted small mb-0">за ночь</p>
   117                                    {% else %}
   118                                    <span class="text-muted">Нет номеров</span>
   119                                    {% endif %}
   120                                </div>
   121                                <a href="{{ url_for('main.hotel_detail', hotel_id=hotel.id) }}"
   122                                    class="btn btn-outline-primary">
   123                                    Выбрать номер
   124                                </a>
   125                            </div>
   126                        </div>
   127                    </div>
   128                </div>
   129            </div>
   130            {% endfor %}
   131            {% else %}
   132            <div class="col-12 text-center py-5">
   133                <i class="bi bi-building display-1 text-muted"></i>
   134                <h4 class="my-3">Отелей не найдено</h4>
   135                <p class="text-muted">
   136                    {% if city %}
   137                    Попробуйте изменить критерии поиска
   138                    {% else %}
   139                    В системе пока нет отелей
   140                    {% endif %}
   141                </p>
   142            </div>
   143            {% endif %}
   144        </div>
   145    </main>
   146    
   147    {% include './components/footer.html' %}
   148    {% endblock %}```

## File: ./app/templates/book_room.html
```book_room.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Бронирование номера{% endblock %}
     4    
     5    {% block styles %}
     6    <style>
     7        .booking-summary {
     8            background: var(--gray-light);
     9            border-radius: var(--btn-radius);
    10            padding: 1.5rem;
    11            border: 1px solid var(--border);
    12        }
    13    
    14        .price-calculation {
    15            border-top: 2px dashed var(--border);
    16            border-bottom: 2px dashed var(--border);
    17            padding: 1rem 0;
    18            margin: 1.5rem 0;
    19        }
    20    
    21        .date-input:focus {
    22            border-color: var(--orange);
    23            box-shadow: 0 0 0 0.25rem rgba(255, 109, 0, 0.25);
    24        }
    25    </style>
    26    {% endblock %}
    27    
    28    {% block content %}
    29    {% include './components/header.html' %}
    30    
    31    <main class="container py-5">
    32        <!-- Хлебные крошки -->
    33        <nav aria-label="breadcrumb" class="mb-4">
    34            <ol class="breadcrumb">
    35                <li class="breadcrumb-item"><a href="{{ url_for('main.index') }}">Главная</a></li>
    36                <li class="breadcrumb-item"><a href="{{ url_for('main.catalog') }}">Каталог</a></li>
    37                <li class="breadcrumb-item"><a href="{{ url_for('main.hotel_detail', hotel_id=hotel.id) }}">{{
    38                        hotel.name|truncate(20) }}</a></li>
    39                <li class="breadcrumb-item active">Бронирование</li>
    40            </ol>
    41        </nav>
    42    
    43        <div class="row">
    44            <!-- Форма бронирования -->
    45            <div class="col-lg-7">
    46                <div class="card mb-4">
    47                    <div class="card-body p-4">
    48                        <h1 class="h3 mb-4">Заполните данные для бронирования</h1>
    49    
    50                        <!-- Сообщения об ошибках -->
    51                        {% with messages = get_flashed_messages(with_categories=true) %}
    52                        {% if messages %}
    53                        {% for category, message in messages %}
    54                        <div class="alert alert-{{ category }} alert-dismissible fade show mb-4">
    55                            {{ message }}
    56                            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    57                        </div>
    58                        {% endfor %}
    59                        {% endif %}
    60                        {% endwith %}
    61    
    62                        <form method="POST" id="booking-form">
    63                            {{ form.hidden_tag() }}
    64    
    65                            <!-- Даты -->
    66                            <div class="row mb-4">
    67                                <div class="col-md-6">
    68                                    <div class="mb-3">
    69                                        {{ form.check_in.label(class="form-label fw-bold") }}
    70                                        {{ form.check_in(class="form-control date-input") }}
    71                                        {% if form.check_in.errors %}
    72                                        <div class="text-danger small">
    73                                            {% for error in form.check_in.errors %}
    74                                            {{ error }}<br>
    75                                            {% endfor %}
    76                                        </div>
    77                                        {% endif %}
    78                                    </div>
    79                                </div>
    80                                <div class="col-md-6">
    81                                    <div class="mb-3">
    82                                        {{ form.check_out.label(class="form-label fw-bold") }}
    83                                        {{ form.check_out(class="form-control date-input") }}
    84                                        {% if form.check_out.errors %}
    85                                        <div class="text-danger small">
    86                                            {% for error in form.check_out.errors %}
    87                                            {{ error }}<br>
    88                                            {% endfor %}
    89                                        </div>
    90                                        {% endif %}
    91                                    </div>
    92                                </div>
    93                            </div>
    94    
    95                            <!-- Гости -->
    96                            <div class="mb-4">
    97                                {{ form.guests.label(class="form-label fw-bold") }}
    98                                <div class="input-group">
    99                                    {{ form.guests(class="form-control", type="number", min="1", max="10") }}
   100                                    <span class="input-group-text">гостей</span>
   101                                </div>
   102                                {% if form.guests.errors %}
   103                                <div class="text-danger small">
   104                                    {% for error in form.guests.errors %}
   105                                    {{ error }}<br>
   106                                    {% endfor %}
   107                                </div>
   108                                {% endif %}
   109                                <div class="form-text">Максимальная вместимость номера: {{ room.capacity }} гостей</div>
   110                            </div>
   111    
   112                            <!-- Особые пожелания -->
   113                            <div class="mb-4">
   114                                {{ form.special_requests.label(class="form-label fw-bold") }}
   115                                {{ form.special_requests(class="form-control", rows="4",
   116                                placeholder="Например: нужен детская кроватка, трансфер из аэропорта...") }}
   117                            </div>
   118    
   119                            <!-- Кнопка -->
   120                            <div class="d-grid">
   121                                {{ form.submit(class="btn btn-primary btn-lg", id="submit-booking") }}
   122                            </div>
   123                        </form>
   124                    </div>
   125                </div>
   126            </div>
   127    
   128            <!-- Сводка бронирования -->
   129            <div class="col-lg-5">
   130                <div class="booking-summary sticky-top" style="top: 20px;">
   131                    <h3 class="h5 mb-4">Ваше бронирование</h3>
   132    
   133                    <!-- Информация о номере -->
   134                    <div class="d-flex mb-4">
   135                        {% if room.image_url %}
   136                        <img src="{{ room.image_url }}" alt="{{ room.name }}" class="rounded me-3"
   137                            style="width: 100px; height: 80px; object-fit: cover;">
   138                        {% else %}
   139                        <div class="bg-light rounded d-flex align-items-center justify-content-center me-3"
   140                            style="width: 100px; height: 80px;">
   141                            <i class="bi bi-image text-muted"></i>
   142                        </div>
   143                        {% endif %}
   144                        <div>
   145                            <h6 class="mb-1">{{ room.name }}</h6>
   146                            <p class="text-muted small mb-0">{{ hotel.name }}</p>
   147                            <p class="text-muted small mb-0">{{ hotel.city }}</p>
   148                        </div>
   149                    </div>
   150    
   151                    <ul class="list-unstyled mb-4">
   152                        <li class="d-flex justify-content-between py-2">
   153                            <span>Цена за ночь:</span>
   154                            <strong>{{ room.price_per_night }} ₽</strong>
   155                        </li>
   156                        <li class="d-flex justify-content-between py-2">
   157                            <span>Вместимость:</span>
   158                            <span>до {{ room.capacity }} гостей</span>
   159                        </li>
   160                        <li class="d-flex justify-content-between py-2">
   161                            <span>Удобства:</span>
   162                            <span class="text-end">
   163                                {% if room.amenities %}
   164                                {{ room.amenities.split(',')[:3]|join(', ') }}
   165                                {% if room.amenities.split(',')|length > 3 %}...{% endif %}
   166                                {% else %}
   167                                —
   168                                {% endif %}
   169                            </span>
   170                        </li>
   171                    </ul>
   172    
   173                    <!-- Расчет стоимости (будет обновляться JavaScript) -->
   174                    <div class="price-calculation">
   175                        <div class="d-flex justify-content-between mb-2">
   176                            <span>Количество ночей:</span>
   177                            <span id="nights-count">0</span>
   178                        </div>
   179                        <div class="d-flex justify-content-between fw-bold fs-5">
   180                            <span>Итого к оплате:</span>
   181                            <span id="total-price">0 ₽</span>
   182                        </div>
   183                    </div>
   184    
   185                    <div class="alert alert-info small">
   186                        <i class="bi bi-info-circle me-2"></i>
   187                        Оплата производится в отеле при заселении. Бесплатная отмена за 48 часов до заезда.
   188                    </div>
   189    
   190                    <a href="{{ url_for('main.hotel_detail', hotel_id=hotel.id) }}"
   191                        class="btn btn-outline-primary w-100 mt-3">
   192                        <i class="bi bi-arrow-left me-2"></i>Вернуться к описанию
   193                    </a>
   194                </div>
   195            </div>
   196        </div>
   197    </main>
   198    
   199    {% include './components/footer.html' %}
   200    {% endblock %}
   201    
   202    {% block scripts %}
   203    <script>
   204        // Динамический расчёт стоимости на клиенте.
   205        // Логика продублирована с серверной стороны:
   206        // на бекенде всё равно пересчитывается цена и проверяются даты.
   207        function calculateTotal() {
   208            const checkInInput = document.querySelector('#check_in');
   209            const checkOutInput = document.querySelector('#check_out');
   210    
   211            if (!checkInInput || !checkOutInput) {
   212                return;
   213            }
   214    
   215            const checkIn = new Date(checkInInput.value);
   216            const checkOut = new Date(checkOutInput.value);
   217            const pricePerNight = {{ room.price_per_night }};
   218    
   219            if (checkIn && checkOut && checkOut > checkIn) {
   220                const nights = Math.ceil((checkOut - checkIn) / (1000 * 60 * 60 * 24));
   221                document.getElementById('nights-count').textContent = nights;
   222                document.getElementById('total-price').textContent =
   223                    (nights * pricePerNight).toLocaleString('ru-RU') + ' ₽';
   224            } else {
   225                document.getElementById('nights-count').textContent = '0';
   226                document.getElementById('total-price').textContent = '0 ₽';
   227            }
   228        }
   229    
   230        document.addEventListener('DOMContentLoaded', function () {
   231            // Блокируем даты в прошлом
   232            const today = new Date().toISOString().split('T')[0];
   233            const checkInInput = document.querySelector('#check_in');
   234            const checkOutInput = document.querySelector('#check_out');
   235    
   236            if (checkInInput && checkOutInput) {
   237                checkInInput.min = today;
   238                checkOutInput.min = today;
   239    
   240                // Слушаем изменения в датах
   241                checkInInput.addEventListener('change', calculateTotal);
   242                checkOutInput.addEventListener('change', calculateTotal);
   243    
   244                // Инициализация при загрузке
   245                calculateTotal();
   246            }
   247        });
   248    </script>
   249    {% endblock %}```

## File: ./app/templates/index.html
```index.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %} Главная {% endblock %}
     4    
     5    {% block styles %}
     6    <style>
     7        .hero-section {
     8            background-size: cover;
     9            background-position: center;
    10            min-height: 60vh;
    11            border-radius: 20px;
    12            display: flex;
    13            align-items: center;
    14            padding: 6rem 0;
    15            margin: 2rem 0;
    16            position: relative;
    17        }
    18    
    19        .hero-content {
    20            position: relative;
    21            z-index: 2;
    22            max-width: 800px;
    23            padding: 0 1.5rem;
    24        }
    25    
    26        .hero-title {
    27            font-size: 2.8rem;
    28            font-weight: 800;
    29            margin-bottom: 1.5rem;
    30            color: white;
    31            line-height: 1.2;
    32        }
    33    
    34        .hero-subtitle {
    35            font-size: 1.3rem;
    36            font-weight: 300;
    37            margin-bottom: 2.5rem;
    38            color: rgba(255, 255, 255, 0.95);
    39        }
    40    
    41        .hero-btn {
    42            background: var(--orange);
    43            color: white;
    44            font-weight: var(--btn-weight);
    45            padding: 1rem 2.5rem;
    46            border-radius: var(--btn-radius);
    47            font-size: 1.1rem;
    48            transition: background var(--transition-time);
    49            text-decoration: none;
    50            display: inline-block;
    51            border: none;
    52        }
    53    
    54        .hero-btn:hover {
    55            background: var(--orange-dark);
    56            color: white;
    57        }
    58    
    59        .hotel-card {
    60            transition: transform var(--transition-time);
    61            border: none;
    62            border-radius: var(--btn-radius);
    63            overflow: hidden;
    64            height: 100%;
    65            border: 1px solid var(--border);
    66        }
    67    
    68        .hotel-card:hover {
    69            transform: translateY(-5px);
    70        }
    71    
    72        .book-btn {
    73            background: var(--orange);
    74            color: white;
    75            font-weight: var(--btn-weight);
    76            padding: 0.5rem 1.5rem;
    77            border-radius: var(--btn-radius);
    78            transition: background var(--transition-time);
    79            text-decoration: none;
    80            display: inline-block;
    81            border: none;
    82        }
    83    
    84        .book-btn:hover {
    85            background: var(--orange-dark);
    86            color: white;
    87        }
    88    
    89        .feature-item {
    90            padding: 1.5rem;
    91            border-radius: var(--btn-radius);
    92            background: var(--gray-light);
    93            transition: background var(--transition-time);
    94        }
    95    
    96        .feature-item:hover {
    97            background: white;
    98        }
    99    
   100        .feature-item i {
   101            font-size: 2rem;
   102            margin-bottom: 1rem;
   103            color: var(--orange);
   104        }
   105    
   106        .hotel-rating {
   107            color: var(--orange);
   108            font-weight: 600;
   109        }
   110    
   111        .hotel-price {
   112            color: var(--orange);
   113            font-size: 1.5rem;
   114            font-weight: 700;
   115        }
   116    
   117        .all-hotels-link {
   118            color: var(--orange);
   119            text-decoration: none;
   120            font-weight: var(--btn-weight);
   121            transition: color var(--transition-time);
   122        }
   123    
   124        .all-hotels-link:hover {
   125            color: var(--orange-dark);
   126        }
   127    
   128        @media (max-width: 768px) {
   129            .hero-section {
   130                min-height: 50vh;
   131                padding: 4rem 0;
   132                margin: 1rem 0;
   133                text-align: center;
   134            }
   135    
   136            .hero-content {
   137                padding: 0 1rem;
   138            }
   139    
   140            .hero-title {
   141                font-size: 2.2rem;
   142            }
   143    
   144            .hero-subtitle {
   145                font-size: 1.1rem;
   146            }
   147        }
   148    
   149        @media (max-width: 576px) {
   150            .hero-title {
   151                font-size: 1.8rem;
   152            }
   153    
   154            .hero-subtitle {
   155                font-size: 1rem;
   156            }
   157        }
   158    </style>
   159    {% endblock %}
   160    
   161    {% block content %}
   162    {% include './components/header.html' %}
   163    
   164    <main class="container py-4">
   165        <!-- Hero Section -->
   166        <section class="hero-section" style="background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.6)),
   167                url('{{ url_for('static', filename='img/hero-img.webp') }}');">
   168            <div class="container">
   169                <div class="hero-content">
   170                    <h1 class="hero-title">
   171                        Откройте мир комфортного отдыха
   172                    </h1>
   173                    <p class="hero-subtitle">
   174                        Бронируйте лучшие отели в России с гарантией лучшей цены.
   175                        Более 5000 вариантов размещения по всей стране.
   176                    </p>
   177                    <a href="/catalog" class="hero-btn">
   178                        <i class="bi bi-search me-2"></i>Найти отель
   179                    </a>
   180                </div>
   181            </div>
   182        </section>
   183    
   184        <!-- Features -->
   185        <section class="my-5">
   186            <div class="row g-4">
   187                <div class="col-md-4">
   188                    <div class="feature-item text-center">
   189                        <i class="bi bi-shield-check"></i>
   190                        <h5 class="fw-bold mb-2">Безопасно</h5>
   191                        <p class="text-muted mb-0">Все платежи защищены</p>
   192                    </div>
   193                </div>
   194    
   195                <div class="col-md-4">
   196                    <div class="feature-item text-center">
   197                        <i class="bi bi-cash-coin"></i>
   198                        <h5 class="fw-bold mb-2">Выгодно</h5>
   199                        <p class="text-muted mb-0">Лучшие цены на рынке</p>
   200                    </div>
   201                </div>
   202    
   203                <div class="col-md-4">
   204                    <div class="feature-item text-center">
   205                        <i class="bi bi-headset"></i>
   206                        <h5 class="fw-bold mb-2">Поддержка</h5>
   207                        <p class="text-muted mb-0">Помощь 24/7</p>
   208                    </div>
   209                </div>
   210            </div>
   211        </section>
   212    
   213        <!-- Popular Hotels -->
   214        <section>
   215            <div class="d-flex justify-content-between align-items-center mb-4">
   216                <h2 class="fw-bold mb-0">Популярные отели</h2>
   217                <a href="{{ url_for('main.catalog') }}" class="all-hotels-link">
   218                    Все отели <i class="bi bi-arrow-right ms-1"></i>
   219                </a>
   220            </div>
   221    
   222            {% if popular_hotels %}
   223            <div class="row g-4">
   224                {% for hotel in popular_hotels %}
   225                <div class="col-md-4">
   226                    <div class="card hotel-card h-100">
   227                        <img src="{{ url_for('static', filename='img/hotel.webp') }}" class="card-img-top"
   228                            alt="{{ hotel.name }}" style="height: 200px; object-fit: cover;" loading="lazy" height="400">
   229                        <div class="card-body p-4">
   230                            <div class="d-flex justify-content-between align-items-start mb-2">
   231                                <h5 class="fw-bold mb-0">{{ hotel.name }}</h5>
   232                            </div>
   233                            <p class="text-muted mb-1">
   234                                <i class="bi bi-geo-alt me-1"></i>{{ hotel.city }}, {{ hotel.address }}
   235                            </p>
   236                            {% if hotel.description %}
   237                            <p class="text-muted small mb-3">
   238                                {{ hotel.description|truncate(100) }}
   239                            </p>
   240                            {% endif %}
   241                            <div class="d-flex justify-content-between align-items-center mt-4">
   242                                <div>
   243                                    {% if hotel.rooms %}
   244                                    {% set min_price = hotel.rooms|map(attribute='price_per_night')|min %}
   245                                    <span class="hotel-price">от {{ min_price }} ₽</span>
   246                                    <p class="text-muted small mb-0">за ночь</p>
   247                                    {% else %}
   248                                    <span class="text-muted small">Нет номеров</span>
   249                                    {% endif %}
   250                                </div>
   251                                <a href="{{ url_for('main.hotel_detail', hotel_id=hotel.id) }}" class="book-btn">
   252                                    Подробнее
   253                                </a>
   254                            </div>
   255                        </div>
   256                    </div>
   257                </div>
   258                {% endfor %}
   259            </div>
   260            {% else %}
   261            <div class="text-center py-5">
   262                <i class="bi bi-building display-5 text-muted"></i>
   263                <p class="text-muted mt-3 mb-0">В системе пока нет отелей. Добавьте первый отель как владелец, чтобы он
   264                    появился здесь.</p>
   265            </div>
   266            {% endif %}
   267        </section>
   268    </main>
   269    
   270    {% include './components/footer.html' %}
   271    {% endblock %}```

## File: ./app/templates/403.html
```403.html
     1    {% extends "base.html" %}
     2    
     3    {% block title %}Доступ запрещён{% endblock %}
     4    
     5    {% block content %}
     6    {% include "./components/header.html" %}
     7    
     8    <main class="container py-5">
     9        <div class="text-center py-5">
    10            <div class="mb-3">
    11                <i class="bi bi-shield-lock display-1 text-muted"></i>
    12            </div>
    13            <h1 class="h3 mb-3">Доступ к этой странице ограничен</h1>
    14            <p class="text-muted mb-4">
    15                У вас нет прав для просмотра этого раздела. Если вы считаете, что это ошибка,
    16                обратитесь к администратору.
    17            </p>
    18            <a href="{{ url_for('main.index') }}" class="btn btn-primary">
    19                <i class="bi bi-arrow-left me-2"></i>На главную
    20            </a>
    21        </div>
    22    </main>
    23    
    24    {% include "./components/footer.html" %}
    25    {% endblock %}
    26    
    27    
```

# Static Files
## File: ./.venv/lib/python3.12/site-packages/werkzeug/debug/shared/style.css
```style.css
     1    body, input  { font-family: sans-serif; color: #000; text-align: center;
     2                   margin: 1em; padding: 0; font-size: 15px; }
     3    h1, h2, h3   { font-weight: normal; }
     4    
     5    input        { background-color: #fff; margin: 0; text-align: left;
     6                   outline: none !important; }
     7    input[type="submit"] { padding: 3px 6px; }
     8    a            { color: #11557C; }
     9    a:hover      { color: #177199; }
    10    pre, code,
    11    textarea     { font-family: monospace; font-size: 14px; }
    12    
    13    div.debugger { text-align: left; padding: 12px; margin: auto;
    14                   background-color: white; }
    15    h1           { font-size: 36px; margin: 0 0 0.3em 0; }
    16    div.detail { cursor: pointer; }
    17    div.detail p { margin: 0 0 8px 13px; font-size: 14px; white-space: pre-wrap;
    18                   font-family: monospace; }
    19    div.explanation { margin: 20px 13px; font-size: 15px; color: #555; }
    20    div.footer   { font-size: 13px; text-align: right; margin: 30px 0;
    21                   color: #86989B; }
    22    
    23    h2           { font-size: 16px; margin: 1.3em 0 0.0 0; padding: 9px;
    24                   background-color: #11557C; color: white; }
    25    h2 em, h3 em { font-style: normal; color: #A5D6D9; font-weight: normal; }
    26    
    27    div.traceback, div.plain { border: 1px solid #ddd; margin: 0 0 1em 0; padding: 10px; }
    28    div.plain p      { margin: 0; }
    29    div.plain textarea,
    30    div.plain pre { margin: 10px 0 0 0; padding: 4px;
    31                    background-color: #E8EFF0; border: 1px solid #D3E7E9; }
    32    div.plain textarea { width: 99%; height: 300px; }
    33    div.traceback h3 { font-size: 1em; margin: 0 0 0.8em 0; }
    34    div.traceback ul { list-style: none; margin: 0; padding: 0 0 0 1em; }
    35    div.traceback h4 { font-size: 13px; font-weight: normal; margin: 0.7em 0 0.1em 0; }
    36    div.traceback pre { margin: 0; padding: 5px 0 3px 15px;
    37                        background-color: #E8EFF0; border: 1px solid #D3E7E9; }
    38    div.traceback .library .current { background: white; color: #555; }
    39    div.traceback .expanded .current { background: #E8EFF0; color: black; }
    40    div.traceback pre:hover { background-color: #DDECEE; color: black; cursor: pointer; }
    41    div.traceback div.source.expanded pre + pre { border-top: none; }
    42    
    43    div.traceback span.ws { display: none; }
    44    div.traceback pre.before, div.traceback pre.after { display: none; background: white; }
    45    div.traceback div.source.expanded pre.before,
    46    div.traceback div.source.expanded pre.after {
    47        display: block;
    48    }
    49    
    50    div.traceback div.source.expanded span.ws {
    51        display: inline;
    52    }
    53    
    54    div.traceback blockquote { margin: 1em 0 0 0; padding: 0; white-space: pre-line; }
    55    div.traceback img { float: right; padding: 2px; margin: -3px 2px 0 0; display: none; }
    56    div.traceback img:hover { background-color: #ddd; cursor: pointer;
    57                              border-color: #BFDDE0; }
    58    div.traceback pre:hover img { display: block; }
    59    div.traceback cite.filename { font-style: normal; color: #3B666B; }
    60    
    61    pre.console { border: 1px solid #ccc; background: white!important;
    62                  color: black; padding: 5px!important;
    63                  margin: 3px 0 0 0!important; cursor: default!important;
    64                  max-height: 400px; overflow: auto; }
    65    pre.console form { color: #555; }
    66    pre.console input { background-color: transparent; color: #555;
    67                        width: 90%; font-family: monospace; font-size: 14px;
    68                         border: none!important; }
    69    
    70    span.string { color: #30799B; }
    71    span.number { color: #9C1A1C; }
    72    span.help   { color: #3A7734; }
    73    span.object { color: #485F6E; }
    74    span.extended { opacity: 0.5; }
    75    span.extended:hover { opacity: 1; }
    76    a.toggle { text-decoration: none; background-repeat: no-repeat;
    77               background-position: center center;
    78               background-image: url(?__debugger__=yes&cmd=resource&f=more.png); }
    79    a.toggle:hover { background-color: #444; }
    80    a.open { background-image: url(?__debugger__=yes&cmd=resource&f=less.png); }
    81    
    82    pre.console div.traceback,
    83    pre.console div.box { margin: 5px 10px; white-space: normal;
    84                          border: 1px solid #11557C; padding: 10px;
    85                          font-family: sans-serif;  }
    86    pre.console div.box h3,
    87    pre.console div.traceback h3 { margin: -10px -10px 10px -10px; padding: 5px;
    88                                   background: #11557C; color: white; }
    89    
    90    pre.console div.traceback pre:hover { cursor: default; background: #E8EFF0; }
    91    pre.console div.traceback pre.syntaxerror { background: inherit; border: none;
    92                                                margin: 20px -10px -10px -10px;
    93                                                padding: 10px; border-top: 1px solid #BFDDE0;
    94                                                background: #E8EFF0; }
    95    pre.console div.noframe-traceback pre.syntaxerror { margin-top: -10px; border: none; }
    96    
    97    pre.console div.box pre.repr { padding: 0; margin: 0; background-color: white; border: none; }
    98    pre.console div.box table { margin-top: 6px; }
    99    pre.console div.box pre { border: none; }
   100    pre.console div.box pre.help { background-color: white; }
   101    pre.console div.box pre.help:hover { cursor: default; }
   102    pre.console table tr { vertical-align: top; }
   103    div.console { border: 1px solid #ccc; padding: 4px; background-color: #fafafa; }
   104    
   105    div.traceback pre, div.console pre {
   106        white-space: pre-wrap;       /* css-3 should we be so lucky... */
   107        white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
   108        white-space: -pre-wrap;      /* Opera 4-6 ?? */
   109        white-space: -o-pre-wrap;    /* Opera 7 ?? */
   110        word-wrap: break-word;       /* Internet Explorer 5.5+ */
   111        _white-space: pre;           /* IE only hack to re-specify in
   112                                     addition to word-wrap  */
   113    }
   114    
   115    
   116    div.pin-prompt {
   117        position: absolute;
   118        display: none;
   119        top: 0;
   120        bottom: 0;
   121        left: 0;
   122        right: 0;
   123        background: rgba(255, 255, 255, 0.8);
   124    }
   125    
   126    div.pin-prompt .inner {
   127        background: #eee;
   128        padding: 10px 50px;
   129        width: 350px;
   130        margin: 10% auto 0 auto;
   131        border: 1px solid #ccc;
   132        border-radius: 2px;
   133    }
   134    
   135    div.exc-divider {
   136        margin: 0.7em 0 0 -1em;
   137        padding: 0.5em;
   138        background: #11557C;
   139        color: #ddd;
   140        border: 1px solid #ddd;
   141    }
   142    
   143    .console.active {
   144        max-height: 0!important;
   145        display: none;
   146    }
   147    
   148    .hidden {
   149        display: none;
   150    }
```

## File: ./.venv/lib/python3.12/site-packages/werkzeug/debug/shared/debugger.js
```debugger.js
     1    docReady(() => {
     2      if (!EVALEX_TRUSTED) {
     3        initPinBox();
     4      }
     5      // if we are in console mode, show the console.
     6      if (CONSOLE_MODE && EVALEX) {
     7        createInteractiveConsole();
     8      }
     9    
    10      const frames = document.querySelectorAll("div.traceback div.frame");
    11      if (EVALEX) {
    12        addConsoleIconToFrames(frames);
    13      }
    14      addEventListenersToElements(document.querySelectorAll("div.detail"), "click", () =>
    15        document.querySelector("div.traceback").scrollIntoView(false)
    16      );
    17      addToggleFrameTraceback(frames);
    18      addToggleTraceTypesOnClick(document.querySelectorAll("h2.traceback"));
    19      addInfoPrompt(document.querySelectorAll("span.nojavascript"));
    20      wrapPlainTraceback();
    21    });
    22    
    23    function addToggleFrameTraceback(frames) {
    24      frames.forEach((frame) => {
    25        frame.addEventListener("click", () => {
    26          frame.getElementsByTagName("pre")[0].parentElement.classList.toggle("expanded");
    27        });
    28      })
    29    }
    30    
    31    
    32    function wrapPlainTraceback() {
    33      const plainTraceback = document.querySelector("div.plain textarea");
    34      const wrapper = document.createElement("pre");
    35      const textNode = document.createTextNode(plainTraceback.textContent);
    36      wrapper.appendChild(textNode);
    37      plainTraceback.replaceWith(wrapper);
    38    }
    39    
    40    function makeDebugURL(args) {
    41      const params = new URLSearchParams(args)
    42      params.set("s", SECRET)
    43      return `?__debugger__=yes&${params}`
    44    }
    45    
    46    function initPinBox() {
    47      document.querySelector(".pin-prompt form").addEventListener(
    48        "submit",
    49        function (event) {
    50          event.preventDefault();
    51          const btn = this.btn;
    52          btn.disabled = true;
    53    
    54          fetch(
    55            makeDebugURL({cmd: "pinauth", pin: this.pin.value})
    56          )
    57            .then((res) => res.json())
    58            .then(({auth, exhausted}) => {
    59              if (auth) {
    60                EVALEX_TRUSTED = true;
    61                fadeOut(document.getElementsByClassName("pin-prompt")[0]);
    62              } else {
    63                alert(
    64                  `Error: ${
    65                    exhausted
    66                      ? "too many attempts.  Restart server to retry."
    67                      : "incorrect pin"
    68                  }`
    69                );
    70              }
    71            })
    72            .catch((err) => {
    73              alert("Error: Could not verify PIN.  Network error?");
    74              console.error(err);
    75            })
    76            .finally(() => (btn.disabled = false));
    77        },
    78        false
    79      );
    80    }
    81    
    82    function promptForPin() {
    83      if (!EVALEX_TRUSTED) {
    84        fetch(makeDebugURL({cmd: "printpin"}));
    85        const pinPrompt = document.getElementsByClassName("pin-prompt")[0];
    86        fadeIn(pinPrompt);
    87        document.querySelector('.pin-prompt input[name="pin"]').focus();
    88      }
    89    }
    90    
    91    /**
    92     * Helper function for shell initialization
    93     */
    94    function openShell(consoleNode, target, frameID) {
    95      promptForPin();
    96      if (consoleNode) {
    97        slideToggle(consoleNode);
    98        return consoleNode;
    99      }
   100      let historyPos = 0;
   101      const history = [""];
   102      const consoleElement = createConsole();
   103      const output = createConsoleOutput();
   104      const form = createConsoleInputForm();
   105      const command = createConsoleInput();
   106    
   107      target.parentNode.appendChild(consoleElement);
   108      consoleElement.append(output);
   109      consoleElement.append(form);
   110      form.append(command);
   111      command.focus();
   112      slideToggle(consoleElement);
   113    
   114      form.addEventListener("submit", (e) => {
   115        handleConsoleSubmit(e, command, frameID).then((consoleOutput) => {
   116          output.append(consoleOutput);
   117          command.focus();
   118          consoleElement.scrollTo(0, consoleElement.scrollHeight);
   119          const old = history.pop();
   120          history.push(command.value);
   121          if (typeof old !== "undefined") {
   122            history.push(old);
   123          }
   124          historyPos = history.length - 1;
   125          command.value = "";
   126        });
   127      });
   128    
   129      command.addEventListener("keydown", (e) => {
   130        if (e.key === "l" && e.ctrlKey) {
   131          output.innerText = "--- screen cleared ---";
   132        } else if (e.key === "ArrowUp" || e.key === "ArrowDown") {
   133          // Handle up arrow and down arrow.
   134          if (e.key === "ArrowUp" && historyPos > 0) {
   135            e.preventDefault();
   136            historyPos--;
   137          } else if (e.key === "ArrowDown" && historyPos < history.length - 1) {
   138            historyPos++;
   139          }
   140          command.value = history[historyPos];
   141        }
   142        return false;
   143      });
   144    
   145      return consoleElement;
   146    }
   147    
   148    function addEventListenersToElements(elements, event, listener) {
   149      elements.forEach((el) => el.addEventListener(event, listener));
   150    }
   151    
   152    /**
   153     * Add extra info
   154     */
   155    function addInfoPrompt(elements) {
   156      for (let i = 0; i < elements.length; i++) {
   157        elements[i].innerHTML =
   158          "<p>To switch between the interactive traceback and the plaintext " +
   159          'one, you can click on the "Traceback" headline. From the text ' +
   160          "traceback you can also create a paste of it. " +
   161          (!EVALEX
   162            ? ""
   163            : "For code execution mouse-over the frame you want to debug and " +
   164              "click on the console icon on the right side." +
   165              "<p>You can execute arbitrary Python code in the stack frames and " +
   166              "there are some extra helpers available for introspection:" +
   167              "<ul><li><code>dump()</code> shows all variables in the frame" +
   168              "<li><code>dump(obj)</code> dumps all that's known about the object</ul>");
   169        elements[i].classList.remove("nojavascript");
   170      }
   171    }
   172    
   173    function addConsoleIconToFrames(frames) {
   174      for (let i = 0; i < frames.length; i++) {
   175        let consoleNode = null;
   176        const target = frames[i];
   177        const frameID = frames[i].id.substring(6);
   178    
   179        for (let j = 0; j < target.getElementsByTagName("pre").length; j++) {
   180          const img = createIconForConsole();
   181          img.addEventListener("click", (e) => {
   182            e.stopPropagation();
   183            consoleNode = openShell(consoleNode, target, frameID);
   184            return false;
   185          });
   186          target.getElementsByTagName("pre")[j].append(img);
   187        }
   188      }
   189    }
   190    
   191    function slideToggle(target) {
   192      target.classList.toggle("active");
   193    }
   194    
   195    /**
   196     * toggle traceback types on click.
   197     */
   198    function addToggleTraceTypesOnClick(elements) {
   199      for (let i = 0; i < elements.length; i++) {
   200        elements[i].addEventListener("click", () => {
   201          document.querySelector("div.traceback").classList.toggle("hidden");
   202          document.querySelector("div.plain").classList.toggle("hidden");
   203        });
   204        elements[i].style.cursor = "pointer";
   205        document.querySelector("div.plain").classList.toggle("hidden");
   206      }
   207    }
   208    
   209    function createConsole() {
   210      const consoleNode = document.createElement("pre");
   211      consoleNode.classList.add("console");
   212      consoleNode.classList.add("active");
   213      return consoleNode;
   214    }
   215    
   216    function createConsoleOutput() {
   217      const output = document.createElement("div");
   218      output.classList.add("output");
   219      output.innerHTML = "[console ready]";
   220      return output;
   221    }
   222    
   223    function createConsoleInputForm() {
   224      const form = document.createElement("form");
   225      form.innerHTML = "&gt;&gt;&gt; ";
   226      return form;
   227    }
   228    
   229    function createConsoleInput() {
   230      const command = document.createElement("input");
   231      command.type = "text";
   232      command.setAttribute("autocomplete", "off");
   233      command.setAttribute("spellcheck", false);
   234      command.setAttribute("autocapitalize", "off");
   235      command.setAttribute("autocorrect", "off");
   236      return command;
   237    }
   238    
   239    function createIconForConsole() {
   240      const img = document.createElement("img");
   241      img.setAttribute("src", makeDebugURL({cmd: "resource", f: "console.png"}));
   242      img.setAttribute("title", "Open an interactive python shell in this frame");
   243      return img;
   244    }
   245    
   246    function createExpansionButtonForConsole() {
   247      const expansionButton = document.createElement("a");
   248      expansionButton.setAttribute("href", "#");
   249      expansionButton.setAttribute("class", "toggle");
   250      expansionButton.innerHTML = "&nbsp;&nbsp;";
   251      return expansionButton;
   252    }
   253    
   254    function createInteractiveConsole() {
   255      const target = document.querySelector("div.console div.inner");
   256      while (target.firstChild) {
   257        target.removeChild(target.firstChild);
   258      }
   259      openShell(null, target, 0);
   260    }
   261    
   262    function handleConsoleSubmit(e, command, frameID) {
   263      // Prevent page from refreshing.
   264      e.preventDefault();
   265    
   266      return new Promise((resolve) => {
   267        fetch(makeDebugURL({cmd: command.value, frm: frameID}))
   268          .then((res) => {
   269            return res.text();
   270          })
   271          .then((data) => {
   272            const tmp = document.createElement("div");
   273            tmp.innerHTML = data;
   274            resolve(tmp);
   275    
   276            // Handle expandable span for long list outputs.
   277            // Example to test: list(range(13))
   278            let wrapperAdded = false;
   279            const wrapperSpan = document.createElement("span");
   280            const expansionButton = createExpansionButtonForConsole();
   281    
   282            tmp.querySelectorAll("span.extended").forEach((spanToWrap) => {
   283              const parentDiv = spanToWrap.parentNode;
   284              if (!wrapperAdded) {
   285                parentDiv.insertBefore(wrapperSpan, spanToWrap);
   286                wrapperAdded = true;
   287              }
   288              parentDiv.removeChild(spanToWrap);
   289              wrapperSpan.append(spanToWrap);
   290              spanToWrap.hidden = true;
   291    
   292              expansionButton.addEventListener("click", (event) => {
   293                event.preventDefault();
   294                spanToWrap.hidden = !spanToWrap.hidden;
   295                expansionButton.classList.toggle("open");
   296                return false;
   297              });
   298            });
   299    
   300            // Add expansion button at end of wrapper.
   301            if (wrapperAdded) {
   302              wrapperSpan.append(expansionButton);
   303            }
   304          })
   305          .catch((err) => {
   306            console.error(err);
   307          });
   308        return false;
   309      });
   310    }
   311    
   312    function fadeOut(element) {
   313      element.style.opacity = 1;
   314    
   315      (function fade() {
   316        element.style.opacity -= 0.1;
   317        if (element.style.opacity < 0) {
   318          element.style.display = "none";
   319        } else {
   320          requestAnimationFrame(fade);
   321        }
   322      })();
   323    }
   324    
   325    function fadeIn(element, display) {
   326      element.style.opacity = 0;
   327      element.style.display = display || "block";
   328    
   329      (function fade() {
   330        let val = parseFloat(element.style.opacity) + 0.1;
   331        if (val <= 1) {
   332          element.style.opacity = val;
   333          requestAnimationFrame(fade);
   334        }
   335      })();
   336    }
   337    
   338    function docReady(fn) {
   339      if (document.readyState === "complete" || document.readyState === "interactive") {
   340        setTimeout(fn, 1);
   341      } else {
   342        document.addEventListener("DOMContentLoaded", fn);
   343      }
   344    }
```

## File: ./app/static/js/bootstrap.bundle.min.js
```bootstrap.bundle.min.js
     1    /*!
     2      * Bootstrap v5.3.8 (https://getbootstrap.com/)
     3      * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
     4      * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
     5      */
     6    !function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).bootstrap=e()}(this,function(){"use strict";const t=new Map,e={set(e,i,n){t.has(e)||t.set(e,new Map);const s=t.get(e);s.has(i)||0===s.size?s.set(i,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get:(e,i)=>t.has(e)&&t.get(e).get(i)||null,remove(e,i){if(!t.has(e))return;const n=t.get(e);n.delete(i),0===n.size&&t.delete(e)}},i="transitionend",n=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),t),s=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),o=t=>{t.dispatchEvent(new Event(i))},r=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),a=t=>r(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(n(t)):null,l=t=>{if(!r(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),i=t.closest("details:not([open])");if(!i)return e;if(i!==t){const e=t.closest("summary");if(e&&e.parentNode!==i)return!1;if(null===e)return!1}return e},c=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),h=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?h(t.parentNode):null},d=()=>{},u=t=>{t.offsetHeight},f=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,p=[],m=()=>"rtl"===document.documentElement.dir,g=t=>{var e;e=()=>{const e=f();if(e){const i=t.NAME,n=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=n,t.jQueryInterface)}},"loading"===document.readyState?(p.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of p)t()}),p.push(e)):e()},_=(t,e=[],i=t)=>"function"==typeof t?t.call(...e):i,b=(t,e,n=!0)=>{if(!n)return void _(t);const s=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const n=Number.parseFloat(e),s=Number.parseFloat(i);return n||s?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0})(e)+5;let r=!1;const a=({target:n})=>{n===e&&(r=!0,e.removeEventListener(i,a),_(t))};e.addEventListener(i,a),setTimeout(()=>{r||o(e)},s)},v=(t,e,i,n)=>{const s=t.length;let o=t.indexOf(e);return-1===o?!i&&n?t[s-1]:t[0]:(o+=i?1:-1,n&&(o=(o+s)%s),t[Math.max(0,Math.min(o,s-1))])},y=/[^.]*(?=\..*)\.|.*/,w=/\..*/,A=/::\d+$/,E={};let T=1;const C={mouseenter:"mouseover",mouseleave:"mouseout"},O=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function x(t,e){return e&&`${e}::${T++}`||t.uidEvent||T++}function k(t){const e=x(t);return t.uidEvent=e,E[e]=E[e]||{},E[e]}function L(t,e,i=null){return Object.values(t).find(t=>t.callable===e&&t.delegationSelector===i)}function S(t,e,i){const n="string"==typeof e,s=n?i:e||i;let o=N(t);return O.has(o)||(o=t),[n,s,o]}function D(t,e,i,n,s){if("string"!=typeof e||!t)return;let[o,r,a]=S(e,i,n);if(e in C){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};r=t(r)}const l=k(t),c=l[a]||(l[a]={}),h=L(c,r,o?i:null);if(h)return void(h.oneOff=h.oneOff&&s);const d=x(r,e.replace(y,"")),u=o?function(t,e,i){return function n(s){const o=t.querySelectorAll(e);for(let{target:r}=s;r&&r!==this;r=r.parentNode)for(const a of o)if(a===r)return j(s,{delegateTarget:r}),n.oneOff&&P.off(t,s.type,e,i),i.apply(r,[s])}}(t,i,r):function(t,e){return function i(n){return j(n,{delegateTarget:t}),i.oneOff&&P.off(t,n.type,e),e.apply(t,[n])}}(t,r);u.delegationSelector=o?i:null,u.callable=r,u.oneOff=s,u.uidEvent=d,c[d]=u,t.addEventListener(a,u,o)}function $(t,e,i,n,s){const o=L(e[i],n,s);o&&(t.removeEventListener(i,o,Boolean(s)),delete e[i][o.uidEvent])}function I(t,e,i,n){const s=e[i]||{};for(const[o,r]of Object.entries(s))o.includes(n)&&$(t,e,i,r.callable,r.delegationSelector)}function N(t){return t=t.replace(w,""),C[t]||t}const P={on(t,e,i,n){D(t,e,i,n,!1)},one(t,e,i,n){D(t,e,i,n,!0)},off(t,e,i,n){if("string"!=typeof e||!t)return;const[s,o,r]=S(e,i,n),a=r!==e,l=k(t),c=l[r]||{},h=e.startsWith(".");if(void 0===o){if(h)for(const i of Object.keys(l))I(t,l,i,e.slice(1));for(const[i,n]of Object.entries(c)){const s=i.replace(A,"");a&&!e.includes(s)||$(t,l,r,n.callable,n.delegationSelector)}}else{if(!Object.keys(c).length)return;$(t,l,r,o,s?i:null)}},trigger(t,e,i){if("string"!=typeof e||!t)return null;const n=f();let s=null,o=!0,r=!0,a=!1;e!==N(e)&&n&&(s=n.Event(e,i),n(t).trigger(s),o=!s.isPropagationStopped(),r=!s.isImmediatePropagationStopped(),a=s.isDefaultPrevented());const l=j(new Event(e,{bubbles:o,cancelable:!0}),i);return a&&l.preventDefault(),r&&t.dispatchEvent(l),l.defaultPrevented&&s&&s.preventDefault(),l}};function j(t,e={}){for(const[i,n]of Object.entries(e))try{t[i]=n}catch(e){Object.defineProperty(t,i,{configurable:!0,get:()=>n})}return t}function M(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function F(t){return t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const H={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${F(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${F(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter(t=>t.startsWith("bs")&&!t.startsWith("bsConfig"));for(const n of i){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=M(t.dataset[n])}return e},getDataAttribute:(t,e)=>M(t.getAttribute(`data-bs-${F(e)}`))};class W{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=r(e)?H.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...r(e)?H.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,n]of Object.entries(e)){const e=t[i],o=r(e)?"element":s(e);if(!new RegExp(n).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${o}" but expected type "${n}".`)}}}class B extends W{constructor(t,i){super(),(t=a(t))&&(this._element=t,this._config=this._getConfig(i),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){b(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return e.get(a(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const z=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&"#"!==i?i.trim():null}return e?e.split(",").map(t=>n(t)).join(","):null},R={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter(t=>t.matches(e)),parents(t,e){const i=[];let n=t.parentNode.closest(e);for(;n;)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(t=>!c(t)&&l(t))},getSelectorFromElement(t){const e=z(t);return e&&R.findOne(e)?e:null},getElementFromSelector(t){const e=z(t);return e?R.findOne(e):null},getMultipleElementsFromSelector(t){const e=z(t);return e?R.find(e):[]}},q=(t,e="hide")=>{const i=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;P.on(document,i,`[data-bs-dismiss="${n}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),c(this))return;const s=R.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(s)[e]()})},V=".bs.alert",K=`close${V}`,Q=`closed${V}`;class X extends B{static get NAME(){return"alert"}close(){if(P.trigger(this._element,K).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),P.trigger(this._element,Q),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=X.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}q(X,"close"),g(X);const Y='[data-bs-toggle="button"]';class U extends B{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=U.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}P.on(document,"click.bs.button.data-api",Y,t=>{t.preventDefault();const e=t.target.closest(Y);U.getOrCreateInstance(e).toggle()}),g(U);const G=".bs.swipe",J=`touchstart${G}`,Z=`touchmove${G}`,tt=`touchend${G}`,et=`pointerdown${G}`,it=`pointerup${G}`,nt={endCallback:null,leftCallback:null,rightCallback:null},st={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ot extends W{constructor(t,e){super(),this._element=t,t&&ot.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return nt}static get DefaultType(){return st}static get NAME(){return"swipe"}dispose(){P.off(this._element,G)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),_(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&_(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,et,t=>this._start(t)),P.on(this._element,it,t=>this._end(t)),this._element.classList.add("pointer-event")):(P.on(this._element,J,t=>this._start(t)),P.on(this._element,Z,t=>this._move(t)),P.on(this._element,tt,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const rt=".bs.carousel",at=".data-api",lt="ArrowLeft",ct="ArrowRight",ht="next",dt="prev",ut="left",ft="right",pt=`slide${rt}`,mt=`slid${rt}`,gt=`keydown${rt}`,_t=`mouseenter${rt}`,bt=`mouseleave${rt}`,vt=`dragstart${rt}`,yt=`load${rt}${at}`,wt=`click${rt}${at}`,At="carousel",Et="active",Tt=".active",Ct=".carousel-item",Ot=Tt+Ct,xt={[lt]:ft,[ct]:ut},kt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Lt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class St extends B{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=R.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===At&&this.cycle()}static get Default(){return kt}static get DefaultType(){return Lt}static get NAME(){return"carousel"}next(){this._slide(ht)}nextWhenVisible(){!document.hidden&&l(this._element)&&this.next()}prev(){this._slide(dt)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?P.one(this._element,mt,()=>this.cycle()):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void P.one(this._element,mt,()=>this.to(t));const i=this._getItemIndex(this._getActive());if(i===t)return;const n=t>i?ht:dt;this._slide(n,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&P.on(this._element,gt,t=>this._keydown(t)),"hover"===this._config.pause&&(P.on(this._element,_t,()=>this.pause()),P.on(this._element,bt,()=>this._maybeEnableCycle())),this._config.touch&&ot.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of R.find(".carousel-item img",this._element))P.on(t,vt,t=>t.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(ut)),rightCallback:()=>this._slide(this._directionToOrder(ft)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ot(this._element,t)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=xt[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=R.findOne(Tt,this._indicatorsElement);e.classList.remove(Et),e.removeAttribute("aria-current");const i=R.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(Et),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),n=t===ht,s=e||v(this._getItems(),i,n,this._config.wrap);if(s===i)return;const o=this._getItemIndex(s),r=e=>P.trigger(this._element,e,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:o});if(r(pt).defaultPrevented)return;if(!i||!s)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const l=n?"carousel-item-start":"carousel-item-end",c=n?"carousel-item-next":"carousel-item-prev";s.classList.add(c),u(s),i.classList.add(l),s.classList.add(l),this._queueCallback(()=>{s.classList.remove(l,c),s.classList.add(Et),i.classList.remove(Et,c,l),this._isSliding=!1,r(mt)},i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return R.findOne(Ot,this._element)}_getItems(){return R.find(Ct,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return m()?t===ut?dt:ht:t===ut?ht:dt}_orderToDirection(t){return m()?t===dt?ut:ft:t===dt?ft:ut}static jQueryInterface(t){return this.each(function(){const e=St.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}P.on(document,wt,"[data-bs-slide], [data-bs-slide-to]",function(t){const e=R.getElementFromSelector(this);if(!e||!e.classList.contains(At))return;t.preventDefault();const i=St.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");return n?(i.to(n),void i._maybeEnableCycle()):"next"===H.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())}),P.on(window,yt,()=>{const t=R.find('[data-bs-ride="carousel"]');for(const e of t)St.getOrCreateInstance(e)}),g(St);const Dt=".bs.collapse",$t=`show${Dt}`,It=`shown${Dt}`,Nt=`hide${Dt}`,Pt=`hidden${Dt}`,jt=`click${Dt}.data-api`,Mt="show",Ft="collapse",Ht="collapsing",Wt=`:scope .${Ft} .${Ft}`,Bt='[data-bs-toggle="collapse"]',zt={parent:null,toggle:!0},Rt={parent:"(null|element)",toggle:"boolean"};class qt extends B{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=R.find(Bt);for(const t of i){const e=R.getSelectorFromElement(t),i=R.find(e).filter(t=>t===this._element);null!==e&&i.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return zt}static get DefaultType(){return Rt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(t=>t!==this._element).map(t=>qt.getOrCreateInstance(t,{toggle:!1}))),t.length&&t[0]._isTransitioning)return;if(P.trigger(this._element,$t).defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove(Ft),this._element.classList.add(Ht),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ht),this._element.classList.add(Ft,Mt),this._element.style[e]="",P.trigger(this._element,It)},this._element,!0),this._element.style[e]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(P.trigger(this._element,Nt).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,u(this._element),this._element.classList.add(Ht),this._element.classList.remove(Ft,Mt);for(const t of this._triggerArray){const e=R.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ht),this._element.classList.add(Ft),P.trigger(this._element,Pt)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(Mt)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=a(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Bt);for(const e of t){const t=R.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=R.find(Wt,this._config.parent);return R.find(t,this._config.parent).filter(t=>!e.includes(t))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=qt.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}P.on(document,jt,Bt,function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of R.getMultipleElementsFromSelector(this))qt.getOrCreateInstance(t,{toggle:!1}).toggle()}),g(qt);var Vt="top",Kt="bottom",Qt="right",Xt="left",Yt="auto",Ut=[Vt,Kt,Qt,Xt],Gt="start",Jt="end",Zt="clippingParents",te="viewport",ee="popper",ie="reference",ne=Ut.reduce(function(t,e){return t.concat([e+"-"+Gt,e+"-"+Jt])},[]),se=[].concat(Ut,[Yt]).reduce(function(t,e){return t.concat([e,e+"-"+Gt,e+"-"+Jt])},[]),oe="beforeRead",re="read",ae="afterRead",le="beforeMain",ce="main",he="afterMain",de="beforeWrite",ue="write",fe="afterWrite",pe=[oe,re,ae,le,ce,he,de,ue,fe];function me(t){return t?(t.nodeName||"").toLowerCase():null}function ge(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function _e(t){return t instanceof ge(t).Element||t instanceof Element}function be(t){return t instanceof ge(t).HTMLElement||t instanceof HTMLElement}function ve(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ge(t).ShadowRoot||t instanceof ShadowRoot)}const ye={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},n=e.attributes[t]||{},s=e.elements[t];be(s)&&me(s)&&(Object.assign(s.style,i),Object.keys(n).forEach(function(t){var e=n[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(t){var n=e.elements[t],s=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce(function(t,e){return t[e]="",t},{});be(n)&&me(n)&&(Object.assign(n.style,o),Object.keys(s).forEach(function(t){n.removeAttribute(t)}))})}},requires:["computeStyles"]};function we(t){return t.split("-")[0]}var Ae=Math.max,Ee=Math.min,Te=Math.round;function Ce(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Oe(){return!/^((?!chrome|android).)*safari/i.test(Ce())}function xe(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var n=t.getBoundingClientRect(),s=1,o=1;e&&be(t)&&(s=t.offsetWidth>0&&Te(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Te(n.height)/t.offsetHeight||1);var r=(_e(t)?ge(t):window).visualViewport,a=!Oe()&&i,l=(n.left+(a&&r?r.offsetLeft:0))/s,c=(n.top+(a&&r?r.offsetTop:0))/o,h=n.width/s,d=n.height/o;return{width:h,height:d,top:c,right:l+h,bottom:c+d,left:l,x:l,y:c}}function ke(t){var e=xe(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function Le(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&ve(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Se(t){return ge(t).getComputedStyle(t)}function De(t){return["table","td","th"].indexOf(me(t))>=0}function $e(t){return((_e(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ie(t){return"html"===me(t)?t:t.assignedSlot||t.parentNode||(ve(t)?t.host:null)||$e(t)}function Ne(t){return be(t)&&"fixed"!==Se(t).position?t.offsetParent:null}function Pe(t){for(var e=ge(t),i=Ne(t);i&&De(i)&&"static"===Se(i).position;)i=Ne(i);return i&&("html"===me(i)||"body"===me(i)&&"static"===Se(i).position)?e:i||function(t){var e=/firefox/i.test(Ce());if(/Trident/i.test(Ce())&&be(t)&&"fixed"===Se(t).position)return null;var i=Ie(t);for(ve(i)&&(i=i.host);be(i)&&["html","body"].indexOf(me(i))<0;){var n=Se(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||e&&"filter"===n.willChange||e&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(t)||e}function je(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Me(t,e,i){return Ae(t,Ee(e,i))}function Fe(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function He(t,e){return e.reduce(function(e,i){return e[i]=t,e},{})}const We={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,n=t.name,s=t.options,o=i.elements.arrow,r=i.modifiersData.popperOffsets,a=we(i.placement),l=je(a),c=[Xt,Qt].indexOf(a)>=0?"height":"width";if(o&&r){var h=function(t,e){return Fe("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:He(t,Ut))}(s.padding,i),d=ke(o),u="y"===l?Vt:Xt,f="y"===l?Kt:Qt,p=i.rects.reference[c]+i.rects.reference[l]-r[l]-i.rects.popper[c],m=r[l]-i.rects.reference[l],g=Pe(o),_=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=p/2-m/2,v=h[u],y=_-d[c]-h[f],w=_/2-d[c]/2+b,A=Me(v,w,y),E=l;i.modifiersData[n]=((e={})[E]=A,e.centerOffset=A-w,e)}},effect:function(t){var e=t.state,i=t.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=e.elements.popper.querySelector(n)))&&Le(e.elements.popper,n)&&(e.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Be(t){return t.split("-")[1]}var ze={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Re(t){var e,i=t.popper,n=t.popperRect,s=t.placement,o=t.variation,r=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,d=t.isFixed,u=r.x,f=void 0===u?0:u,p=r.y,m=void 0===p?0:p,g="function"==typeof h?h({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var _=r.hasOwnProperty("x"),b=r.hasOwnProperty("y"),v=Xt,y=Vt,w=window;if(c){var A=Pe(i),E="clientHeight",T="clientWidth";A===ge(i)&&"static"!==Se(A=$e(i)).position&&"absolute"===a&&(E="scrollHeight",T="scrollWidth"),(s===Vt||(s===Xt||s===Qt)&&o===Jt)&&(y=Kt,m-=(d&&A===w&&w.visualViewport?w.visualViewport.height:A[E])-n.height,m*=l?1:-1),s!==Xt&&(s!==Vt&&s!==Kt||o!==Jt)||(v=Qt,f-=(d&&A===w&&w.visualViewport?w.visualViewport.width:A[T])-n.width,f*=l?1:-1)}var C,O=Object.assign({position:a},c&&ze),x=!0===h?function(t,e){var i=t.x,n=t.y,s=e.devicePixelRatio||1;return{x:Te(i*s)/s||0,y:Te(n*s)/s||0}}({x:f,y:m},ge(i)):{x:f,y:m};return f=x.x,m=x.y,l?Object.assign({},O,((C={})[y]=b?"0":"",C[v]=_?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",C)):Object.assign({},O,((e={})[y]=b?m+"px":"",e[v]=_?f+"px":"",e.transform="",e))}const qe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,n=i.gpuAcceleration,s=void 0===n||n,o=i.adaptive,r=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,c={placement:we(e.placement),variation:Be(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Re(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Re(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var Ve={passive:!0};const Ke={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,n=t.options,s=n.scroll,o=void 0===s||s,r=n.resize,a=void 0===r||r,l=ge(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(t){t.addEventListener("scroll",i.update,Ve)}),a&&l.addEventListener("resize",i.update,Ve),function(){o&&c.forEach(function(t){t.removeEventListener("scroll",i.update,Ve)}),a&&l.removeEventListener("resize",i.update,Ve)}},data:{}};var Qe={left:"right",right:"left",bottom:"top",top:"bottom"};function Xe(t){return t.replace(/left|right|bottom|top/g,function(t){return Qe[t]})}var Ye={start:"end",end:"start"};function Ue(t){return t.replace(/start|end/g,function(t){return Ye[t]})}function Ge(t){var e=ge(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Je(t){return xe($e(t)).left+Ge(t).scrollLeft}function Ze(t){var e=Se(t),i=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function ti(t){return["html","body","#document"].indexOf(me(t))>=0?t.ownerDocument.body:be(t)&&Ze(t)?t:ti(Ie(t))}function ei(t,e){var i;void 0===e&&(e=[]);var n=ti(t),s=n===(null==(i=t.ownerDocument)?void 0:i.body),o=ge(n),r=s?[o].concat(o.visualViewport||[],Ze(n)?n:[]):n,a=e.concat(r);return s?a:a.concat(ei(Ie(r)))}function ii(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ni(t,e,i){return e===te?ii(function(t,e){var i=ge(t),n=$e(t),s=i.visualViewport,o=n.clientWidth,r=n.clientHeight,a=0,l=0;if(s){o=s.width,r=s.height;var c=Oe();(c||!c&&"fixed"===e)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:r,x:a+Je(t),y:l}}(t,i)):_e(e)?function(t,e){var i=xe(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(e,i):ii(function(t){var e,i=$e(t),n=Ge(t),s=null==(e=t.ownerDocument)?void 0:e.body,o=Ae(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=Ae(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-n.scrollLeft+Je(t),l=-n.scrollTop;return"rtl"===Se(s||i).direction&&(a+=Ae(i.clientWidth,s?s.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}($e(t)))}function si(t){var e,i=t.reference,n=t.element,s=t.placement,o=s?we(s):null,r=s?Be(s):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(o){case Vt:e={x:a,y:i.y-n.height};break;case Kt:e={x:a,y:i.y+i.height};break;case Qt:e={x:i.x+i.width,y:l};break;case Xt:e={x:i.x-n.width,y:l};break;default:e={x:i.x,y:i.y}}var c=o?je(o):null;if(null!=c){var h="y"===c?"height":"width";switch(r){case Gt:e[c]=e[c]-(i[h]/2-n[h]/2);break;case Jt:e[c]=e[c]+(i[h]/2-n[h]/2)}}return e}function oi(t,e){void 0===e&&(e={});var i=e,n=i.placement,s=void 0===n?t.placement:n,o=i.strategy,r=void 0===o?t.strategy:o,a=i.boundary,l=void 0===a?Zt:a,c=i.rootBoundary,h=void 0===c?te:c,d=i.elementContext,u=void 0===d?ee:d,f=i.altBoundary,p=void 0!==f&&f,m=i.padding,g=void 0===m?0:m,_=Fe("number"!=typeof g?g:He(g,Ut)),b=u===ee?ie:ee,v=t.rects.popper,y=t.elements[p?b:u],w=function(t,e,i,n){var s="clippingParents"===e?function(t){var e=ei(Ie(t)),i=["absolute","fixed"].indexOf(Se(t).position)>=0&&be(t)?Pe(t):t;return _e(i)?e.filter(function(t){return _e(t)&&Le(t,i)&&"body"!==me(t)}):[]}(t):[].concat(e),o=[].concat(s,[i]),r=o[0],a=o.reduce(function(e,i){var s=ni(t,i,n);return e.top=Ae(s.top,e.top),e.right=Ee(s.right,e.right),e.bottom=Ee(s.bottom,e.bottom),e.left=Ae(s.left,e.left),e},ni(t,r,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(_e(y)?y:y.contextElement||$e(t.elements.popper),l,h,r),A=xe(t.elements.reference),E=si({reference:A,element:v,placement:s}),T=ii(Object.assign({},v,E)),C=u===ee?T:A,O={top:w.top-C.top+_.top,bottom:C.bottom-w.bottom+_.bottom,left:w.left-C.left+_.left,right:C.right-w.right+_.right},x=t.modifiersData.offset;if(u===ee&&x){var k=x[s];Object.keys(O).forEach(function(t){var e=[Qt,Kt].indexOf(t)>=0?1:-1,i=[Vt,Kt].indexOf(t)>=0?"y":"x";O[t]+=k[i]*e})}return O}function ri(t,e){void 0===e&&(e={});var i=e,n=i.placement,s=i.boundary,o=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?se:l,h=Be(n),d=h?a?ne:ne.filter(function(t){return Be(t)===h}):Ut,u=d.filter(function(t){return c.indexOf(t)>=0});0===u.length&&(u=d);var f=u.reduce(function(e,i){return e[i]=oi(t,{placement:i,boundary:s,rootBoundary:o,padding:r})[we(i)],e},{});return Object.keys(f).sort(function(t,e){return f[t]-f[e]})}const ai={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var s=i.mainAxis,o=void 0===s||s,r=i.altAxis,a=void 0===r||r,l=i.fallbackPlacements,c=i.padding,h=i.boundary,d=i.rootBoundary,u=i.altBoundary,f=i.flipVariations,p=void 0===f||f,m=i.allowedAutoPlacements,g=e.options.placement,_=we(g),b=l||(_!==g&&p?function(t){if(we(t)===Yt)return[];var e=Xe(t);return[Ue(t),e,Ue(e)]}(g):[Xe(g)]),v=[g].concat(b).reduce(function(t,i){return t.concat(we(i)===Yt?ri(e,{placement:i,boundary:h,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):i)},[]),y=e.rects.reference,w=e.rects.popper,A=new Map,E=!0,T=v[0],C=0;C<v.length;C++){var O=v[C],x=we(O),k=Be(O)===Gt,L=[Vt,Kt].indexOf(x)>=0,S=L?"width":"height",D=oi(e,{placement:O,boundary:h,rootBoundary:d,altBoundary:u,padding:c}),$=L?k?Qt:Xt:k?Kt:Vt;y[S]>w[S]&&($=Xe($));var I=Xe($),N=[];if(o&&N.push(D[x]<=0),a&&N.push(D[$]<=0,D[I]<=0),N.every(function(t){return t})){T=O,E=!1;break}A.set(O,N)}if(E)for(var P=function(t){var e=v.find(function(e){var i=A.get(e);if(i)return i.slice(0,t).every(function(t){return t})});if(e)return T=e,"break"},j=p?3:1;j>0&&"break"!==P(j);j--);e.placement!==T&&(e.modifiersData[n]._skip=!0,e.placement=T,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function li(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function ci(t){return[Vt,Qt,Kt,Xt].some(function(e){return t[e]>=0})}const hi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,n=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,r=oi(e,{elementContext:"reference"}),a=oi(e,{altBoundary:!0}),l=li(r,n),c=li(a,s,o),h=ci(l),d=ci(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}},di={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,n=t.name,s=i.offset,o=void 0===s?[0,0]:s,r=se.reduce(function(t,i){return t[i]=function(t,e,i){var n=we(t),s=[Xt,Vt].indexOf(n)>=0?-1:1,o="function"==typeof i?i(Object.assign({},e,{placement:t})):i,r=o[0],a=o[1];return r=r||0,a=(a||0)*s,[Xt,Qt].indexOf(n)>=0?{x:a,y:r}:{x:r,y:a}}(i,e.rects,o),t},{}),a=r[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=r}},ui={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=si({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})},data:{}},fi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,n=t.name,s=i.mainAxis,o=void 0===s||s,r=i.altAxis,a=void 0!==r&&r,l=i.boundary,c=i.rootBoundary,h=i.altBoundary,d=i.padding,u=i.tether,f=void 0===u||u,p=i.tetherOffset,m=void 0===p?0:p,g=oi(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:h}),_=we(e.placement),b=Be(e.placement),v=!b,y=je(_),w="x"===y?"y":"x",A=e.modifiersData.popperOffsets,E=e.rects.reference,T=e.rects.popper,C="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,O="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,k={x:0,y:0};if(A){if(o){var L,S="y"===y?Vt:Xt,D="y"===y?Kt:Qt,$="y"===y?"height":"width",I=A[y],N=I+g[S],P=I-g[D],j=f?-T[$]/2:0,M=b===Gt?E[$]:T[$],F=b===Gt?-T[$]:-E[$],H=e.elements.arrow,W=f&&H?ke(H):{width:0,height:0},B=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[S],R=B[D],q=Me(0,E[$],W[$]),V=v?E[$]/2-j-q-z-O.mainAxis:M-q-z-O.mainAxis,K=v?-E[$]/2+j+q+R+O.mainAxis:F+q+R+O.mainAxis,Q=e.elements.arrow&&Pe(e.elements.arrow),X=Q?"y"===y?Q.clientTop||0:Q.clientLeft||0:0,Y=null!=(L=null==x?void 0:x[y])?L:0,U=I+K-Y,G=Me(f?Ee(N,I+V-Y-X):N,I,f?Ae(P,U):P);A[y]=G,k[y]=G-I}if(a){var J,Z="x"===y?Vt:Xt,tt="x"===y?Kt:Qt,et=A[w],it="y"===w?"height":"width",nt=et+g[Z],st=et-g[tt],ot=-1!==[Vt,Xt].indexOf(_),rt=null!=(J=null==x?void 0:x[w])?J:0,at=ot?nt:et-E[it]-T[it]-rt+O.altAxis,lt=ot?et+E[it]+T[it]-rt-O.altAxis:st,ct=f&&ot?function(t,e,i){var n=Me(t,e,i);return n>i?i:n}(at,et,lt):Me(f?at:nt,et,f?lt:st);A[w]=ct,k[w]=ct-et}e.modifiersData[n]=k}},requiresIfExists:["offset"]};function pi(t,e,i){void 0===i&&(i=!1);var n,s,o=be(e),r=be(e)&&function(t){var e=t.getBoundingClientRect(),i=Te(e.width)/t.offsetWidth||1,n=Te(e.height)/t.offsetHeight||1;return 1!==i||1!==n}(e),a=$e(e),l=xe(t,r,i),c={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(o||!o&&!i)&&(("body"!==me(e)||Ze(a))&&(c=(n=e)!==ge(n)&&be(n)?{scrollLeft:(s=n).scrollLeft,scrollTop:s.scrollTop}:Ge(n)),be(e)?((h=xe(e,!0)).x+=e.clientLeft,h.y+=e.clientTop):a&&(h.x=Je(a))),{x:l.left+c.scrollLeft-h.x,y:l.top+c.scrollTop-h.y,width:l.width,height:l.height}}function mi(t){var e=new Map,i=new Set,n=[];function s(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!i.has(t)){var n=e.get(t);n&&s(n)}}),n.push(t)}return t.forEach(function(t){e.set(t.name,t)}),t.forEach(function(t){i.has(t.name)||s(t)}),n}var gi={placement:"bottom",modifiers:[],strategy:"absolute"};function _i(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function bi(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,n=void 0===i?[]:i,s=e.defaultOptions,o=void 0===s?gi:s;return function(t,e,i){void 0===i&&(i=o);var s,r,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},gi,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,h={state:a,setOptions:function(i){var s="function"==typeof i?i(a.options):i;d(),a.options=Object.assign({},o,a.options,s),a.scrollParents={reference:_e(t)?ei(t):t.contextElement?ei(t.contextElement):[],popper:ei(e)};var r,c,u=function(t){var e=mi(t);return pe.reduce(function(t,i){return t.concat(e.filter(function(t){return t.phase===i}))},[])}((r=[].concat(n,a.options.modifiers),c=r.reduce(function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t},{}),Object.keys(c).map(function(t){return c[t]})));return a.orderedModifiers=u.filter(function(t){return t.enabled}),a.orderedModifiers.forEach(function(t){var e=t.name,i=t.options,n=void 0===i?{}:i,s=t.effect;if("function"==typeof s){var o=s({state:a,name:e,instance:h,options:n});l.push(o||function(){})}}),h.update()},forceUpdate:function(){if(!c){var t=a.elements,e=t.reference,i=t.popper;if(_i(e,i)){a.rects={reference:pi(e,Pe(i),"fixed"===a.options.strategy),popper:ke(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(t){return a.modifiersData[t.name]=Object.assign({},t.data)});for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var s=a.orderedModifiers[n],o=s.fn,r=s.options,l=void 0===r?{}:r,d=s.name;"function"==typeof o&&(a=o({state:a,options:l,name:d,instance:h})||a)}else a.reset=!1,n=-1}}},update:(s=function(){return new Promise(function(t){h.forceUpdate(),t(a)})},function(){return r||(r=new Promise(function(t){Promise.resolve().then(function(){r=void 0,t(s())})})),r}),destroy:function(){d(),c=!0}};if(!_i(t,e))return h;function d(){l.forEach(function(t){return t()}),l=[]}return h.setOptions(i).then(function(t){!c&&i.onFirstUpdate&&i.onFirstUpdate(t)}),h}}var vi=bi(),yi=bi({defaultModifiers:[Ke,ui,qe,ye]}),wi=bi({defaultModifiers:[Ke,ui,qe,ye,di,ai,fi,We,hi]});const Ai=Object.freeze(Object.defineProperty({__proto__:null,afterMain:he,afterRead:ae,afterWrite:fe,applyStyles:ye,arrow:We,auto:Yt,basePlacements:Ut,beforeMain:le,beforeRead:oe,beforeWrite:de,bottom:Kt,clippingParents:Zt,computeStyles:qe,createPopper:wi,createPopperBase:vi,createPopperLite:yi,detectOverflow:oi,end:Jt,eventListeners:Ke,flip:ai,hide:hi,left:Xt,main:ce,modifierPhases:pe,offset:di,placements:se,popper:ee,popperGenerator:bi,popperOffsets:ui,preventOverflow:fi,read:re,reference:ie,right:Qt,start:Gt,top:Vt,variationPlacements:ne,viewport:te,write:ue},Symbol.toStringTag,{value:"Module"})),Ei="dropdown",Ti=".bs.dropdown",Ci=".data-api",Oi="ArrowUp",xi="ArrowDown",ki=`hide${Ti}`,Li=`hidden${Ti}`,Si=`show${Ti}`,Di=`shown${Ti}`,$i=`click${Ti}${Ci}`,Ii=`keydown${Ti}${Ci}`,Ni=`keyup${Ti}${Ci}`,Pi="show",ji='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Mi=`${ji}.${Pi}`,Fi=".dropdown-menu",Hi=m()?"top-end":"top-start",Wi=m()?"top-start":"top-end",Bi=m()?"bottom-end":"bottom-start",zi=m()?"bottom-start":"bottom-end",Ri=m()?"left-start":"right-start",qi=m()?"right-start":"left-start",Vi={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ki={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qi extends B{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=R.next(this._element,Fi)[0]||R.prev(this._element,Fi)[0]||R.findOne(Fi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Vi}static get DefaultType(){return Ki}static get NAME(){return Ei}toggle(){return this._isShown()?this.hide():this.show()}show(){if(c(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!P.trigger(this._element,Si,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const t of[].concat(...document.body.children))P.on(t,"mouseover",d);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Pi),this._element.classList.add(Pi),P.trigger(this._element,Di,t)}}hide(){if(c(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!P.trigger(this._element,ki,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))P.off(t,"mouseover",d);this._popper&&this._popper.destroy(),this._menu.classList.remove(Pi),this._element.classList.remove(Pi),this._element.setAttribute("aria-expanded","false"),H.removeDataAttribute(this._menu,"popper"),P.trigger(this._element,Li,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!r(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${Ei.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===Ai)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let t=this._element;"parent"===this._config.reference?t=this._parent:r(this._config.reference)?t=a(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=wi(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Pi)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return Ri;if(t.classList.contains("dropstart"))return qi;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Wi:Hi:e?zi:Bi}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(H.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..._(this._config.popperConfig,[void 0,t])}}_selectMenuItem({key:t,target:e}){const i=R.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(t=>l(t));i.length&&v(i,e,t===xi,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Qi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=R.find(Mi);for(const i of e){const e=Qi.getInstance(i);if(!e||!1===e._config.autoClose)continue;const n=t.composedPath(),s=n.includes(e._menu);if(n.includes(e._element)||"inside"===e._config.autoClose&&!s||"outside"===e._config.autoClose&&s)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:e._element};"click"===t.type&&(o.clickEvent=t),e._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,n=[Oi,xi].includes(t.key);if(!n&&!i)return;if(e&&!i)return;t.preventDefault();const s=this.matches(ji)?this:R.prev(this,ji)[0]||R.next(this,ji)[0]||R.findOne(ji,t.delegateTarget.parentNode),o=Qi.getOrCreateInstance(s);if(n)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),s.focus())}}P.on(document,Ii,ji,Qi.dataApiKeydownHandler),P.on(document,Ii,Fi,Qi.dataApiKeydownHandler),P.on(document,$i,Qi.clearMenus),P.on(document,Ni,Qi.clearMenus),P.on(document,$i,ji,function(t){t.preventDefault(),Qi.getOrCreateInstance(this).toggle()}),g(Qi);const Xi="backdrop",Yi="show",Ui=`mousedown.bs.${Xi}`,Gi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ji={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Zi extends W{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Gi}static get DefaultType(){return Ji}static get NAME(){return Xi}show(t){if(!this._config.isVisible)return void _(t);this._append();const e=this._getElement();this._config.isAnimated&&u(e),e.classList.add(Yi),this._emulateAnimation(()=>{_(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove(Yi),this._emulateAnimation(()=>{this.dispose(),_(t)})):_(t)}dispose(){this._isAppended&&(P.off(this._element,Ui),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=a(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),P.on(t,Ui,()=>{_(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){b(t,this._getElement(),this._config.isAnimated)}}const tn=".bs.focustrap",en=`focusin${tn}`,nn=`keydown.tab${tn}`,sn="backward",on={autofocus:!0,trapElement:null},rn={autofocus:"boolean",trapElement:"element"};class an extends W{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return on}static get DefaultType(){return rn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,tn),P.on(document,en,t=>this._handleFocusin(t)),P.on(document,nn,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,tn))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=R.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===sn?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?sn:"forward")}}const ln=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",cn=".sticky-top",hn="padding-right",dn="margin-right";class un{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,hn,e=>e+t),this._setElementAttributes(ln,hn,e=>e+t),this._setElementAttributes(cn,dn,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,hn),this._resetElementAttributes(ln,hn),this._resetElementAttributes(cn,dn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const n=this.getWidth();this._applyManipulationCallback(t,t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+n)return;this._saveInitialAttribute(t,e);const s=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${i(Number.parseFloat(s))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&H.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,t=>{const i=H.getDataAttribute(t,e);null!==i?(H.removeDataAttribute(t,e),t.style.setProperty(e,i)):t.style.removeProperty(e)})}_applyManipulationCallback(t,e){if(r(t))e(t);else for(const i of R.find(t,this._element))e(i)}}const fn=".bs.modal",pn=`hide${fn}`,mn=`hidePrevented${fn}`,gn=`hidden${fn}`,_n=`show${fn}`,bn=`shown${fn}`,vn=`resize${fn}`,yn=`click.dismiss${fn}`,wn=`mousedown.dismiss${fn}`,An=`keydown.dismiss${fn}`,En=`click${fn}.data-api`,Tn="modal-open",Cn="show",On="modal-static",xn={backdrop:!0,focus:!0,keyboard:!0},kn={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ln extends B{constructor(t,e){super(t,e),this._dialog=R.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new un,this._addEventListeners()}static get Default(){return xn}static get DefaultType(){return kn}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||P.trigger(this._element,_n,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Tn),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){this._isShown&&!this._isTransitioning&&(P.trigger(this._element,pn).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Cn),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){P.off(window,fn),P.off(this._dialog,fn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Zi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new an({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=R.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),u(this._element),this._element.classList.add(Cn),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,bn,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,An,t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),P.on(window,vn,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),P.on(this._element,wn,t=>{P.one(this._element,yn,e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Tn),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,gn)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(P.trigger(this._element,mn).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(On)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(On),this._queueCallback(()=>{this._element.classList.remove(On),this._queueCallback(()=>{this._element.style.overflowY=e},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const t=m()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!i&&t){const t=m()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=Ln.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}})}}P.on(document,En,'[data-bs-toggle="modal"]',function(t){const e=R.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),P.one(e,_n,t=>{t.defaultPrevented||P.one(e,gn,()=>{l(this)&&this.focus()})});const i=R.findOne(".modal.show");i&&Ln.getInstance(i).hide(),Ln.getOrCreateInstance(e).toggle(this)}),q(Ln),g(Ln);const Sn=".bs.offcanvas",Dn=".data-api",$n=`load${Sn}${Dn}`,In="show",Nn="showing",Pn="hiding",jn=".offcanvas.show",Mn=`show${Sn}`,Fn=`shown${Sn}`,Hn=`hide${Sn}`,Wn=`hidePrevented${Sn}`,Bn=`hidden${Sn}`,zn=`resize${Sn}`,Rn=`click${Sn}${Dn}`,qn=`keydown.dismiss${Sn}`,Vn={backdrop:!0,keyboard:!0,scroll:!1},Kn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Qn extends B{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Vn}static get DefaultType(){return Kn}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||P.trigger(this._element,Mn,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new un).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Nn),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(In),this._element.classList.remove(Nn),P.trigger(this._element,Fn,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&(P.trigger(this._element,Hn).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Pn),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(In,Pn),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new un).reset(),P.trigger(this._element,Bn)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new Zi({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():P.trigger(this._element,Wn)}:null})}_initializeFocusTrap(){return new an({trapElement:this._element})}_addEventListeners(){P.on(this._element,qn,t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():P.trigger(this._element,Wn))})}static jQueryInterface(t){return this.each(function(){const e=Qn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}P.on(document,Rn,'[data-bs-toggle="offcanvas"]',function(t){const e=R.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),c(this))return;P.one(e,Bn,()=>{l(this)&&this.focus()});const i=R.findOne(jn);i&&i!==e&&Qn.getInstance(i).hide(),Qn.getOrCreateInstance(e).toggle(this)}),P.on(window,$n,()=>{for(const t of R.find(jn))Qn.getOrCreateInstance(t).show()}),P.on(window,zn,()=>{for(const t of R.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&Qn.getOrCreateInstance(t).hide()}),q(Qn),g(Qn);const Xn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Yn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Un=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Gn=(t,e)=>{const i=t.nodeName.toLowerCase();return e.includes(i)?!Yn.has(i)||Boolean(Un.test(t.nodeValue)):e.filter(t=>t instanceof RegExp).some(t=>t.test(i))},Jn={allowList:Xn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Zn={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ts={entry:"(string|element|function|null)",selector:"(string|element)"};class es extends W{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Jn}static get DefaultType(){return Zn}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[e,i]of Object.entries(this._config.content))this._setContent(t,i,e);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},ts)}_setContent(t,e,i){const n=R.findOne(i,t);n&&((e=this._resolvePossibleFunction(e))?r(e)?this._putElementInTemplate(a(e),n):this._config.html?n.innerHTML=this._maybeSanitize(e):n.textContent=e:n.remove())}_maybeSanitize(t){return this._config.sanitize?function(t,e,i){if(!t.length)return t;if(i&&"function"==typeof i)return i(t);const n=(new window.DOMParser).parseFromString(t,"text/html"),s=[].concat(...n.body.querySelectorAll("*"));for(const t of s){const i=t.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){t.remove();continue}const n=[].concat(...t.attributes),s=[].concat(e["*"]||[],e[i]||[]);for(const e of n)Gn(e,s)||t.removeAttribute(e.nodeName)}return n.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return _(t,[void 0,this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const is=new Set(["sanitize","allowList","sanitizeFn"]),ns="fade",ss="show",os=".tooltip-inner",rs=".modal",as="hide.bs.modal",ls="hover",cs="focus",hs="click",ds={AUTO:"auto",TOP:"top",RIGHT:m()?"left":"right",BOTTOM:"bottom",LEFT:m()?"right":"left"},us={allowList:Xn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},fs={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ps extends B{constructor(t,e){if(void 0===Ai)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return us}static get DefaultType(){return fs}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(rs),as,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=P.trigger(this._element,this.constructor.eventName("show")),e=(h(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),P.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(ss),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))P.on(t,"mouseover",d);this._queueCallback(()=>{P.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!P.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ss),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))P.off(t,"mouseover",d);this._activeTrigger[hs]=!1,this._activeTrigger[cs]=!1,this._activeTrigger[ls]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),P.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(ns,ss),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(ns),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new es({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[os]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ns)}_isShown(){return this.tip&&this.tip.classList.contains(ss)}_createPopper(t){const e=_(this._config.placement,[this,t,this._element]),i=ds[e.toUpperCase()];return wi(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(t=>Number.parseInt(t,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return _(t,[this._element,this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,..._(this._config.popperConfig,[void 0,e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)P.on(this._element,this.constructor.eventName("click"),this._config.selector,t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger[hs]=!(e._isShown()&&e._activeTrigger[hs]),e.toggle()});else if("manual"!==e){const t=e===ls?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=e===ls?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");P.on(this._element,t,this._config.selector,t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?cs:ls]=!0,e._enter()}),P.on(this._element,i,this._config.selector,t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?cs:ls]=e._element.contains(t.relatedTarget),e._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(rs),as,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=H.getDataAttributes(this._element);for(const t of Object.keys(e))is.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:a(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=ps.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}g(ps);const ms=".popover-header",gs=".popover-body",_s={...ps.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},bs={...ps.DefaultType,content:"(null|string|element|function)"};class vs extends ps{static get Default(){return _s}static get DefaultType(){return bs}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[ms]:this._getTitle(),[gs]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=vs.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}g(vs);const ys=".bs.scrollspy",ws=`activate${ys}`,As=`click${ys}`,Es=`load${ys}.data-api`,Ts="active",Cs="[href]",Os=".nav-link",xs=`${Os}, .nav-item > ${Os}, .list-group-item`,ks={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ls={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ss extends B{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ks}static get DefaultType(){return Ls}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=a(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(t=>Number.parseFloat(t))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,As),P.on(this._config.target,As,Cs,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,n=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),t)}_observerCallback(t){const e=t=>this._targetLinks.get(`#${t.target.id}`),i=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},n=(this._rootElement||document.documentElement).scrollTop,s=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(o));continue}const t=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&t){if(i(o),!n)return}else s||t||i(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=R.find(Cs,this._config.target);for(const e of t){if(!e.hash||c(e))continue;const t=R.findOne(decodeURI(e.hash),this._element);l(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Ts),this._activateParents(t),P.trigger(this._element,ws,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))R.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Ts);else for(const e of R.parents(t,".nav, .list-group"))for(const t of R.prev(e,xs))t.classList.add(Ts)}_clearActiveClass(t){t.classList.remove(Ts);const e=R.find(`${Cs}.${Ts}`,t);for(const t of e)t.classList.remove(Ts)}static jQueryInterface(t){return this.each(function(){const e=Ss.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}P.on(window,Es,()=>{for(const t of R.find('[data-bs-spy="scroll"]'))Ss.getOrCreateInstance(t)}),g(Ss);const Ds=".bs.tab",$s=`hide${Ds}`,Is=`hidden${Ds}`,Ns=`show${Ds}`,Ps=`shown${Ds}`,js=`click${Ds}`,Ms=`keydown${Ds}`,Fs=`load${Ds}`,Hs="ArrowLeft",Ws="ArrowRight",Bs="ArrowUp",zs="ArrowDown",Rs="Home",qs="End",Vs="active",Ks="fade",Qs="show",Xs=".dropdown-toggle",Ys=`:not(${Xs})`,Us='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Gs=`.nav-link${Ys}, .list-group-item${Ys}, [role="tab"]${Ys}, ${Us}`,Js=`.${Vs}[data-bs-toggle="tab"], .${Vs}[data-bs-toggle="pill"], .${Vs}[data-bs-toggle="list"]`;class Zs extends B{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,Ms,t=>this._keydown(t)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?P.trigger(e,$s,{relatedTarget:t}):null;P.trigger(t,Ns,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(Vs),this._activate(R.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),P.trigger(t,Ps,{relatedTarget:e})):t.classList.add(Qs)},t,t.classList.contains(Ks)))}_deactivate(t,e){t&&(t.classList.remove(Vs),t.blur(),this._deactivate(R.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),P.trigger(t,Is,{relatedTarget:e})):t.classList.remove(Qs)},t,t.classList.contains(Ks)))}_keydown(t){if(![Hs,Ws,Bs,zs,Rs,qs].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(t=>!c(t));let i;if([Rs,qs].includes(t.key))i=e[t.key===Rs?0:e.length-1];else{const n=[Ws,zs].includes(t.key);i=v(e,t.target,n,!0)}i&&(i.focus({preventScroll:!0}),Zs.getOrCreateInstance(i).show())}_getChildren(){return R.find(Gs,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const t of e)this._setInitialAttributesOnChild(t)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=R.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const n=(t,n)=>{const s=R.findOne(t,i);s&&s.classList.toggle(n,e)};n(Xs,Vs),n(".dropdown-menu",Qs),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(Vs)}_getInnerElement(t){return t.matches(Gs)?t:R.findOne(Gs,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const e=Zs.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}P.on(document,js,Us,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),c(this)||Zs.getOrCreateInstance(this).show()}),P.on(window,Fs,()=>{for(const t of R.find(Js))Zs.getOrCreateInstance(t)}),g(Zs);const to=".bs.toast",eo=`mouseover${to}`,io=`mouseout${to}`,no=`focusin${to}`,so=`focusout${to}`,oo=`hide${to}`,ro=`hidden${to}`,ao=`show${to}`,lo=`shown${to}`,co="hide",ho="show",uo="showing",fo={animation:"boolean",autohide:"boolean",delay:"number"},po={animation:!0,autohide:!0,delay:5e3};class mo extends B{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return po}static get DefaultType(){return fo}static get NAME(){return"toast"}show(){P.trigger(this._element,ao).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(co),u(this._element),this._element.classList.add(ho,uo),this._queueCallback(()=>{this._element.classList.remove(uo),P.trigger(this._element,lo),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(P.trigger(this._element,oo).defaultPrevented||(this._element.classList.add(uo),this._queueCallback(()=>{this._element.classList.add(co),this._element.classList.remove(uo,ho),P.trigger(this._element,ro)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ho),super.dispose()}isShown(){return this._element.classList.contains(ho)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,eo,t=>this._onInteraction(t,!0)),P.on(this._element,io,t=>this._onInteraction(t,!1)),P.on(this._element,no,t=>this._onInteraction(t,!0)),P.on(this._element,so,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=mo.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}return q(mo),g(mo),{Alert:X,Button:U,Carousel:St,Collapse:qt,Dropdown:Qi,Modal:Ln,Offcanvas:Qn,Popover:vs,ScrollSpy:Ss,Tab:Zs,Toast:mo,Tooltip:ps}});
     7    //# sourceMappingURL=bootstrap.bundle.min.js.map```

## File: ./app/static/css/variables.css
```variables.css
     1    :root {
     2        --orange: #FF6D00;
     3        --orange-light: #FF9E40;
     4        --orange-dark: #E65100;
     5        --gray-dark: #333333;
     6        --gray: #666666;
     7        --gray-light: #F5F5F5;
     8        --border: #E0E0E0;
     9        --btn-radius: 10px;
    10        --btn-weight: 600;
    11    
    12        --transition-time: 0.3s;
    13    }```

## File: ./app/static/css/blocs/footer.css
```footer.css
     1    /* Футер */
     2    .footer {
     3        background-color: #111827;
     4        margin-top: auto;
     5        color: #e5e7eb;
     6    }
     7    
     8    /* Заголовки разделов */
     9    .footer-title {
    10        color: #ffffff;
    11        padding-bottom: 8px;
    12    }
    13    
    14    .footer-title::after {
    15        content: '';
    16        position: absolute;
    17        bottom: 0;
    18        left: 0;
    19        width: 30px;
    20        height: 2px;
    21        background-color: var(--orange);
    22    }
    23    
    24    /* Ссылки в футере */
    25    .footer-link {
    26        color: #9ca3af;
    27        text-decoration: none;
    28        font-size: 0.875rem;
    29        transition: color var(--transition-time);
    30    }
    31    
    32    .footer-link:hover {
    33        color: var(--orange);
    34    }
    35    
    36    /* Список в футере */
    37    .footer-list li {
    38        margin-bottom: 8px;
    39    }
    40    
    41    /* Социальные иконки */
    42    .footer-social-link {
    43        display: flex;
    44        align-items: center;
    45        justify-content: center;
    46        width: 36px;
    47        height: 36px;
    48        background-color: rgba(255, 255, 255, 0.04);
    49        border-radius: 50%;
    50        color: #d1d5db;
    51        font-size: 18px;
    52        text-decoration: none;
    53        transition: all var(--transition-time);
    54    }
    55    
    56    .footer-social-link:hover {
    57        background-color: var(--orange);
    58        color: white;
    59    }
    60    
    61    /* Контакты */
    62    .footer-contacts .fw-medium {
    63        color: #e5e7eb;
    64        font-size: 0.95rem;
    65    }
    66    
    67    /* Цвет оранжевый для иконок */
    68    .text-orange {
    69        color: var(--orange) !important;
    70    }
    71    
    72    /* Граница */
    73    .border-secondary {
    74        border-color: rgba(255, 255, 255, 0.12) !important;
    75    }
    76    
    77    /* Адаптивность */
    78    @media (max-width: 768px) {
    79        .footer {
    80            padding: 30px 0 20px;
    81        }
    82    
    83        .footer-list {
    84            margin-bottom: 20px;
    85        }
    86    }```

## File: ./app/static/css/blocs/header.css
```header.css
     1    /* Хедер */
     2    .site-header {
     3        border-bottom: 1px solid var(--border);
     4        background: white;
     5        padding: 0.75rem 0;
     6        position: sticky;
     7        top: 0;
     8        z-index: 1020;
     9    }
    10    
    11    /* Контейнер для левой части */
    12    .header-left-group {
    13        display: flex;
    14        align-items: center;
    15        gap: 1.5rem;
    16    }
    17    
    18    /* Кнопка Каталог */
    19    .btn-catalog {
    20        background-color: var(--orange);
    21        color: white;
    22        border-radius: var(--btn-radius);
    23        padding: 0.5rem 1.25rem;
    24        font-weight: var(--btn-weight);
    25        display: inline-flex;
    26        align-items: center;
    27        gap: 0.5rem;
    28        border: none;
    29        transition: background-color var(--transition-time);
    30        text-decoration: none;
    31        white-space: nowrap;
    32    }
    33    
    34    .btn-catalog:hover {
    35        background-color: var(--orange-dark);
    36        color: white;
    37    }
    38    
    39    /* Логотип */
    40    .header-logo {
    41        color: var(--gray-dark);
    42        text-decoration: none;
    43        display: flex;
    44        align-items: center;
    45        gap: 0.75rem;
    46    }
    47    
    48    .header-logo i {
    49        color: var(--orange);
    50        font-size: 1.8rem;
    51    }
    52    
    53    .logo-text {
    54        line-height: 1.2;
    55    }
    56    
    57    .logo-main {
    58        font-weight: 700;
    59        font-size: 1.4rem;
    60        color: var(--orange);
    61    }
    62    
    63    .logo-sub {
    64        font-size: 0.8rem;
    65        color: var(--gray);
    66    }
    67    
    68    /* Навигация */
    69    .header-nav .nav-link {
    70        color: var(--gray);
    71        font-weight: 500;
    72        padding: 0.5rem 1rem;
    73        margin: 0 0.15rem;
    74        border-radius: var(--btn-radius);
    75        transition: all var(--transition-time);
    76    }
    77    
    78    .header-nav .nav-link:hover,
    79    .header-nav .nav-link.active {
    80        color: var(--orange);
    81        background-color: rgba(255, 109, 0, 0.05);
    82    }
    83    
    84    /* Кнопки авторизации */
    85    .btn-login {
    86        border: 1px solid var(--border);
    87        border-radius: var(--btn-radius);
    88        padding: 0.5rem 1.2rem;
    89        color: var(--gray);
    90        font-weight: 500;
    91        transition: all var(--transition-time);
    92        text-decoration: none;
    93    }
    94    
    95    .btn-login:hover {
    96        background-color: var(--gray-light);
    97    }
    98    
    99    .btn-signup {
   100        background-color: var(--orange);
   101        border-radius: var(--btn-radius);
   102        padding: 0.5rem 1.2rem;
   103        color: white;
   104        font-weight: var(--btn-weight);
   105        border: 1px solid var(--orange);
   106        transition: all var(--transition-time);
   107        text-decoration: none;
   108    }
   109    
   110    .btn-signup:hover {
   111        background-color: var(--orange-dark);
   112        border-color: var(--orange-dark);
   113    }
   114    
   115    /* Стили для авторизованного пользователя */
   116    .dropdown-toggle {
   117        border: 1px solid var(--border);
   118        border-radius: var(--btn-radius);
   119        padding: 0.5rem 1rem;
   120        color: var(--gray-dark);
   121        font-weight: 500;
   122        transition: all var(--transition-time);
   123        display: inline-flex;
   124        align-items: center;
   125    }
   126    
   127    .dropdown-toggle:hover {
   128        background-color: var(--gray-light);
   129    }
   130    
   131    .dropdown-menu {
   132        border-radius: var(--btn-radius);
   133        border: 1px solid var(--border);
   134        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
   135        margin-top: 0.5rem;
   136    }
   137    
   138    .dropdown-item {
   139        padding: 0.5rem 1rem;
   140        color: var(--gray-dark);
   141        transition: all var(--transition-time);
   142        display: flex;
   143        align-items: center;
   144    }
   145    
   146    .dropdown-item:hover {
   147        background-color: rgba(255, 109, 0, 0.1);
   148        color: var(--orange);
   149    }
   150    
   151    .dropdown-item i {
   152        width: 1.2rem;
   153    }
   154    
   155    .dropdown-divider {
   156        border-color: var(--border);
   157        margin: 0.5rem 0;
   158    }
   159    
   160    /* Адаптивность для мобильных */
   161    @media (max-width: 991.98px) {
   162        .header-buttons {
   163            margin-top: 0.5rem;
   164            padding-top: 1rem;
   165            border-top: 1px solid var(--border);
   166            display: flex;
   167            flex-direction: column;
   168            gap: 0.5rem;
   169            width: 100%;
   170        }
   171    
   172        .header-buttons .btn,
   173        .header-buttons .dropdown {
   174            width: 100%;
   175        }
   176    
   177        .header-buttons .dropdown-toggle {
   178            width: 100%;
   179            justify-content: center;
   180        }
   181    
   182        .header-buttons .dropdown-menu {
   183            width: 100%;
   184            position: static !important;
   185            transform: none !important;
   186            border: none;
   187            box-shadow: none;
   188        }
   189    }
   190    
   191    /* Бургер меню */
   192    .navbar-toggler {
   193        border: none;
   194        padding: 0.5rem;
   195        font-size: 1.2rem;
   196        color: var(--gray-dark);
   197    }
   198    
   199    .navbar-toggler:focus {
   200        box-shadow: none;
   201        outline: none;
   202    }
   203    
   204    /* Мобильная навигация */
   205    @media (max-width: 991.98px) {
   206        .site-header {
   207            padding: 0.5rem 0;
   208        }
   209    
   210        .header-left-group {
   211            flex: 1;
   212        }
   213    
   214        .header-nav {
   215            margin: 0.5rem 0;
   216            padding: 1rem 0;
   217            border-top: 1px solid var(--border);
   218        }
   219    
   220        .header-nav .nav-link {
   221            margin: 0.15rem 0;
   222            padding: 0.75rem 1rem;
   223        }
   224    
   225        .header-buttons {
   226            margin-top: 0.5rem;
   227            padding-top: 1rem;
   228            border-top: 1px solid var(--border);
   229            display: flex;
   230            flex-direction: column;
   231            gap: 0.5rem;
   232        }
   233    
   234        .header-buttons .btn {
   235            width: 100%;
   236            justify-content: center;
   237        }
   238    
   239        /* Скрываем кнопку Каталог на мобильных в левой части */
   240        .btn-catalog.desktop-only {
   241            display: none;
   242        }
   243    
   244        /* Показываем кнопку Каталог в мобильном меню */
   245        .btn-catalog.mobile-only {
   246            display: flex;
   247            width: 100%;
   248            justify-content: center;
   249            margin-top: 0.5rem;
   250            margin-bottom: 0.5rem;
   251        }
   252    }
   253    
   254    /* Десктоп */
   255    @media (min-width: 992px) {
   256        .header-nav {
   257            margin: 0 auto;
   258        }
   259    
   260        .header-buttons {
   261            margin-left: auto;
   262        }
   263    
   264        /* Показываем только десктопную версию кнопки Каталог */
   265        .btn-catalog.desktop-only {
   266            display: inline-flex;
   267        }
   268    
   269        /* Скрываем мобильную версию кнопки Каталог */
   270        .btn-catalog.mobile-only {
   271            display: none;
   272        }
   273    }```

## File: ./app/static/css/reset.css
```reset.css
     1    /* static/css/reset.css */
     2    /* Современный сброс стилей с учетом семантики */
     3    *,
     4    *::before,
     5    *::after {
     6        box-sizing: border-box;
     7        margin: 0;
     8        padding: 0;
     9    }
    10    
    11    html {
    12        line-height: 1.15;
    13        -webkit-text-size-adjust: 100%;
    14        -webkit-font-smoothing: antialiased;
    15        -moz-osx-font-smoothing: grayscale;
    16    }
    17    
    18    body {
    19        min-height: 100vh;
    20        scroll-behavior: smooth;
    21        text-rendering: optimizeSpeed;
    22    }
    23    
    24    img,
    25    picture,
    26    video,
    27    canvas,
    28    svg {
    29        display: block;
    30        max-width: 100%;
    31        height: auto;
    32    }
    33    
    34    input,
    35    button,
    36    textarea,
    37    select {
    38        font: inherit;
    39        color: inherit;
    40    }
    41    
    42    button {
    43        background: none;
    44        border: none;
    45        cursor: pointer;
    46    }
    47    
    48    a {
    49        color: inherit;
    50        text-decoration: none;
    51        -webkit-tap-highlight-color: transparent;
    52    }
    53    
    54    ul,
    55    ol {
    56        list-style: none;
    57    }
    58    
    59    table {
    60        border-collapse: collapse;
    61        border-spacing: 0;
    62    }
    63    
    64    /* Убираем стандартный стиль для details/summary */
    65    details>summary {
    66        list-style: none;
    67    }
    68    
    69    details>summary::-webkit-details-marker {
    70        display: none;
    71    }
    72    
    73    /* Улучшаем читаемость */
    74    @media (prefers-reduced-motion: reduce) {
    75    
    76        *,
    77        *::before,
    78        *::after {
    79            animation-duration: 0.01ms !important;
    80            animation-iteration-count: 1 !important;
    81            transition-duration: 0.01ms !important;
    82            scroll-behavior: auto !important;
    83        }
    84    }
    85    
    86    /* Скрываем визуально, но оставляем доступным для скринридеров */
    87    .visually-hidden {
    88        position: absolute;
    89        width: 1px;
    90        height: 1px;
    91        padding: 0;
    92        margin: -1px;
    93        overflow: hidden;
    94        clip: rect(0, 0, 0, 0);
    95        white-space: nowrap;
    96        border: 0;
    97    }```

## File: ./app/static/css/base_settings.css
```base_settings.css
     1    body {
     2        font-family: 'Montserrat', sans-serif;
     3        min-height: 100vh;
     4        display: flex;
     5        flex-direction: column;
     6        margin: 0;
     7        color: var(--gray-dark);
     8        background-color: #ffffff;
     9    }
    10    
    11    main {
    12        flex: 1 0 auto;
    13    }
    14    
    15    /* Ссылки в тексте по умолчанию */
    16    a {
    17        color: var(--orange);
    18        text-decoration: none;
    19        transition: color var(--transition-time);
    20    }
    21    
    22    a:hover {
    23        color: var(--orange-dark);
    24        text-decoration: none;
    25    }
    26    
    27    /* Формы */
    28    .form-control:focus {
    29        border-color: var(--orange);
    30        box-shadow: 0 0 0 0.15rem rgba(255, 109, 0, 0.25);
    31    }
    32    
    33    .form-label {
    34        font-weight: 600;
    35        margin-bottom: 0.5rem;
    36    }
    37    
    38    /* Уведомления */
    39    .alert {
    40        border-radius: var(--btn-radius);
    41        margin-bottom: 1rem;
    42    }
    43    
    44    .alert-success {
    45        background-color: rgba(40, 167, 69, 0.06);
    46        border-color: rgba(40, 167, 69, 0.25);
    47        color: #155724;
    48    }
    49    
    50    .alert-danger {
    51        background-color: rgba(220, 53, 69, 0.06);
    52        border-color: rgba(220, 53, 69, 0.25);
    53        color: #721c24;
    54    }
    55    
    56    .alert-info {
    57        background-color: rgba(23, 162, 184, 0.06);
    58        border-color: rgba(23, 162, 184, 0.25);
    59        color: #0c5460;
    60    }
    61    
    62    /* Кнопки */
    63    .btn {
    64        border-radius: var(--btn-radius);
    65        font-weight: var(--btn-weight);
    66    }
    67    
    68    .btn-primary {
    69        background-color: var(--orange);
    70        border-color: var(--orange);
    71    }
    72    
    73    .btn-primary:hover {
    74        background-color: var(--orange-dark);
    75        border-color: var(--orange-dark);
    76    }
    77    
    78    .btn-outline-primary {
    79        color: var(--orange);
    80        border-color: var(--orange);
    81    }
    82    
    83    .btn-outline-primary:hover {
    84        background-color: rgba(255, 109, 0, 0.06);
    85        color: var(--orange-dark);
    86        border-color: var(--orange-dark);
    87    }
    88    
    89    .btn-secondary {
    90        background-color: #f1f3f5;
    91        border-color: #f1f3f5;
    92        color: var(--gray-dark);
    93    }
    94    
    95    .btn-secondary:hover {
    96        background-color: #e1e5ea;
    97        border-color: #e1e5ea;
    98    }
    99    
   100    /* Таблицы */
   101    .table {
   102        border-radius: var(--btn-radius);
   103        overflow: hidden;
   104    }
   105    
   106    .table thead th {
   107        background-color: var(--gray-light);
   108        border-bottom: 1px solid var(--border);
   109    }
   110    
   111    .table-hover tbody tr:hover {
   112        background-color: rgba(0, 0, 0, 0.01);
   113    }```

## File: ./app/static/css/main.css
```main.css
     1    /* Библиотеки */
     2    @import url(./lib/bootstrap.min.css);
     3    @import url(./lib/bootstrap-icons/font/bootstrap-icons.min.css);
     4    
     5    /* Шрифты */
     6    @import url(../fonts/fonts_include.css);
     7    
     8    /* Главный файл стилей */
     9    @import url(./reset.css);
    10    @import url(./base_settings.css);
    11    @import url(./variables.css);
    12    
    13    /* Компоненты */
    14    @import url(./blocs/header.css);
    15    @import url(./blocs/footer.css);```

[SKIPPED: Large file] ./app/static/css/lib/bootstrap.min.css
## File: ./app/static/css/lib/bootstrap-icons/font/bootstrap-icons.min.css
```bootstrap-icons.min.css
     1    /*!
     2     * Bootstrap Icons v1.13.1 (https://icons.getbootstrap.com/)
     3     * Copyright 2019-2024 The Bootstrap Authors
     4     * Licensed under MIT (https://github.com/twbs/icons/blob/main/LICENSE)
     5     */@font-face{font-display:block;font-family:bootstrap-icons;src:url("fonts/bootstrap-icons.woff2?e34853135f9e39acf64315236852cd5a") format("woff2"),url("fonts/bootstrap-icons.woff?e34853135f9e39acf64315236852cd5a") format("woff")}.bi::before,[class*=" bi-"]::before,[class^=bi-]::before{display:inline-block;font-family:bootstrap-icons!important;font-style:normal;font-weight:400!important;font-variant:normal;text-transform:none;line-height:1;vertical-align:-.125em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.bi-123::before{content:"\f67f"}.bi-alarm-fill::before{content:"\f101"}.bi-alarm::before{content:"\f102"}.bi-align-bottom::before{content:"\f103"}.bi-align-center::before{content:"\f104"}.bi-align-end::before{content:"\f105"}.bi-align-middle::before{content:"\f106"}.bi-align-start::before{content:"\f107"}.bi-align-top::before{content:"\f108"}.bi-alt::before{content:"\f109"}.bi-app-indicator::before{content:"\f10a"}.bi-app::before{content:"\f10b"}.bi-archive-fill::before{content:"\f10c"}.bi-archive::before{content:"\f10d"}.bi-arrow-90deg-down::before{content:"\f10e"}.bi-arrow-90deg-left::before{content:"\f10f"}.bi-arrow-90deg-right::before{content:"\f110"}.bi-arrow-90deg-up::before{content:"\f111"}.bi-arrow-bar-down::before{content:"\f112"}.bi-arrow-bar-left::before{content:"\f113"}.bi-arrow-bar-right::before{content:"\f114"}.bi-arrow-bar-up::before{content:"\f115"}.bi-arrow-clockwise::before{content:"\f116"}.bi-arrow-counterclockwise::before{content:"\f117"}.bi-arrow-down-circle-fill::before{content:"\f118"}.bi-arrow-down-circle::before{content:"\f119"}.bi-arrow-down-left-circle-fill::before{content:"\f11a"}.bi-arrow-down-left-circle::before{content:"\f11b"}.bi-arrow-down-left-square-fill::before{content:"\f11c"}.bi-arrow-down-left-square::before{content:"\f11d"}.bi-arrow-down-left::before{content:"\f11e"}.bi-arrow-down-right-circle-fill::before{content:"\f11f"}.bi-arrow-down-right-circle::before{content:"\f120"}.bi-arrow-down-right-square-fill::before{content:"\f121"}.bi-arrow-down-right-square::before{content:"\f122"}.bi-arrow-down-right::before{content:"\f123"}.bi-arrow-down-short::before{content:"\f124"}.bi-arrow-down-square-fill::before{content:"\f125"}.bi-arrow-down-square::before{content:"\f126"}.bi-arrow-down-up::before{content:"\f127"}.bi-arrow-down::before{content:"\f128"}.bi-arrow-left-circle-fill::before{content:"\f129"}.bi-arrow-left-circle::before{content:"\f12a"}.bi-arrow-left-right::before{content:"\f12b"}.bi-arrow-left-short::before{content:"\f12c"}.bi-arrow-left-square-fill::before{content:"\f12d"}.bi-arrow-left-square::before{content:"\f12e"}.bi-arrow-left::before{content:"\f12f"}.bi-arrow-repeat::before{content:"\f130"}.bi-arrow-return-left::before{content:"\f131"}.bi-arrow-return-right::before{content:"\f132"}.bi-arrow-right-circle-fill::before{content:"\f133"}.bi-arrow-right-circle::before{content:"\f134"}.bi-arrow-right-short::before{content:"\f135"}.bi-arrow-right-square-fill::before{content:"\f136"}.bi-arrow-right-square::before{content:"\f137"}.bi-arrow-right::before{content:"\f138"}.bi-arrow-up-circle-fill::before{content:"\f139"}.bi-arrow-up-circle::before{content:"\f13a"}.bi-arrow-up-left-circle-fill::before{content:"\f13b"}.bi-arrow-up-left-circle::before{content:"\f13c"}.bi-arrow-up-left-square-fill::before{content:"\f13d"}.bi-arrow-up-left-square::before{content:"\f13e"}.bi-arrow-up-left::before{content:"\f13f"}.bi-arrow-up-right-circle-fill::before{content:"\f140"}.bi-arrow-up-right-circle::before{content:"\f141"}.bi-arrow-up-right-square-fill::before{content:"\f142"}.bi-arrow-up-right-square::before{content:"\f143"}.bi-arrow-up-right::before{content:"\f144"}.bi-arrow-up-short::before{content:"\f145"}.bi-arrow-up-square-fill::before{content:"\f146"}.bi-arrow-up-square::before{content:"\f147"}.bi-arrow-up::before{content:"\f148"}.bi-arrows-angle-contract::before{content:"\f149"}.bi-arrows-angle-expand::before{content:"\f14a"}.bi-arrows-collapse::before{content:"\f14b"}.bi-arrows-expand::before{content:"\f14c"}.bi-arrows-fullscreen::before{content:"\f14d"}.bi-arrows-move::before{content:"\f14e"}.bi-aspect-ratio-fill::before{content:"\f14f"}.bi-aspect-ratio::before{content:"\f150"}.bi-asterisk::before{content:"\f151"}.bi-at::before{content:"\f152"}.bi-award-fill::before{content:"\f153"}.bi-award::before{content:"\f154"}.bi-back::before{content:"\f155"}.bi-backspace-fill::before{content:"\f156"}.bi-backspace-reverse-fill::before{content:"\f157"}.bi-backspace-reverse::before{content:"\f158"}.bi-backspace::before{content:"\f159"}.bi-badge-3d-fill::before{content:"\f15a"}.bi-badge-3d::before{content:"\f15b"}.bi-badge-4k-fill::before{content:"\f15c"}.bi-badge-4k::before{content:"\f15d"}.bi-badge-8k-fill::before{content:"\f15e"}.bi-badge-8k::before{content:"\f15f"}.bi-badge-ad-fill::before{content:"\f160"}.bi-badge-ad::before{content:"\f161"}.bi-badge-ar-fill::before{content:"\f162"}.bi-badge-ar::before{content:"\f163"}.bi-badge-cc-fill::before{content:"\f164"}.bi-badge-cc::before{content:"\f165"}.bi-badge-hd-fill::before{content:"\f166"}.bi-badge-hd::before{content:"\f167"}.bi-badge-tm-fill::before{content:"\f168"}.bi-badge-tm::before{content:"\f169"}.bi-badge-vo-fill::before{content:"\f16a"}.bi-badge-vo::before{content:"\f16b"}.bi-badge-vr-fill::before{content:"\f16c"}.bi-badge-vr::before{content:"\f16d"}.bi-badge-wc-fill::before{content:"\f16e"}.bi-badge-wc::before{content:"\f16f"}.bi-bag-check-fill::before{content:"\f170"}.bi-bag-check::before{content:"\f171"}.bi-bag-dash-fill::before{content:"\f172"}.bi-bag-dash::before{content:"\f173"}.bi-bag-fill::before{content:"\f174"}.bi-bag-plus-fill::before{content:"\f175"}.bi-bag-plus::before{content:"\f176"}.bi-bag-x-fill::before{content:"\f177"}.bi-bag-x::before{content:"\f178"}.bi-bag::before{content:"\f179"}.bi-bar-chart-fill::before{content:"\f17a"}.bi-bar-chart-line-fill::before{content:"\f17b"}.bi-bar-chart-line::before{content:"\f17c"}.bi-bar-chart-steps::before{content:"\f17d"}.bi-bar-chart::before{content:"\f17e"}.bi-basket-fill::before{content:"\f17f"}.bi-basket::before{content:"\f180"}.bi-basket2-fill::before{content:"\f181"}.bi-basket2::before{content:"\f182"}.bi-basket3-fill::before{content:"\f183"}.bi-basket3::before{content:"\f184"}.bi-battery-charging::before{content:"\f185"}.bi-battery-full::before{content:"\f186"}.bi-battery-half::before{content:"\f187"}.bi-battery::before{content:"\f188"}.bi-bell-fill::before{content:"\f189"}.bi-bell::before{content:"\f18a"}.bi-bezier::before{content:"\f18b"}.bi-bezier2::before{content:"\f18c"}.bi-bicycle::before{content:"\f18d"}.bi-binoculars-fill::before{content:"\f18e"}.bi-binoculars::before{content:"\f18f"}.bi-blockquote-left::before{content:"\f190"}.bi-blockquote-right::before{content:"\f191"}.bi-book-fill::before{content:"\f192"}.bi-book-half::before{content:"\f193"}.bi-book::before{content:"\f194"}.bi-bookmark-check-fill::before{content:"\f195"}.bi-bookmark-check::before{content:"\f196"}.bi-bookmark-dash-fill::before{content:"\f197"}.bi-bookmark-dash::before{content:"\f198"}.bi-bookmark-fill::before{content:"\f199"}.bi-bookmark-heart-fill::before{content:"\f19a"}.bi-bookmark-heart::before{content:"\f19b"}.bi-bookmark-plus-fill::before{content:"\f19c"}.bi-bookmark-plus::before{content:"\f19d"}.bi-bookmark-star-fill::before{content:"\f19e"}.bi-bookmark-star::before{content:"\f19f"}.bi-bookmark-x-fill::before{content:"\f1a0"}.bi-bookmark-x::before{content:"\f1a1"}.bi-bookmark::before{content:"\f1a2"}.bi-bookmarks-fill::before{content:"\f1a3"}.bi-bookmarks::before{content:"\f1a4"}.bi-bookshelf::before{content:"\f1a5"}.bi-bootstrap-fill::before{content:"\f1a6"}.bi-bootstrap-reboot::before{content:"\f1a7"}.bi-bootstrap::before{content:"\f1a8"}.bi-border-all::before{content:"\f1a9"}.bi-border-bottom::before{content:"\f1aa"}.bi-border-center::before{content:"\f1ab"}.bi-border-inner::before{content:"\f1ac"}.bi-border-left::before{content:"\f1ad"}.bi-border-middle::before{content:"\f1ae"}.bi-border-outer::before{content:"\f1af"}.bi-border-right::before{content:"\f1b0"}.bi-border-style::before{content:"\f1b1"}.bi-border-top::before{content:"\f1b2"}.bi-border-width::before{content:"\f1b3"}.bi-border::before{content:"\f1b4"}.bi-bounding-box-circles::before{content:"\f1b5"}.bi-bounding-box::before{content:"\f1b6"}.bi-box-arrow-down-left::before{content:"\f1b7"}.bi-box-arrow-down-right::before{content:"\f1b8"}.bi-box-arrow-down::before{content:"\f1b9"}.bi-box-arrow-in-down-left::before{content:"\f1ba"}.bi-box-arrow-in-down-right::before{content:"\f1bb"}.bi-box-arrow-in-down::before{content:"\f1bc"}.bi-box-arrow-in-left::before{content:"\f1bd"}.bi-box-arrow-in-right::before{content:"\f1be"}.bi-box-arrow-in-up-left::before{content:"\f1bf"}.bi-box-arrow-in-up-right::before{content:"\f1c0"}.bi-box-arrow-in-up::before{content:"\f1c1"}.bi-box-arrow-left::before{content:"\f1c2"}.bi-box-arrow-right::before{content:"\f1c3"}.bi-box-arrow-up-left::before{content:"\f1c4"}.bi-box-arrow-up-right::before{content:"\f1c5"}.bi-box-arrow-up::before{content:"\f1c6"}.bi-box-seam::before{content:"\f1c7"}.bi-box::before{content:"\f1c8"}.bi-braces::before{content:"\f1c9"}.bi-bricks::before{content:"\f1ca"}.bi-briefcase-fill::before{content:"\f1cb"}.bi-briefcase::before{content:"\f1cc"}.bi-brightness-alt-high-fill::before{content:"\f1cd"}.bi-brightness-alt-high::before{content:"\f1ce"}.bi-brightness-alt-low-fill::before{content:"\f1cf"}.bi-brightness-alt-low::before{content:"\f1d0"}.bi-brightness-high-fill::before{content:"\f1d1"}.bi-brightness-high::before{content:"\f1d2"}.bi-brightness-low-fill::before{content:"\f1d3"}.bi-brightness-low::before{content:"\f1d4"}.bi-broadcast-pin::before{content:"\f1d5"}.bi-broadcast::before{content:"\f1d6"}.bi-brush-fill::before{content:"\f1d7"}.bi-brush::before{content:"\f1d8"}.bi-bucket-fill::before{content:"\f1d9"}.bi-bucket::before{content:"\f1da"}.bi-bug-fill::before{content:"\f1db"}.bi-bug::before{content:"\f1dc"}.bi-building::before{content:"\f1dd"}.bi-bullseye::before{content:"\f1de"}.bi-calculator-fill::before{content:"\f1df"}.bi-calculator::before{content:"\f1e0"}.bi-calendar-check-fill::before{content:"\f1e1"}.bi-calendar-check::before{content:"\f1e2"}.bi-calendar-date-fill::before{content:"\f1e3"}.bi-calendar-date::before{content:"\f1e4"}.bi-calendar-day-fill::before{content:"\f1e5"}.bi-calendar-day::before{content:"\f1e6"}.bi-calendar-event-fill::before{content:"\f1e7"}.bi-calendar-event::before{content:"\f1e8"}.bi-calendar-fill::before{content:"\f1e9"}.bi-calendar-minus-fill::before{content:"\f1ea"}.bi-calendar-minus::before{content:"\f1eb"}.bi-calendar-month-fill::before{content:"\f1ec"}.bi-calendar-month::before{content:"\f1ed"}.bi-calendar-plus-fill::before{content:"\f1ee"}.bi-calendar-plus::before{content:"\f1ef"}.bi-calendar-range-fill::before{content:"\f1f0"}.bi-calendar-range::before{content:"\f1f1"}.bi-calendar-week-fill::before{content:"\f1f2"}.bi-calendar-week::before{content:"\f1f3"}.bi-calendar-x-fill::before{content:"\f1f4"}.bi-calendar-x::before{content:"\f1f5"}.bi-calendar::before{content:"\f1f6"}.bi-calendar2-check-fill::before{content:"\f1f7"}.bi-calendar2-check::before{content:"\f1f8"}.bi-calendar2-date-fill::before{content:"\f1f9"}.bi-calendar2-date::before{content:"\f1fa"}.bi-calendar2-day-fill::before{content:"\f1fb"}.bi-calendar2-day::before{content:"\f1fc"}.bi-calendar2-event-fill::before{content:"\f1fd"}.bi-calendar2-event::before{content:"\f1fe"}.bi-calendar2-fill::before{content:"\f1ff"}.bi-calendar2-minus-fill::before{content:"\f200"}.bi-calendar2-minus::before{content:"\f201"}.bi-calendar2-month-fill::before{content:"\f202"}.bi-calendar2-month::before{content:"\f203"}.bi-calendar2-plus-fill::before{content:"\f204"}.bi-calendar2-plus::before{content:"\f205"}.bi-calendar2-range-fill::before{content:"\f206"}.bi-calendar2-range::before{content:"\f207"}.bi-calendar2-week-fill::before{content:"\f208"}.bi-calendar2-week::before{content:"\f209"}.bi-calendar2-x-fill::before{content:"\f20a"}.bi-calendar2-x::before{content:"\f20b"}.bi-calendar2::before{content:"\f20c"}.bi-calendar3-event-fill::before{content:"\f20d"}.bi-calendar3-event::before{content:"\f20e"}.bi-calendar3-fill::before{content:"\f20f"}.bi-calendar3-range-fill::before{content:"\f210"}.bi-calendar3-range::before{content:"\f211"}.bi-calendar3-week-fill::before{content:"\f212"}.bi-calendar3-week::before{content:"\f213"}.bi-calendar3::before{content:"\f214"}.bi-calendar4-event::before{content:"\f215"}.bi-calendar4-range::before{content:"\f216"}.bi-calendar4-week::before{content:"\f217"}.bi-calendar4::before{content:"\f218"}.bi-camera-fill::before{content:"\f219"}.bi-camera-reels-fill::before{content:"\f21a"}.bi-camera-reels::before{content:"\f21b"}.bi-camera-video-fill::before{content:"\f21c"}.bi-camera-video-off-fill::before{content:"\f21d"}.bi-camera-video-off::before{content:"\f21e"}.bi-camera-video::before{content:"\f21f"}.bi-camera::before{content:"\f220"}.bi-camera2::before{content:"\f221"}.bi-capslock-fill::before{content:"\f222"}.bi-capslock::before{content:"\f223"}.bi-card-checklist::before{content:"\f224"}.bi-card-heading::before{content:"\f225"}.bi-card-image::before{content:"\f226"}.bi-card-list::before{content:"\f227"}.bi-card-text::before{content:"\f228"}.bi-caret-down-fill::before{content:"\f229"}.bi-caret-down-square-fill::before{content:"\f22a"}.bi-caret-down-square::before{content:"\f22b"}.bi-caret-down::before{content:"\f22c"}.bi-caret-left-fill::before{content:"\f22d"}.bi-caret-left-square-fill::before{content:"\f22e"}.bi-caret-left-square::before{content:"\f22f"}.bi-caret-left::before{content:"\f230"}.bi-caret-right-fill::before{content:"\f231"}.bi-caret-right-square-fill::before{content:"\f232"}.bi-caret-right-square::before{content:"\f233"}.bi-caret-right::before{content:"\f234"}.bi-caret-up-fill::before{content:"\f235"}.bi-caret-up-square-fill::before{content:"\f236"}.bi-caret-up-square::before{content:"\f237"}.bi-caret-up::before{content:"\f238"}.bi-cart-check-fill::before{content:"\f239"}.bi-cart-check::before{content:"\f23a"}.bi-cart-dash-fill::before{content:"\f23b"}.bi-cart-dash::before{content:"\f23c"}.bi-cart-fill::before{content:"\f23d"}.bi-cart-plus-fill::before{content:"\f23e"}.bi-cart-plus::before{content:"\f23f"}.bi-cart-x-fill::before{content:"\f240"}.bi-cart-x::before{content:"\f241"}.bi-cart::before{content:"\f242"}.bi-cart2::before{content:"\f243"}.bi-cart3::before{content:"\f244"}.bi-cart4::before{content:"\f245"}.bi-cash-stack::before{content:"\f246"}.bi-cash::before{content:"\f247"}.bi-cast::before{content:"\f248"}.bi-chat-dots-fill::before{content:"\f249"}.bi-chat-dots::before{content:"\f24a"}.bi-chat-fill::before{content:"\f24b"}.bi-chat-left-dots-fill::before{content:"\f24c"}.bi-chat-left-dots::before{content:"\f24d"}.bi-chat-left-fill::before{content:"\f24e"}.bi-chat-left-quote-fill::before{content:"\f24f"}.bi-chat-left-quote::before{content:"\f250"}.bi-chat-left-text-fill::before{content:"\f251"}.bi-chat-left-text::before{content:"\f252"}.bi-chat-left::before{content:"\f253"}.bi-chat-quote-fill::before{content:"\f254"}.bi-chat-quote::before{content:"\f255"}.bi-chat-right-dots-fill::before{content:"\f256"}.bi-chat-right-dots::before{content:"\f257"}.bi-chat-right-fill::before{content:"\f258"}.bi-chat-right-quote-fill::before{content:"\f259"}.bi-chat-right-quote::before{content:"\f25a"}.bi-chat-right-text-fill::before{content:"\f25b"}.bi-chat-right-text::before{content:"\f25c"}.bi-chat-right::before{content:"\f25d"}.bi-chat-square-dots-fill::before{content:"\f25e"}.bi-chat-square-dots::before{content:"\f25f"}.bi-chat-square-fill::before{content:"\f260"}.bi-chat-square-quote-fill::before{content:"\f261"}.bi-chat-square-quote::before{content:"\f262"}.bi-chat-square-text-fill::before{content:"\f263"}.bi-chat-square-text::before{content:"\f264"}.bi-chat-square::before{content:"\f265"}.bi-chat-text-fill::before{content:"\f266"}.bi-chat-text::before{content:"\f267"}.bi-chat::before{content:"\f268"}.bi-check-all::before{content:"\f269"}.bi-check-circle-fill::before{content:"\f26a"}.bi-check-circle::before{content:"\f26b"}.bi-check-square-fill::before{content:"\f26c"}.bi-check-square::before{content:"\f26d"}.bi-check::before{content:"\f26e"}.bi-check2-all::before{content:"\f26f"}.bi-check2-circle::before{content:"\f270"}.bi-check2-square::before{content:"\f271"}.bi-check2::before{content:"\f272"}.bi-chevron-bar-contract::before{content:"\f273"}.bi-chevron-bar-down::before{content:"\f274"}.bi-chevron-bar-expand::before{content:"\f275"}.bi-chevron-bar-left::before{content:"\f276"}.bi-chevron-bar-right::before{content:"\f277"}.bi-chevron-bar-up::before{content:"\f278"}.bi-chevron-compact-down::before{content:"\f279"}.bi-chevron-compact-left::before{content:"\f27a"}.bi-chevron-compact-right::before{content:"\f27b"}.bi-chevron-compact-up::before{content:"\f27c"}.bi-chevron-contract::before{content:"\f27d"}.bi-chevron-double-down::before{content:"\f27e"}.bi-chevron-double-left::before{content:"\f27f"}.bi-chevron-double-right::before{content:"\f280"}.bi-chevron-double-up::before{content:"\f281"}.bi-chevron-down::before{content:"\f282"}.bi-chevron-expand::before{content:"\f283"}.bi-chevron-left::before{content:"\f284"}.bi-chevron-right::before{content:"\f285"}.bi-chevron-up::before{content:"\f286"}.bi-circle-fill::before{content:"\f287"}.bi-circle-half::before{content:"\f288"}.bi-circle-square::before{content:"\f289"}.bi-circle::before{content:"\f28a"}.bi-clipboard-check::before{content:"\f28b"}.bi-clipboard-data::before{content:"\f28c"}.bi-clipboard-minus::before{content:"\f28d"}.bi-clipboard-plus::before{content:"\f28e"}.bi-clipboard-x::before{content:"\f28f"}.bi-clipboard::before{content:"\f290"}.bi-clock-fill::before{content:"\f291"}.bi-clock-history::before{content:"\f292"}.bi-clock::before{content:"\f293"}.bi-cloud-arrow-down-fill::before{content:"\f294"}.bi-cloud-arrow-down::before{content:"\f295"}.bi-cloud-arrow-up-fill::before{content:"\f296"}.bi-cloud-arrow-up::before{content:"\f297"}.bi-cloud-check-fill::before{content:"\f298"}.bi-cloud-check::before{content:"\f299"}.bi-cloud-download-fill::before{content:"\f29a"}.bi-cloud-download::before{content:"\f29b"}.bi-cloud-drizzle-fill::before{content:"\f29c"}.bi-cloud-drizzle::before{content:"\f29d"}.bi-cloud-fill::before{content:"\f29e"}.bi-cloud-fog-fill::before{content:"\f29f"}.bi-cloud-fog::before{content:"\f2a0"}.bi-cloud-fog2-fill::before{content:"\f2a1"}.bi-cloud-fog2::before{content:"\f2a2"}.bi-cloud-hail-fill::before{content:"\f2a3"}.bi-cloud-hail::before{content:"\f2a4"}.bi-cloud-haze-fill::before{content:"\f2a6"}.bi-cloud-haze::before{content:"\f2a7"}.bi-cloud-haze2-fill::before{content:"\f2a8"}.bi-cloud-lightning-fill::before{content:"\f2a9"}.bi-cloud-lightning-rain-fill::before{content:"\f2aa"}.bi-cloud-lightning-rain::before{content:"\f2ab"}.bi-cloud-lightning::before{content:"\f2ac"}.bi-cloud-minus-fill::before{content:"\f2ad"}.bi-cloud-minus::before{content:"\f2ae"}.bi-cloud-moon-fill::before{content:"\f2af"}.bi-cloud-moon::before{content:"\f2b0"}.bi-cloud-plus-fill::before{content:"\f2b1"}.bi-cloud-plus::before{content:"\f2b2"}.bi-cloud-rain-fill::before{content:"\f2b3"}.bi-cloud-rain-heavy-fill::before{content:"\f2b4"}.bi-cloud-rain-heavy::before{content:"\f2b5"}.bi-cloud-rain::before{content:"\f2b6"}.bi-cloud-slash-fill::before{content:"\f2b7"}.bi-cloud-slash::before{content:"\f2b8"}.bi-cloud-sleet-fill::before{content:"\f2b9"}.bi-cloud-sleet::before{content:"\f2ba"}.bi-cloud-snow-fill::before{content:"\f2bb"}.bi-cloud-snow::before{content:"\f2bc"}.bi-cloud-sun-fill::before{content:"\f2bd"}.bi-cloud-sun::before{content:"\f2be"}.bi-cloud-upload-fill::before{content:"\f2bf"}.bi-cloud-upload::before{content:"\f2c0"}.bi-cloud::before{content:"\f2c1"}.bi-clouds-fill::before{content:"\f2c2"}.bi-clouds::before{content:"\f2c3"}.bi-cloudy-fill::before{content:"\f2c4"}.bi-cloudy::before{content:"\f2c5"}.bi-code-slash::before{content:"\f2c6"}.bi-code-square::before{content:"\f2c7"}.bi-code::before{content:"\f2c8"}.bi-collection-fill::before{content:"\f2c9"}.bi-collection-play-fill::before{content:"\f2ca"}.bi-collection-play::before{content:"\f2cb"}.bi-collection::before{content:"\f2cc"}.bi-columns-gap::before{content:"\f2cd"}.bi-columns::before{content:"\f2ce"}.bi-command::before{content:"\f2cf"}.bi-compass-fill::before{content:"\f2d0"}.bi-compass::before{content:"\f2d1"}.bi-cone-striped::before{content:"\f2d2"}.bi-cone::before{content:"\f2d3"}.bi-controller::before{content:"\f2d4"}.bi-cpu-fill::before{content:"\f2d5"}.bi-cpu::before{content:"\f2d6"}.bi-credit-card-2-back-fill::before{content:"\f2d7"}.bi-credit-card-2-back::before{content:"\f2d8"}.bi-credit-card-2-front-fill::before{content:"\f2d9"}.bi-credit-card-2-front::before{content:"\f2da"}.bi-credit-card-fill::before{content:"\f2db"}.bi-credit-card::before{content:"\f2dc"}.bi-crop::before{content:"\f2dd"}.bi-cup-fill::before{content:"\f2de"}.bi-cup-straw::before{content:"\f2df"}.bi-cup::before{content:"\f2e0"}.bi-cursor-fill::before{content:"\f2e1"}.bi-cursor-text::before{content:"\f2e2"}.bi-cursor::before{content:"\f2e3"}.bi-dash-circle-dotted::before{content:"\f2e4"}.bi-dash-circle-fill::before{content:"\f2e5"}.bi-dash-circle::before{content:"\f2e6"}.bi-dash-square-dotted::before{content:"\f2e7"}.bi-dash-square-fill::before{content:"\f2e8"}.bi-dash-square::before{content:"\f2e9"}.bi-dash::before{content:"\f2ea"}.bi-diagram-2-fill::before{content:"\f2eb"}.bi-diagram-2::before{content:"\f2ec"}.bi-diagram-3-fill::before{content:"\f2ed"}.bi-diagram-3::before{content:"\f2ee"}.bi-diamond-fill::before{content:"\f2ef"}.bi-diamond-half::before{content:"\f2f0"}.bi-diamond::before{content:"\f2f1"}.bi-dice-1-fill::before{content:"\f2f2"}.bi-dice-1::before{content:"\f2f3"}.bi-dice-2-fill::before{content:"\f2f4"}.bi-dice-2::before{content:"\f2f5"}.bi-dice-3-fill::before{content:"\f2f6"}.bi-dice-3::before{content:"\f2f7"}.bi-dice-4-fill::before{content:"\f2f8"}.bi-dice-4::before{content:"\f2f9"}.bi-dice-5-fill::before{content:"\f2fa"}.bi-dice-5::before{content:"\f2fb"}.bi-dice-6-fill::before{content:"\f2fc"}.bi-dice-6::before{content:"\f2fd"}.bi-disc-fill::before{content:"\f2fe"}.bi-disc::before{content:"\f2ff"}.bi-discord::before{content:"\f300"}.bi-display-fill::before{content:"\f301"}.bi-display::before{content:"\f302"}.bi-distribute-horizontal::before{content:"\f303"}.bi-distribute-vertical::before{content:"\f304"}.bi-door-closed-fill::before{content:"\f305"}.bi-door-closed::before{content:"\f306"}.bi-door-open-fill::before{content:"\f307"}.bi-door-open::before{content:"\f308"}.bi-dot::before{content:"\f309"}.bi-download::before{content:"\f30a"}.bi-droplet-fill::before{content:"\f30b"}.bi-droplet-half::before{content:"\f30c"}.bi-droplet::before{content:"\f30d"}.bi-earbuds::before{content:"\f30e"}.bi-easel-fill::before{content:"\f30f"}.bi-easel::before{content:"\f310"}.bi-egg-fill::before{content:"\f311"}.bi-egg-fried::before{content:"\f312"}.bi-egg::before{content:"\f313"}.bi-eject-fill::before{content:"\f314"}.bi-eject::before{content:"\f315"}.bi-emoji-angry-fill::before{content:"\f316"}.bi-emoji-angry::before{content:"\f317"}.bi-emoji-dizzy-fill::before{content:"\f318"}.bi-emoji-dizzy::before{content:"\f319"}.bi-emoji-expressionless-fill::before{content:"\f31a"}.bi-emoji-expressionless::before{content:"\f31b"}.bi-emoji-frown-fill::before{content:"\f31c"}.bi-emoji-frown::before{content:"\f31d"}.bi-emoji-heart-eyes-fill::before{content:"\f31e"}.bi-emoji-heart-eyes::before{content:"\f31f"}.bi-emoji-laughing-fill::before{content:"\f320"}.bi-emoji-laughing::before{content:"\f321"}.bi-emoji-neutral-fill::before{content:"\f322"}.bi-emoji-neutral::before{content:"\f323"}.bi-emoji-smile-fill::before{content:"\f324"}.bi-emoji-smile-upside-down-fill::before{content:"\f325"}.bi-emoji-smile-upside-down::before{content:"\f326"}.bi-emoji-smile::before{content:"\f327"}.bi-emoji-sunglasses-fill::before{content:"\f328"}.bi-emoji-sunglasses::before{content:"\f329"}.bi-emoji-wink-fill::before{content:"\f32a"}.bi-emoji-wink::before{content:"\f32b"}.bi-envelope-fill::before{content:"\f32c"}.bi-envelope-open-fill::before{content:"\f32d"}.bi-envelope-open::before{content:"\f32e"}.bi-envelope::before{content:"\f32f"}.bi-eraser-fill::before{content:"\f330"}.bi-eraser::before{content:"\f331"}.bi-exclamation-circle-fill::before{content:"\f332"}.bi-exclamation-circle::before{content:"\f333"}.bi-exclamation-diamond-fill::before{content:"\f334"}.bi-exclamation-diamond::before{content:"\f335"}.bi-exclamation-octagon-fill::before{content:"\f336"}.bi-exclamation-octagon::before{content:"\f337"}.bi-exclamation-square-fill::before{content:"\f338"}.bi-exclamation-square::before{content:"\f339"}.bi-exclamation-triangle-fill::before{content:"\f33a"}.bi-exclamation-triangle::before{content:"\f33b"}.bi-exclamation::before{content:"\f33c"}.bi-exclude::before{content:"\f33d"}.bi-eye-fill::before{content:"\f33e"}.bi-eye-slash-fill::before{content:"\f33f"}.bi-eye-slash::before{content:"\f340"}.bi-eye::before{content:"\f341"}.bi-eyedropper::before{content:"\f342"}.bi-eyeglasses::before{content:"\f343"}.bi-facebook::before{content:"\f344"}.bi-file-arrow-down-fill::before{content:"\f345"}.bi-file-arrow-down::before{content:"\f346"}.bi-file-arrow-up-fill::before{content:"\f347"}.bi-file-arrow-up::before{content:"\f348"}.bi-file-bar-graph-fill::before{content:"\f349"}.bi-file-bar-graph::before{content:"\f34a"}.bi-file-binary-fill::before{content:"\f34b"}.bi-file-binary::before{content:"\f34c"}.bi-file-break-fill::before{content:"\f34d"}.bi-file-break::before{content:"\f34e"}.bi-file-check-fill::before{content:"\f34f"}.bi-file-check::before{content:"\f350"}.bi-file-code-fill::before{content:"\f351"}.bi-file-code::before{content:"\f352"}.bi-file-diff-fill::before{content:"\f353"}.bi-file-diff::before{content:"\f354"}.bi-file-earmark-arrow-down-fill::before{content:"\f355"}.bi-file-earmark-arrow-down::before{content:"\f356"}.bi-file-earmark-arrow-up-fill::before{content:"\f357"}.bi-file-earmark-arrow-up::before{content:"\f358"}.bi-file-earmark-bar-graph-fill::before{content:"\f359"}.bi-file-earmark-bar-graph::before{content:"\f35a"}.bi-file-earmark-binary-fill::before{content:"\f35b"}.bi-file-earmark-binary::before{content:"\f35c"}.bi-file-earmark-break-fill::before{content:"\f35d"}.bi-file-earmark-break::before{content:"\f35e"}.bi-file-earmark-check-fill::before{content:"\f35f"}.bi-file-earmark-check::before{content:"\f360"}.bi-file-earmark-code-fill::before{content:"\f361"}.bi-file-earmark-code::before{content:"\f362"}.bi-file-earmark-diff-fill::before{content:"\f363"}.bi-file-earmark-diff::before{content:"\f364"}.bi-file-earmark-easel-fill::before{content:"\f365"}.bi-file-earmark-easel::before{content:"\f366"}.bi-file-earmark-excel-fill::before{content:"\f367"}.bi-file-earmark-excel::before{content:"\f368"}.bi-file-earmark-fill::before{content:"\f369"}.bi-file-earmark-font-fill::before{content:"\f36a"}.bi-file-earmark-font::before{content:"\f36b"}.bi-file-earmark-image-fill::before{content:"\f36c"}.bi-file-earmark-image::before{content:"\f36d"}.bi-file-earmark-lock-fill::before{content:"\f36e"}.bi-file-earmark-lock::before{content:"\f36f"}.bi-file-earmark-lock2-fill::before{content:"\f370"}.bi-file-earmark-lock2::before{content:"\f371"}.bi-file-earmark-medical-fill::before{content:"\f372"}.bi-file-earmark-medical::before{content:"\f373"}.bi-file-earmark-minus-fill::before{content:"\f374"}.bi-file-earmark-minus::before{content:"\f375"}.bi-file-earmark-music-fill::before{content:"\f376"}.bi-file-earmark-music::before{content:"\f377"}.bi-file-earmark-person-fill::before{content:"\f378"}.bi-file-earmark-person::before{content:"\f379"}.bi-file-earmark-play-fill::before{content:"\f37a"}.bi-file-earmark-play::before{content:"\f37b"}.bi-file-earmark-plus-fill::before{content:"\f37c"}.bi-file-earmark-plus::before{content:"\f37d"}.bi-file-earmark-post-fill::before{content:"\f37e"}.bi-file-earmark-post::before{content:"\f37f"}.bi-file-earmark-ppt-fill::before{content:"\f380"}.bi-file-earmark-ppt::before{content:"\f381"}.bi-file-earmark-richtext-fill::before{content:"\f382"}.bi-file-earmark-richtext::before{content:"\f383"}.bi-file-earmark-ruled-fill::before{content:"\f384"}.bi-file-earmark-ruled::before{content:"\f385"}.bi-file-earmark-slides-fill::before{content:"\f386"}.bi-file-earmark-slides::before{content:"\f387"}.bi-file-earmark-spreadsheet-fill::before{content:"\f388"}.bi-file-earmark-spreadsheet::before{content:"\f389"}.bi-file-earmark-text-fill::before{content:"\f38a"}.bi-file-earmark-text::before{content:"\f38b"}.bi-file-earmark-word-fill::before{content:"\f38c"}.bi-file-earmark-word::before{content:"\f38d"}.bi-file-earmark-x-fill::before{content:"\f38e"}.bi-file-earmark-x::before{content:"\f38f"}.bi-file-earmark-zip-fill::before{content:"\f390"}.bi-file-earmark-zip::before{content:"\f391"}.bi-file-earmark::before{content:"\f392"}.bi-file-easel-fill::before{content:"\f393"}.bi-file-easel::before{content:"\f394"}.bi-file-excel-fill::before{content:"\f395"}.bi-file-excel::before{content:"\f396"}.bi-file-fill::before{content:"\f397"}.bi-file-font-fill::before{content:"\f398"}.bi-file-font::before{content:"\f399"}.bi-file-image-fill::before{content:"\f39a"}.bi-file-image::before{content:"\f39b"}.bi-file-lock-fill::before{content:"\f39c"}.bi-file-lock::before{content:"\f39d"}.bi-file-lock2-fill::before{content:"\f39e"}.bi-file-lock2::before{content:"\f39f"}.bi-file-medical-fill::before{content:"\f3a0"}.bi-file-medical::before{content:"\f3a1"}.bi-file-minus-fill::before{content:"\f3a2"}.bi-file-minus::before{content:"\f3a3"}.bi-file-music-fill::before{content:"\f3a4"}.bi-file-music::before{content:"\f3a5"}.bi-file-person-fill::before{content:"\f3a6"}.bi-file-person::before{content:"\f3a7"}.bi-file-play-fill::before{content:"\f3a8"}.bi-file-play::before{content:"\f3a9"}.bi-file-plus-fill::before{content:"\f3aa"}.bi-file-plus::before{content:"\f3ab"}.bi-file-post-fill::before{content:"\f3ac"}.bi-file-post::before{content:"\f3ad"}.bi-file-ppt-fill::before{content:"\f3ae"}.bi-file-ppt::before{content:"\f3af"}.bi-file-richtext-fill::before{content:"\f3b0"}.bi-file-richtext::before{content:"\f3b1"}.bi-file-ruled-fill::before{content:"\f3b2"}.bi-file-ruled::before{content:"\f3b3"}.bi-file-slides-fill::before{content:"\f3b4"}.bi-file-slides::before{content:"\f3b5"}.bi-file-spreadsheet-fill::before{content:"\f3b6"}.bi-file-spreadsheet::before{content:"\f3b7"}.bi-file-text-fill::before{content:"\f3b8"}.bi-file-text::before{content:"\f3b9"}.bi-file-word-fill::before{content:"\f3ba"}.bi-file-word::before{content:"\f3bb"}.bi-file-x-fill::before{content:"\f3bc"}.bi-file-x::before{content:"\f3bd"}.bi-file-zip-fill::before{content:"\f3be"}.bi-file-zip::before{content:"\f3bf"}.bi-file::before{content:"\f3c0"}.bi-files-alt::before{content:"\f3c1"}.bi-files::before{content:"\f3c2"}.bi-film::before{content:"\f3c3"}.bi-filter-circle-fill::before{content:"\f3c4"}.bi-filter-circle::before{content:"\f3c5"}.bi-filter-left::before{content:"\f3c6"}.bi-filter-right::before{content:"\f3c7"}.bi-filter-square-fill::before{content:"\f3c8"}.bi-filter-square::before{content:"\f3c9"}.bi-filter::before{content:"\f3ca"}.bi-flag-fill::before{content:"\f3cb"}.bi-flag::before{content:"\f3cc"}.bi-flower1::before{content:"\f3cd"}.bi-flower2::before{content:"\f3ce"}.bi-flower3::before{content:"\f3cf"}.bi-folder-check::before{content:"\f3d0"}.bi-folder-fill::before{content:"\f3d1"}.bi-folder-minus::before{content:"\f3d2"}.bi-folder-plus::before{content:"\f3d3"}.bi-folder-symlink-fill::before{content:"\f3d4"}.bi-folder-symlink::before{content:"\f3d5"}.bi-folder-x::before{content:"\f3d6"}.bi-folder::before{content:"\f3d7"}.bi-folder2-open::before{content:"\f3d8"}.bi-folder2::before{content:"\f3d9"}.bi-fonts::before{content:"\f3da"}.bi-forward-fill::before{content:"\f3db"}.bi-forward::before{content:"\f3dc"}.bi-front::before{content:"\f3dd"}.bi-fullscreen-exit::before{content:"\f3de"}.bi-fullscreen::before{content:"\f3df"}.bi-funnel-fill::before{content:"\f3e0"}.bi-funnel::before{content:"\f3e1"}.bi-gear-fill::before{content:"\f3e2"}.bi-gear-wide-connected::before{content:"\f3e3"}.bi-gear-wide::before{content:"\f3e4"}.bi-gear::before{content:"\f3e5"}.bi-gem::before{content:"\f3e6"}.bi-geo-alt-fill::before{content:"\f3e7"}.bi-geo-alt::before{content:"\f3e8"}.bi-geo-fill::before{content:"\f3e9"}.bi-geo::before{content:"\f3ea"}.bi-gift-fill::before{content:"\f3eb"}.bi-gift::before{content:"\f3ec"}.bi-github::before{content:"\f3ed"}.bi-globe::before{content:"\f3ee"}.bi-globe2::before{content:"\f3ef"}.bi-google::before{content:"\f3f0"}.bi-graph-down::before{content:"\f3f1"}.bi-graph-up::before{content:"\f3f2"}.bi-grid-1x2-fill::before{content:"\f3f3"}.bi-grid-1x2::before{content:"\f3f4"}.bi-grid-3x2-gap-fill::before{content:"\f3f5"}.bi-grid-3x2-gap::before{content:"\f3f6"}.bi-grid-3x2::before{content:"\f3f7"}.bi-grid-3x3-gap-fill::before{content:"\f3f8"}.bi-grid-3x3-gap::before{content:"\f3f9"}.bi-grid-3x3::before{content:"\f3fa"}.bi-grid-fill::before{content:"\f3fb"}.bi-grid::before{content:"\f3fc"}.bi-grip-horizontal::before{content:"\f3fd"}.bi-grip-vertical::before{content:"\f3fe"}.bi-hammer::before{content:"\f3ff"}.bi-hand-index-fill::before{content:"\f400"}.bi-hand-index-thumb-fill::before{content:"\f401"}.bi-hand-index-thumb::before{content:"\f402"}.bi-hand-index::before{content:"\f403"}.bi-hand-thumbs-down-fill::before{content:"\f404"}.bi-hand-thumbs-down::before{content:"\f405"}.bi-hand-thumbs-up-fill::before{content:"\f406"}.bi-hand-thumbs-up::before{content:"\f407"}.bi-handbag-fill::before{content:"\f408"}.bi-handbag::before{content:"\f409"}.bi-hash::before{content:"\f40a"}.bi-hdd-fill::before{content:"\f40b"}.bi-hdd-network-fill::before{content:"\f40c"}.bi-hdd-network::before{content:"\f40d"}.bi-hdd-rack-fill::before{content:"\f40e"}.bi-hdd-rack::before{content:"\f40f"}.bi-hdd-stack-fill::before{content:"\f410"}.bi-hdd-stack::before{content:"\f411"}.bi-hdd::before{content:"\f412"}.bi-headphones::before{content:"\f413"}.bi-headset::before{content:"\f414"}.bi-heart-fill::before{content:"\f415"}.bi-heart-half::before{content:"\f416"}.bi-heart::before{content:"\f417"}.bi-heptagon-fill::before{content:"\f418"}.bi-heptagon-half::before{content:"\f419"}.bi-heptagon::before{content:"\f41a"}.bi-hexagon-fill::before{content:"\f41b"}.bi-hexagon-half::before{content:"\f41c"}.bi-hexagon::before{content:"\f41d"}.bi-hourglass-bottom::before{content:"\f41e"}.bi-hourglass-split::before{content:"\f41f"}.bi-hourglass-top::before{content:"\f420"}.bi-hourglass::before{content:"\f421"}.bi-house-door-fill::before{content:"\f422"}.bi-house-door::before{content:"\f423"}.bi-house-fill::before{content:"\f424"}.bi-house::before{content:"\f425"}.bi-hr::before{content:"\f426"}.bi-hurricane::before{content:"\f427"}.bi-image-alt::before{content:"\f428"}.bi-image-fill::before{content:"\f429"}.bi-image::before{content:"\f42a"}.bi-images::before{content:"\f42b"}.bi-inbox-fill::before{content:"\f42c"}.bi-inbox::before{content:"\f42d"}.bi-inboxes-fill::before{content:"\f42e"}.bi-inboxes::before{content:"\f42f"}.bi-info-circle-fill::before{content:"\f430"}.bi-info-circle::before{content:"\f431"}.bi-info-square-fill::before{content:"\f432"}.bi-info-square::before{content:"\f433"}.bi-info::before{content:"\f434"}.bi-input-cursor-text::before{content:"\f435"}.bi-input-cursor::before{content:"\f436"}.bi-instagram::before{content:"\f437"}.bi-intersect::before{content:"\f438"}.bi-journal-album::before{content:"\f439"}.bi-journal-arrow-down::before{content:"\f43a"}.bi-journal-arrow-up::before{content:"\f43b"}.bi-journal-bookmark-fill::before{content:"\f43c"}.bi-journal-bookmark::before{content:"\f43d"}.bi-journal-check::before{content:"\f43e"}.bi-journal-code::before{content:"\f43f"}.bi-journal-medical::before{content:"\f440"}.bi-journal-minus::before{content:"\f441"}.bi-journal-plus::before{content:"\f442"}.bi-journal-richtext::before{content:"\f443"}.bi-journal-text::before{content:"\f444"}.bi-journal-x::before{content:"\f445"}.bi-journal::before{content:"\f446"}.bi-journals::before{content:"\f447"}.bi-joystick::before{content:"\f448"}.bi-justify-left::before{content:"\f449"}.bi-justify-right::before{content:"\f44a"}.bi-justify::before{content:"\f44b"}.bi-kanban-fill::before{content:"\f44c"}.bi-kanban::before{content:"\f44d"}.bi-key-fill::before{content:"\f44e"}.bi-key::before{content:"\f44f"}.bi-keyboard-fill::before{content:"\f450"}.bi-keyboard::before{content:"\f451"}.bi-ladder::before{content:"\f452"}.bi-lamp-fill::before{content:"\f453"}.bi-lamp::before{content:"\f454"}.bi-laptop-fill::before{content:"\f455"}.bi-laptop::before{content:"\f456"}.bi-layer-backward::before{content:"\f457"}.bi-layer-forward::before{content:"\f458"}.bi-layers-fill::before{content:"\f459"}.bi-layers-half::before{content:"\f45a"}.bi-layers::before{content:"\f45b"}.bi-layout-sidebar-inset-reverse::before{content:"\f45c"}.bi-layout-sidebar-inset::before{content:"\f45d"}.bi-layout-sidebar-reverse::before{content:"\f45e"}.bi-layout-sidebar::before{content:"\f45f"}.bi-layout-split::before{content:"\f460"}.bi-layout-text-sidebar-reverse::before{content:"\f461"}.bi-layout-text-sidebar::before{content:"\f462"}.bi-layout-text-window-reverse::before{content:"\f463"}.bi-layout-text-window::before{content:"\f464"}.bi-layout-three-columns::before{content:"\f465"}.bi-layout-wtf::before{content:"\f466"}.bi-life-preserver::before{content:"\f467"}.bi-lightbulb-fill::before{content:"\f468"}.bi-lightbulb-off-fill::before{content:"\f469"}.bi-lightbulb-off::before{content:"\f46a"}.bi-lightbulb::before{content:"\f46b"}.bi-lightning-charge-fill::before{content:"\f46c"}.bi-lightning-charge::before{content:"\f46d"}.bi-lightning-fill::before{content:"\f46e"}.bi-lightning::before{content:"\f46f"}.bi-link-45deg::before{content:"\f470"}.bi-link::before{content:"\f471"}.bi-linkedin::before{content:"\f472"}.bi-list-check::before{content:"\f473"}.bi-list-nested::before{content:"\f474"}.bi-list-ol::before{content:"\f475"}.bi-list-stars::before{content:"\f476"}.bi-list-task::before{content:"\f477"}.bi-list-ul::before{content:"\f478"}.bi-list::before{content:"\f479"}.bi-lock-fill::before{content:"\f47a"}.bi-lock::before{content:"\f47b"}.bi-mailbox::before{content:"\f47c"}.bi-mailbox2::before{content:"\f47d"}.bi-map-fill::before{content:"\f47e"}.bi-map::before{content:"\f47f"}.bi-markdown-fill::before{content:"\f480"}.bi-markdown::before{content:"\f481"}.bi-mask::before{content:"\f482"}.bi-megaphone-fill::before{content:"\f483"}.bi-megaphone::before{content:"\f484"}.bi-menu-app-fill::before{content:"\f485"}.bi-menu-app::before{content:"\f486"}.bi-menu-button-fill::before{content:"\f487"}.bi-menu-button-wide-fill::before{content:"\f488"}.bi-menu-button-wide::before{content:"\f489"}.bi-menu-button::before{content:"\f48a"}.bi-menu-down::before{content:"\f48b"}.bi-menu-up::before{content:"\f48c"}.bi-mic-fill::before{content:"\f48d"}.bi-mic-mute-fill::before{content:"\f48e"}.bi-mic-mute::before{content:"\f48f"}.bi-mic::before{content:"\f490"}.bi-minecart-loaded::before{content:"\f491"}.bi-minecart::before{content:"\f492"}.bi-moisture::before{content:"\f493"}.bi-moon-fill::before{content:"\f494"}.bi-moon-stars-fill::before{content:"\f495"}.bi-moon-stars::before{content:"\f496"}.bi-moon::before{content:"\f497"}.bi-mouse-fill::before{content:"\f498"}.bi-mouse::before{content:"\f499"}.bi-mouse2-fill::before{content:"\f49a"}.bi-mouse2::before{content:"\f49b"}.bi-mouse3-fill::before{content:"\f49c"}.bi-mouse3::before{content:"\f49d"}.bi-music-note-beamed::before{content:"\f49e"}.bi-music-note-list::before{content:"\f49f"}.bi-music-note::before{content:"\f4a0"}.bi-music-player-fill::before{content:"\f4a1"}.bi-music-player::before{content:"\f4a2"}.bi-newspaper::before{content:"\f4a3"}.bi-node-minus-fill::before{content:"\f4a4"}.bi-node-minus::before{content:"\f4a5"}.bi-node-plus-fill::before{content:"\f4a6"}.bi-node-plus::before{content:"\f4a7"}.bi-nut-fill::before{content:"\f4a8"}.bi-nut::before{content:"\f4a9"}.bi-octagon-fill::before{content:"\f4aa"}.bi-octagon-half::before{content:"\f4ab"}.bi-octagon::before{content:"\f4ac"}.bi-option::before{content:"\f4ad"}.bi-outlet::before{content:"\f4ae"}.bi-paint-bucket::before{content:"\f4af"}.bi-palette-fill::before{content:"\f4b0"}.bi-palette::before{content:"\f4b1"}.bi-palette2::before{content:"\f4b2"}.bi-paperclip::before{content:"\f4b3"}.bi-paragraph::before{content:"\f4b4"}.bi-patch-check-fill::before{content:"\f4b5"}.bi-patch-check::before{content:"\f4b6"}.bi-patch-exclamation-fill::before{content:"\f4b7"}.bi-patch-exclamation::before{content:"\f4b8"}.bi-patch-minus-fill::before{content:"\f4b9"}.bi-patch-minus::before{content:"\f4ba"}.bi-patch-plus-fill::before{content:"\f4bb"}.bi-patch-plus::before{content:"\f4bc"}.bi-patch-question-fill::before{content:"\f4bd"}.bi-patch-question::before{content:"\f4be"}.bi-pause-btn-fill::before{content:"\f4bf"}.bi-pause-btn::before{content:"\f4c0"}.bi-pause-circle-fill::before{content:"\f4c1"}.bi-pause-circle::before{content:"\f4c2"}.bi-pause-fill::before{content:"\f4c3"}.bi-pause::before{content:"\f4c4"}.bi-peace-fill::before{content:"\f4c5"}.bi-peace::before{content:"\f4c6"}.bi-pen-fill::before{content:"\f4c7"}.bi-pen::before{content:"\f4c8"}.bi-pencil-fill::before{content:"\f4c9"}.bi-pencil-square::before{content:"\f4ca"}.bi-pencil::before{content:"\f4cb"}.bi-pentagon-fill::before{content:"\f4cc"}.bi-pentagon-half::before{content:"\f4cd"}.bi-pentagon::before{content:"\f4ce"}.bi-people-fill::before{content:"\f4cf"}.bi-people::before{content:"\f4d0"}.bi-percent::before{content:"\f4d1"}.bi-person-badge-fill::before{content:"\f4d2"}.bi-person-badge::before{content:"\f4d3"}.bi-person-bounding-box::before{content:"\f4d4"}.bi-person-check-fill::before{content:"\f4d5"}.bi-person-check::before{content:"\f4d6"}.bi-person-circle::before{content:"\f4d7"}.bi-person-dash-fill::before{content:"\f4d8"}.bi-person-dash::before{content:"\f4d9"}.bi-person-fill::before{content:"\f4da"}.bi-person-lines-fill::before{content:"\f4db"}.bi-person-plus-fill::before{content:"\f4dc"}.bi-person-plus::before{content:"\f4dd"}.bi-person-square::before{content:"\f4de"}.bi-person-x-fill::before{content:"\f4df"}.bi-person-x::before{content:"\f4e0"}.bi-person::before{content:"\f4e1"}.bi-phone-fill::before{content:"\f4e2"}.bi-phone-landscape-fill::before{content:"\f4e3"}.bi-phone-landscape::before{content:"\f4e4"}.bi-phone-vibrate-fill::before{content:"\f4e5"}.bi-phone-vibrate::before{content:"\f4e6"}.bi-phone::before{content:"\f4e7"}.bi-pie-chart-fill::before{content:"\f4e8"}.bi-pie-chart::before{content:"\f4e9"}.bi-pin-angle-fill::before{content:"\f4ea"}.bi-pin-angle::before{content:"\f4eb"}.bi-pin-fill::before{content:"\f4ec"}.bi-pin::before{content:"\f4ed"}.bi-pip-fill::before{content:"\f4ee"}.bi-pip::before{content:"\f4ef"}.bi-play-btn-fill::before{content:"\f4f0"}.bi-play-btn::before{content:"\f4f1"}.bi-play-circle-fill::before{content:"\f4f2"}.bi-play-circle::before{content:"\f4f3"}.bi-play-fill::before{content:"\f4f4"}.bi-play::before{content:"\f4f5"}.bi-plug-fill::before{content:"\f4f6"}.bi-plug::before{content:"\f4f7"}.bi-plus-circle-dotted::before{content:"\f4f8"}.bi-plus-circle-fill::before{content:"\f4f9"}.bi-plus-circle::before{content:"\f4fa"}.bi-plus-square-dotted::before{content:"\f4fb"}.bi-plus-square-fill::before{content:"\f4fc"}.bi-plus-square::before{content:"\f4fd"}.bi-plus::before{content:"\f4fe"}.bi-power::before{content:"\f4ff"}.bi-printer-fill::before{content:"\f500"}.bi-printer::before{content:"\f501"}.bi-puzzle-fill::before{content:"\f502"}.bi-puzzle::before{content:"\f503"}.bi-question-circle-fill::before{content:"\f504"}.bi-question-circle::before{content:"\f505"}.bi-question-diamond-fill::before{content:"\f506"}.bi-question-diamond::before{content:"\f507"}.bi-question-octagon-fill::before{content:"\f508"}.bi-question-octagon::before{content:"\f509"}.bi-question-square-fill::before{content:"\f50a"}.bi-question-square::before{content:"\f50b"}.bi-question::before{content:"\f50c"}.bi-rainbow::before{content:"\f50d"}.bi-receipt-cutoff::before{content:"\f50e"}.bi-receipt::before{content:"\f50f"}.bi-reception-0::before{content:"\f510"}.bi-reception-1::before{content:"\f511"}.bi-reception-2::before{content:"\f512"}.bi-reception-3::before{content:"\f513"}.bi-reception-4::before{content:"\f514"}.bi-record-btn-fill::before{content:"\f515"}.bi-record-btn::before{content:"\f516"}.bi-record-circle-fill::before{content:"\f517"}.bi-record-circle::before{content:"\f518"}.bi-record-fill::before{content:"\f519"}.bi-record::before{content:"\f51a"}.bi-record2-fill::before{content:"\f51b"}.bi-record2::before{content:"\f51c"}.bi-reply-all-fill::before{content:"\f51d"}.bi-reply-all::before{content:"\f51e"}.bi-reply-fill::before{content:"\f51f"}.bi-reply::before{content:"\f520"}.bi-rss-fill::before{content:"\f521"}.bi-rss::before{content:"\f522"}.bi-rulers::before{content:"\f523"}.bi-save-fill::before{content:"\f524"}.bi-save::before{content:"\f525"}.bi-save2-fill::before{content:"\f526"}.bi-save2::before{content:"\f527"}.bi-scissors::before{content:"\f528"}.bi-screwdriver::before{content:"\f529"}.bi-search::before{content:"\f52a"}.bi-segmented-nav::before{content:"\f52b"}.bi-server::before{content:"\f52c"}.bi-share-fill::before{content:"\f52d"}.bi-share::before{content:"\f52e"}.bi-shield-check::before{content:"\f52f"}.bi-shield-exclamation::before{content:"\f530"}.bi-shield-fill-check::before{content:"\f531"}.bi-shield-fill-exclamation::before{content:"\f532"}.bi-shield-fill-minus::before{content:"\f533"}.bi-shield-fill-plus::before{content:"\f534"}.bi-shield-fill-x::before{content:"\f535"}.bi-shield-fill::before{content:"\f536"}.bi-shield-lock-fill::before{content:"\f537"}.bi-shield-lock::before{content:"\f538"}.bi-shield-minus::before{content:"\f539"}.bi-shield-plus::before{content:"\f53a"}.bi-shield-shaded::before{content:"\f53b"}.bi-shield-slash-fill::before{content:"\f53c"}.bi-shield-slash::before{content:"\f53d"}.bi-shield-x::before{content:"\f53e"}.bi-shield::before{content:"\f53f"}.bi-shift-fill::before{content:"\f540"}.bi-shift::before{content:"\f541"}.bi-shop-window::before{content:"\f542"}.bi-shop::before{content:"\f543"}.bi-shuffle::before{content:"\f544"}.bi-signpost-2-fill::before{content:"\f545"}.bi-signpost-2::before{content:"\f546"}.bi-signpost-fill::before{content:"\f547"}.bi-signpost-split-fill::before{content:"\f548"}.bi-signpost-split::before{content:"\f549"}.bi-signpost::before{content:"\f54a"}.bi-sim-fill::before{content:"\f54b"}.bi-sim::before{content:"\f54c"}.bi-skip-backward-btn-fill::before{content:"\f54d"}.bi-skip-backward-btn::before{content:"\f54e"}.bi-skip-backward-circle-fill::before{content:"\f54f"}.bi-skip-backward-circle::before{content:"\f550"}.bi-skip-backward-fill::before{content:"\f551"}.bi-skip-backward::before{content:"\f552"}.bi-skip-end-btn-fill::before{content:"\f553"}.bi-skip-end-btn::before{content:"\f554"}.bi-skip-end-circle-fill::before{content:"\f555"}.bi-skip-end-circle::before{content:"\f556"}.bi-skip-end-fill::before{content:"\f557"}.bi-skip-end::before{content:"\f558"}.bi-skip-forward-btn-fill::before{content:"\f559"}.bi-skip-forward-btn::before{content:"\f55a"}.bi-skip-forward-circle-fill::before{content:"\f55b"}.bi-skip-forward-circle::before{content:"\f55c"}.bi-skip-forward-fill::before{content:"\f55d"}.bi-skip-forward::before{content:"\f55e"}.bi-skip-start-btn-fill::before{content:"\f55f"}.bi-skip-start-btn::before{content:"\f560"}.bi-skip-start-circle-fill::before{content:"\f561"}.bi-skip-start-circle::before{content:"\f562"}.bi-skip-start-fill::before{content:"\f563"}.bi-skip-start::before{content:"\f564"}.bi-slack::before{content:"\f565"}.bi-slash-circle-fill::before{content:"\f566"}.bi-slash-circle::before{content:"\f567"}.bi-slash-square-fill::before{content:"\f568"}.bi-slash-square::before{content:"\f569"}.bi-slash::before{content:"\f56a"}.bi-sliders::before{content:"\f56b"}.bi-smartwatch::before{content:"\f56c"}.bi-snow::before{content:"\f56d"}.bi-snow2::before{content:"\f56e"}.bi-snow3::before{content:"\f56f"}.bi-sort-alpha-down-alt::before{content:"\f570"}.bi-sort-alpha-down::before{content:"\f571"}.bi-sort-alpha-up-alt::before{content:"\f572"}.bi-sort-alpha-up::before{content:"\f573"}.bi-sort-down-alt::before{content:"\f574"}.bi-sort-down::before{content:"\f575"}.bi-sort-numeric-down-alt::before{content:"\f576"}.bi-sort-numeric-down::before{content:"\f577"}.bi-sort-numeric-up-alt::before{content:"\f578"}.bi-sort-numeric-up::before{content:"\f579"}.bi-sort-up-alt::before{content:"\f57a"}.bi-sort-up::before{content:"\f57b"}.bi-soundwave::before{content:"\f57c"}.bi-speaker-fill::before{content:"\f57d"}.bi-speaker::before{content:"\f57e"}.bi-speedometer::before{content:"\f57f"}.bi-speedometer2::before{content:"\f580"}.bi-spellcheck::before{content:"\f581"}.bi-square-fill::before{content:"\f582"}.bi-square-half::before{content:"\f583"}.bi-square::before{content:"\f584"}.bi-stack::before{content:"\f585"}.bi-star-fill::before{content:"\f586"}.bi-star-half::before{content:"\f587"}.bi-star::before{content:"\f588"}.bi-stars::before{content:"\f589"}.bi-stickies-fill::before{content:"\f58a"}.bi-stickies::before{content:"\f58b"}.bi-sticky-fill::before{content:"\f58c"}.bi-sticky::before{content:"\f58d"}.bi-stop-btn-fill::before{content:"\f58e"}.bi-stop-btn::before{content:"\f58f"}.bi-stop-circle-fill::before{content:"\f590"}.bi-stop-circle::before{content:"\f591"}.bi-stop-fill::before{content:"\f592"}.bi-stop::before{content:"\f593"}.bi-stoplights-fill::before{content:"\f594"}.bi-stoplights::before{content:"\f595"}.bi-stopwatch-fill::before{content:"\f596"}.bi-stopwatch::before{content:"\f597"}.bi-subtract::before{content:"\f598"}.bi-suit-club-fill::before{content:"\f599"}.bi-suit-club::before{content:"\f59a"}.bi-suit-diamond-fill::before{content:"\f59b"}.bi-suit-diamond::before{content:"\f59c"}.bi-suit-heart-fill::before{content:"\f59d"}.bi-suit-heart::before{content:"\f59e"}.bi-suit-spade-fill::before{content:"\f59f"}.bi-suit-spade::before{content:"\f5a0"}.bi-sun-fill::before{content:"\f5a1"}.bi-sun::before{content:"\f5a2"}.bi-sunglasses::before{content:"\f5a3"}.bi-sunrise-fill::before{content:"\f5a4"}.bi-sunrise::before{content:"\f5a5"}.bi-sunset-fill::before{content:"\f5a6"}.bi-sunset::before{content:"\f5a7"}.bi-symmetry-horizontal::before{content:"\f5a8"}.bi-symmetry-vertical::before{content:"\f5a9"}.bi-table::before{content:"\f5aa"}.bi-tablet-fill::before{content:"\f5ab"}.bi-tablet-landscape-fill::before{content:"\f5ac"}.bi-tablet-landscape::before{content:"\f5ad"}.bi-tablet::before{content:"\f5ae"}.bi-tag-fill::before{content:"\f5af"}.bi-tag::before{content:"\f5b0"}.bi-tags-fill::before{content:"\f5b1"}.bi-tags::before{content:"\f5b2"}.bi-telegram::before{content:"\f5b3"}.bi-telephone-fill::before{content:"\f5b4"}.bi-telephone-forward-fill::before{content:"\f5b5"}.bi-telephone-forward::before{content:"\f5b6"}.bi-telephone-inbound-fill::before{content:"\f5b7"}.bi-telephone-inbound::before{content:"\f5b8"}.bi-telephone-minus-fill::before{content:"\f5b9"}.bi-telephone-minus::before{content:"\f5ba"}.bi-telephone-outbound-fill::before{content:"\f5bb"}.bi-telephone-outbound::before{content:"\f5bc"}.bi-telephone-plus-fill::before{content:"\f5bd"}.bi-telephone-plus::before{content:"\f5be"}.bi-telephone-x-fill::before{content:"\f5bf"}.bi-telephone-x::before{content:"\f5c0"}.bi-telephone::before{content:"\f5c1"}.bi-terminal-fill::before{content:"\f5c2"}.bi-terminal::before{content:"\f5c3"}.bi-text-center::before{content:"\f5c4"}.bi-text-indent-left::before{content:"\f5c5"}.bi-text-indent-right::before{content:"\f5c6"}.bi-text-left::before{content:"\f5c7"}.bi-text-paragraph::before{content:"\f5c8"}.bi-text-right::before{content:"\f5c9"}.bi-textarea-resize::before{content:"\f5ca"}.bi-textarea-t::before{content:"\f5cb"}.bi-textarea::before{content:"\f5cc"}.bi-thermometer-half::before{content:"\f5cd"}.bi-thermometer-high::before{content:"\f5ce"}.bi-thermometer-low::before{content:"\f5cf"}.bi-thermometer-snow::before{content:"\f5d0"}.bi-thermometer-sun::before{content:"\f5d1"}.bi-thermometer::before{content:"\f5d2"}.bi-three-dots-vertical::before{content:"\f5d3"}.bi-three-dots::before{content:"\f5d4"}.bi-toggle-off::before{content:"\f5d5"}.bi-toggle-on::before{content:"\f5d6"}.bi-toggle2-off::before{content:"\f5d7"}.bi-toggle2-on::before{content:"\f5d8"}.bi-toggles::before{content:"\f5d9"}.bi-toggles2::before{content:"\f5da"}.bi-tools::before{content:"\f5db"}.bi-tornado::before{content:"\f5dc"}.bi-trash-fill::before{content:"\f5dd"}.bi-trash::before{content:"\f5de"}.bi-trash2-fill::before{content:"\f5df"}.bi-trash2::before{content:"\f5e0"}.bi-tree-fill::before{content:"\f5e1"}.bi-tree::before{content:"\f5e2"}.bi-triangle-fill::before{content:"\f5e3"}.bi-triangle-half::before{content:"\f5e4"}.bi-triangle::before{content:"\f5e5"}.bi-trophy-fill::before{content:"\f5e6"}.bi-trophy::before{content:"\f5e7"}.bi-tropical-storm::before{content:"\f5e8"}.bi-truck-flatbed::before{content:"\f5e9"}.bi-truck::before{content:"\f5ea"}.bi-tsunami::before{content:"\f5eb"}.bi-tv-fill::before{content:"\f5ec"}.bi-tv::before{content:"\f5ed"}.bi-twitch::before{content:"\f5ee"}.bi-twitter::before{content:"\f5ef"}.bi-type-bold::before{content:"\f5f0"}.bi-type-h1::before{content:"\f5f1"}.bi-type-h2::before{content:"\f5f2"}.bi-type-h3::before{content:"\f5f3"}.bi-type-italic::before{content:"\f5f4"}.bi-type-strikethrough::before{content:"\f5f5"}.bi-type-underline::before{content:"\f5f6"}.bi-type::before{content:"\f5f7"}.bi-ui-checks-grid::before{content:"\f5f8"}.bi-ui-checks::before{content:"\f5f9"}.bi-ui-radios-grid::before{content:"\f5fa"}.bi-ui-radios::before{content:"\f5fb"}.bi-umbrella-fill::before{content:"\f5fc"}.bi-umbrella::before{content:"\f5fd"}.bi-union::before{content:"\f5fe"}.bi-unlock-fill::before{content:"\f5ff"}.bi-unlock::before{content:"\f600"}.bi-upc-scan::before{content:"\f601"}.bi-upc::before{content:"\f602"}.bi-upload::before{content:"\f603"}.bi-vector-pen::before{content:"\f604"}.bi-view-list::before{content:"\f605"}.bi-view-stacked::before{content:"\f606"}.bi-vinyl-fill::before{content:"\f607"}.bi-vinyl::before{content:"\f608"}.bi-voicemail::before{content:"\f609"}.bi-volume-down-fill::before{content:"\f60a"}.bi-volume-down::before{content:"\f60b"}.bi-volume-mute-fill::before{content:"\f60c"}.bi-volume-mute::before{content:"\f60d"}.bi-volume-off-fill::before{content:"\f60e"}.bi-volume-off::before{content:"\f60f"}.bi-volume-up-fill::before{content:"\f610"}.bi-volume-up::before{content:"\f611"}.bi-vr::before{content:"\f612"}.bi-wallet-fill::before{content:"\f613"}.bi-wallet::before{content:"\f614"}.bi-wallet2::before{content:"\f615"}.bi-watch::before{content:"\f616"}.bi-water::before{content:"\f617"}.bi-whatsapp::before{content:"\f618"}.bi-wifi-1::before{content:"\f619"}.bi-wifi-2::before{content:"\f61a"}.bi-wifi-off::before{content:"\f61b"}.bi-wifi::before{content:"\f61c"}.bi-wind::before{content:"\f61d"}.bi-window-dock::before{content:"\f61e"}.bi-window-sidebar::before{content:"\f61f"}.bi-window::before{content:"\f620"}.bi-wrench::before{content:"\f621"}.bi-x-circle-fill::before{content:"\f622"}.bi-x-circle::before{content:"\f623"}.bi-x-diamond-fill::before{content:"\f624"}.bi-x-diamond::before{content:"\f625"}.bi-x-octagon-fill::before{content:"\f626"}.bi-x-octagon::before{content:"\f627"}.bi-x-square-fill::before{content:"\f628"}.bi-x-square::before{content:"\f629"}.bi-x::before{content:"\f62a"}.bi-youtube::before{content:"\f62b"}.bi-zoom-in::before{content:"\f62c"}.bi-zoom-out::before{content:"\f62d"}.bi-bank::before{content:"\f62e"}.bi-bank2::before{content:"\f62f"}.bi-bell-slash-fill::before{content:"\f630"}.bi-bell-slash::before{content:"\f631"}.bi-cash-coin::before{content:"\f632"}.bi-check-lg::before{content:"\f633"}.bi-coin::before{content:"\f634"}.bi-currency-bitcoin::before{content:"\f635"}.bi-currency-dollar::before{content:"\f636"}.bi-currency-euro::before{content:"\f637"}.bi-currency-exchange::before{content:"\f638"}.bi-currency-pound::before{content:"\f639"}.bi-currency-yen::before{content:"\f63a"}.bi-dash-lg::before{content:"\f63b"}.bi-exclamation-lg::before{content:"\f63c"}.bi-file-earmark-pdf-fill::before{content:"\f63d"}.bi-file-earmark-pdf::before{content:"\f63e"}.bi-file-pdf-fill::before{content:"\f63f"}.bi-file-pdf::before{content:"\f640"}.bi-gender-ambiguous::before{content:"\f641"}.bi-gender-female::before{content:"\f642"}.bi-gender-male::before{content:"\f643"}.bi-gender-trans::before{content:"\f644"}.bi-headset-vr::before{content:"\f645"}.bi-info-lg::before{content:"\f646"}.bi-mastodon::before{content:"\f647"}.bi-messenger::before{content:"\f648"}.bi-piggy-bank-fill::before{content:"\f649"}.bi-piggy-bank::before{content:"\f64a"}.bi-pin-map-fill::before{content:"\f64b"}.bi-pin-map::before{content:"\f64c"}.bi-plus-lg::before{content:"\f64d"}.bi-question-lg::before{content:"\f64e"}.bi-recycle::before{content:"\f64f"}.bi-reddit::before{content:"\f650"}.bi-safe-fill::before{content:"\f651"}.bi-safe2-fill::before{content:"\f652"}.bi-safe2::before{content:"\f653"}.bi-sd-card-fill::before{content:"\f654"}.bi-sd-card::before{content:"\f655"}.bi-skype::before{content:"\f656"}.bi-slash-lg::before{content:"\f657"}.bi-translate::before{content:"\f658"}.bi-x-lg::before{content:"\f659"}.bi-safe::before{content:"\f65a"}.bi-apple::before{content:"\f65b"}.bi-microsoft::before{content:"\f65d"}.bi-windows::before{content:"\f65e"}.bi-behance::before{content:"\f65c"}.bi-dribbble::before{content:"\f65f"}.bi-line::before{content:"\f660"}.bi-medium::before{content:"\f661"}.bi-paypal::before{content:"\f662"}.bi-pinterest::before{content:"\f663"}.bi-signal::before{content:"\f664"}.bi-snapchat::before{content:"\f665"}.bi-spotify::before{content:"\f666"}.bi-stack-overflow::before{content:"\f667"}.bi-strava::before{content:"\f668"}.bi-wordpress::before{content:"\f669"}.bi-vimeo::before{content:"\f66a"}.bi-activity::before{content:"\f66b"}.bi-easel2-fill::before{content:"\f66c"}.bi-easel2::before{content:"\f66d"}.bi-easel3-fill::before{content:"\f66e"}.bi-easel3::before{content:"\f66f"}.bi-fan::before{content:"\f670"}.bi-fingerprint::before{content:"\f671"}.bi-graph-down-arrow::before{content:"\f672"}.bi-graph-up-arrow::before{content:"\f673"}.bi-hypnotize::before{content:"\f674"}.bi-magic::before{content:"\f675"}.bi-person-rolodex::before{content:"\f676"}.bi-person-video::before{content:"\f677"}.bi-person-video2::before{content:"\f678"}.bi-person-video3::before{content:"\f679"}.bi-person-workspace::before{content:"\f67a"}.bi-radioactive::before{content:"\f67b"}.bi-webcam-fill::before{content:"\f67c"}.bi-webcam::before{content:"\f67d"}.bi-yin-yang::before{content:"\f67e"}.bi-bandaid-fill::before{content:"\f680"}.bi-bandaid::before{content:"\f681"}.bi-bluetooth::before{content:"\f682"}.bi-body-text::before{content:"\f683"}.bi-boombox::before{content:"\f684"}.bi-boxes::before{content:"\f685"}.bi-dpad-fill::before{content:"\f686"}.bi-dpad::before{content:"\f687"}.bi-ear-fill::before{content:"\f688"}.bi-ear::before{content:"\f689"}.bi-envelope-check-fill::before{content:"\f68b"}.bi-envelope-check::before{content:"\f68c"}.bi-envelope-dash-fill::before{content:"\f68e"}.bi-envelope-dash::before{content:"\f68f"}.bi-envelope-exclamation-fill::before{content:"\f691"}.bi-envelope-exclamation::before{content:"\f692"}.bi-envelope-plus-fill::before{content:"\f693"}.bi-envelope-plus::before{content:"\f694"}.bi-envelope-slash-fill::before{content:"\f696"}.bi-envelope-slash::before{content:"\f697"}.bi-envelope-x-fill::before{content:"\f699"}.bi-envelope-x::before{content:"\f69a"}.bi-explicit-fill::before{content:"\f69b"}.bi-explicit::before{content:"\f69c"}.bi-git::before{content:"\f69d"}.bi-infinity::before{content:"\f69e"}.bi-list-columns-reverse::before{content:"\f69f"}.bi-list-columns::before{content:"\f6a0"}.bi-meta::before{content:"\f6a1"}.bi-nintendo-switch::before{content:"\f6a4"}.bi-pc-display-horizontal::before{content:"\f6a5"}.bi-pc-display::before{content:"\f6a6"}.bi-pc-horizontal::before{content:"\f6a7"}.bi-pc::before{content:"\f6a8"}.bi-playstation::before{content:"\f6a9"}.bi-plus-slash-minus::before{content:"\f6aa"}.bi-projector-fill::before{content:"\f6ab"}.bi-projector::before{content:"\f6ac"}.bi-qr-code-scan::before{content:"\f6ad"}.bi-qr-code::before{content:"\f6ae"}.bi-quora::before{content:"\f6af"}.bi-quote::before{content:"\f6b0"}.bi-robot::before{content:"\f6b1"}.bi-send-check-fill::before{content:"\f6b2"}.bi-send-check::before{content:"\f6b3"}.bi-send-dash-fill::before{content:"\f6b4"}.bi-send-dash::before{content:"\f6b5"}.bi-send-exclamation-fill::before{content:"\f6b7"}.bi-send-exclamation::before{content:"\f6b8"}.bi-send-fill::before{content:"\f6b9"}.bi-send-plus-fill::before{content:"\f6ba"}.bi-send-plus::before{content:"\f6bb"}.bi-send-slash-fill::before{content:"\f6bc"}.bi-send-slash::before{content:"\f6bd"}.bi-send-x-fill::before{content:"\f6be"}.bi-send-x::before{content:"\f6bf"}.bi-send::before{content:"\f6c0"}.bi-steam::before{content:"\f6c1"}.bi-terminal-dash::before{content:"\f6c3"}.bi-terminal-plus::before{content:"\f6c4"}.bi-terminal-split::before{content:"\f6c5"}.bi-ticket-detailed-fill::before{content:"\f6c6"}.bi-ticket-detailed::before{content:"\f6c7"}.bi-ticket-fill::before{content:"\f6c8"}.bi-ticket-perforated-fill::before{content:"\f6c9"}.bi-ticket-perforated::before{content:"\f6ca"}.bi-ticket::before{content:"\f6cb"}.bi-tiktok::before{content:"\f6cc"}.bi-window-dash::before{content:"\f6cd"}.bi-window-desktop::before{content:"\f6ce"}.bi-window-fullscreen::before{content:"\f6cf"}.bi-window-plus::before{content:"\f6d0"}.bi-window-split::before{content:"\f6d1"}.bi-window-stack::before{content:"\f6d2"}.bi-window-x::before{content:"\f6d3"}.bi-xbox::before{content:"\f6d4"}.bi-ethernet::before{content:"\f6d5"}.bi-hdmi-fill::before{content:"\f6d6"}.bi-hdmi::before{content:"\f6d7"}.bi-usb-c-fill::before{content:"\f6d8"}.bi-usb-c::before{content:"\f6d9"}.bi-usb-fill::before{content:"\f6da"}.bi-usb-plug-fill::before{content:"\f6db"}.bi-usb-plug::before{content:"\f6dc"}.bi-usb-symbol::before{content:"\f6dd"}.bi-usb::before{content:"\f6de"}.bi-boombox-fill::before{content:"\f6df"}.bi-displayport::before{content:"\f6e1"}.bi-gpu-card::before{content:"\f6e2"}.bi-memory::before{content:"\f6e3"}.bi-modem-fill::before{content:"\f6e4"}.bi-modem::before{content:"\f6e5"}.bi-motherboard-fill::before{content:"\f6e6"}.bi-motherboard::before{content:"\f6e7"}.bi-optical-audio-fill::before{content:"\f6e8"}.bi-optical-audio::before{content:"\f6e9"}.bi-pci-card::before{content:"\f6ea"}.bi-router-fill::before{content:"\f6eb"}.bi-router::before{content:"\f6ec"}.bi-thunderbolt-fill::before{content:"\f6ef"}.bi-thunderbolt::before{content:"\f6f0"}.bi-usb-drive-fill::before{content:"\f6f1"}.bi-usb-drive::before{content:"\f6f2"}.bi-usb-micro-fill::before{content:"\f6f3"}.bi-usb-micro::before{content:"\f6f4"}.bi-usb-mini-fill::before{content:"\f6f5"}.bi-usb-mini::before{content:"\f6f6"}.bi-cloud-haze2::before{content:"\f6f7"}.bi-device-hdd-fill::before{content:"\f6f8"}.bi-device-hdd::before{content:"\f6f9"}.bi-device-ssd-fill::before{content:"\f6fa"}.bi-device-ssd::before{content:"\f6fb"}.bi-displayport-fill::before{content:"\f6fc"}.bi-mortarboard-fill::before{content:"\f6fd"}.bi-mortarboard::before{content:"\f6fe"}.bi-terminal-x::before{content:"\f6ff"}.bi-arrow-through-heart-fill::before{content:"\f700"}.bi-arrow-through-heart::before{content:"\f701"}.bi-badge-sd-fill::before{content:"\f702"}.bi-badge-sd::before{content:"\f703"}.bi-bag-heart-fill::before{content:"\f704"}.bi-bag-heart::before{content:"\f705"}.bi-balloon-fill::before{content:"\f706"}.bi-balloon-heart-fill::before{content:"\f707"}.bi-balloon-heart::before{content:"\f708"}.bi-balloon::before{content:"\f709"}.bi-box2-fill::before{content:"\f70a"}.bi-box2-heart-fill::before{content:"\f70b"}.bi-box2-heart::before{content:"\f70c"}.bi-box2::before{content:"\f70d"}.bi-braces-asterisk::before{content:"\f70e"}.bi-calendar-heart-fill::before{content:"\f70f"}.bi-calendar-heart::before{content:"\f710"}.bi-calendar2-heart-fill::before{content:"\f711"}.bi-calendar2-heart::before{content:"\f712"}.bi-chat-heart-fill::before{content:"\f713"}.bi-chat-heart::before{content:"\f714"}.bi-chat-left-heart-fill::before{content:"\f715"}.bi-chat-left-heart::before{content:"\f716"}.bi-chat-right-heart-fill::before{content:"\f717"}.bi-chat-right-heart::before{content:"\f718"}.bi-chat-square-heart-fill::before{content:"\f719"}.bi-chat-square-heart::before{content:"\f71a"}.bi-clipboard-check-fill::before{content:"\f71b"}.bi-clipboard-data-fill::before{content:"\f71c"}.bi-clipboard-fill::before{content:"\f71d"}.bi-clipboard-heart-fill::before{content:"\f71e"}.bi-clipboard-heart::before{content:"\f71f"}.bi-clipboard-minus-fill::before{content:"\f720"}.bi-clipboard-plus-fill::before{content:"\f721"}.bi-clipboard-pulse::before{content:"\f722"}.bi-clipboard-x-fill::before{content:"\f723"}.bi-clipboard2-check-fill::before{content:"\f724"}.bi-clipboard2-check::before{content:"\f725"}.bi-clipboard2-data-fill::before{content:"\f726"}.bi-clipboard2-data::before{content:"\f727"}.bi-clipboard2-fill::before{content:"\f728"}.bi-clipboard2-heart-fill::before{content:"\f729"}.bi-clipboard2-heart::before{content:"\f72a"}.bi-clipboard2-minus-fill::before{content:"\f72b"}.bi-clipboard2-minus::before{content:"\f72c"}.bi-clipboard2-plus-fill::before{content:"\f72d"}.bi-clipboard2-plus::before{content:"\f72e"}.bi-clipboard2-pulse-fill::before{content:"\f72f"}.bi-clipboard2-pulse::before{content:"\f730"}.bi-clipboard2-x-fill::before{content:"\f731"}.bi-clipboard2-x::before{content:"\f732"}.bi-clipboard2::before{content:"\f733"}.bi-emoji-kiss-fill::before{content:"\f734"}.bi-emoji-kiss::before{content:"\f735"}.bi-envelope-heart-fill::before{content:"\f736"}.bi-envelope-heart::before{content:"\f737"}.bi-envelope-open-heart-fill::before{content:"\f738"}.bi-envelope-open-heart::before{content:"\f739"}.bi-envelope-paper-fill::before{content:"\f73a"}.bi-envelope-paper-heart-fill::before{content:"\f73b"}.bi-envelope-paper-heart::before{content:"\f73c"}.bi-envelope-paper::before{content:"\f73d"}.bi-filetype-aac::before{content:"\f73e"}.bi-filetype-ai::before{content:"\f73f"}.bi-filetype-bmp::before{content:"\f740"}.bi-filetype-cs::before{content:"\f741"}.bi-filetype-css::before{content:"\f742"}.bi-filetype-csv::before{content:"\f743"}.bi-filetype-doc::before{content:"\f744"}.bi-filetype-docx::before{content:"\f745"}.bi-filetype-exe::before{content:"\f746"}.bi-filetype-gif::before{content:"\f747"}.bi-filetype-heic::before{content:"\f748"}.bi-filetype-html::before{content:"\f749"}.bi-filetype-java::before{content:"\f74a"}.bi-filetype-jpg::before{content:"\f74b"}.bi-filetype-js::before{content:"\f74c"}.bi-filetype-jsx::before{content:"\f74d"}.bi-filetype-key::before{content:"\f74e"}.bi-filetype-m4p::before{content:"\f74f"}.bi-filetype-md::before{content:"\f750"}.bi-filetype-mdx::before{content:"\f751"}.bi-filetype-mov::before{content:"\f752"}.bi-filetype-mp3::before{content:"\f753"}.bi-filetype-mp4::before{content:"\f754"}.bi-filetype-otf::before{content:"\f755"}.bi-filetype-pdf::before{content:"\f756"}.bi-filetype-php::before{content:"\f757"}.bi-filetype-png::before{content:"\f758"}.bi-filetype-ppt::before{content:"\f75a"}.bi-filetype-psd::before{content:"\f75b"}.bi-filetype-py::before{content:"\f75c"}.bi-filetype-raw::before{content:"\f75d"}.bi-filetype-rb::before{content:"\f75e"}.bi-filetype-sass::before{content:"\f75f"}.bi-filetype-scss::before{content:"\f760"}.bi-filetype-sh::before{content:"\f761"}.bi-filetype-svg::before{content:"\f762"}.bi-filetype-tiff::before{content:"\f763"}.bi-filetype-tsx::before{content:"\f764"}.bi-filetype-ttf::before{content:"\f765"}.bi-filetype-txt::before{content:"\f766"}.bi-filetype-wav::before{content:"\f767"}.bi-filetype-woff::before{content:"\f768"}.bi-filetype-xls::before{content:"\f76a"}.bi-filetype-xml::before{content:"\f76b"}.bi-filetype-yml::before{content:"\f76c"}.bi-heart-arrow::before{content:"\f76d"}.bi-heart-pulse-fill::before{content:"\f76e"}.bi-heart-pulse::before{content:"\f76f"}.bi-heartbreak-fill::before{content:"\f770"}.bi-heartbreak::before{content:"\f771"}.bi-hearts::before{content:"\f772"}.bi-hospital-fill::before{content:"\f773"}.bi-hospital::before{content:"\f774"}.bi-house-heart-fill::before{content:"\f775"}.bi-house-heart::before{content:"\f776"}.bi-incognito::before{content:"\f777"}.bi-magnet-fill::before{content:"\f778"}.bi-magnet::before{content:"\f779"}.bi-person-heart::before{content:"\f77a"}.bi-person-hearts::before{content:"\f77b"}.bi-phone-flip::before{content:"\f77c"}.bi-plugin::before{content:"\f77d"}.bi-postage-fill::before{content:"\f77e"}.bi-postage-heart-fill::before{content:"\f77f"}.bi-postage-heart::before{content:"\f780"}.bi-postage::before{content:"\f781"}.bi-postcard-fill::before{content:"\f782"}.bi-postcard-heart-fill::before{content:"\f783"}.bi-postcard-heart::before{content:"\f784"}.bi-postcard::before{content:"\f785"}.bi-search-heart-fill::before{content:"\f786"}.bi-search-heart::before{content:"\f787"}.bi-sliders2-vertical::before{content:"\f788"}.bi-sliders2::before{content:"\f789"}.bi-trash3-fill::before{content:"\f78a"}.bi-trash3::before{content:"\f78b"}.bi-valentine::before{content:"\f78c"}.bi-valentine2::before{content:"\f78d"}.bi-wrench-adjustable-circle-fill::before{content:"\f78e"}.bi-wrench-adjustable-circle::before{content:"\f78f"}.bi-wrench-adjustable::before{content:"\f790"}.bi-filetype-json::before{content:"\f791"}.bi-filetype-pptx::before{content:"\f792"}.bi-filetype-xlsx::before{content:"\f793"}.bi-1-circle-fill::before{content:"\f796"}.bi-1-circle::before{content:"\f797"}.bi-1-square-fill::before{content:"\f798"}.bi-1-square::before{content:"\f799"}.bi-2-circle-fill::before{content:"\f79c"}.bi-2-circle::before{content:"\f79d"}.bi-2-square-fill::before{content:"\f79e"}.bi-2-square::before{content:"\f79f"}.bi-3-circle-fill::before{content:"\f7a2"}.bi-3-circle::before{content:"\f7a3"}.bi-3-square-fill::before{content:"\f7a4"}.bi-3-square::before{content:"\f7a5"}.bi-4-circle-fill::before{content:"\f7a8"}.bi-4-circle::before{content:"\f7a9"}.bi-4-square-fill::before{content:"\f7aa"}.bi-4-square::before{content:"\f7ab"}.bi-5-circle-fill::before{content:"\f7ae"}.bi-5-circle::before{content:"\f7af"}.bi-5-square-fill::before{content:"\f7b0"}.bi-5-square::before{content:"\f7b1"}.bi-6-circle-fill::before{content:"\f7b4"}.bi-6-circle::before{content:"\f7b5"}.bi-6-square-fill::before{content:"\f7b6"}.bi-6-square::before{content:"\f7b7"}.bi-7-circle-fill::before{content:"\f7ba"}.bi-7-circle::before{content:"\f7bb"}.bi-7-square-fill::before{content:"\f7bc"}.bi-7-square::before{content:"\f7bd"}.bi-8-circle-fill::before{content:"\f7c0"}.bi-8-circle::before{content:"\f7c1"}.bi-8-square-fill::before{content:"\f7c2"}.bi-8-square::before{content:"\f7c3"}.bi-9-circle-fill::before{content:"\f7c6"}.bi-9-circle::before{content:"\f7c7"}.bi-9-square-fill::before{content:"\f7c8"}.bi-9-square::before{content:"\f7c9"}.bi-airplane-engines-fill::before{content:"\f7ca"}.bi-airplane-engines::before{content:"\f7cb"}.bi-airplane-fill::before{content:"\f7cc"}.bi-airplane::before{content:"\f7cd"}.bi-alexa::before{content:"\f7ce"}.bi-alipay::before{content:"\f7cf"}.bi-android::before{content:"\f7d0"}.bi-android2::before{content:"\f7d1"}.bi-box-fill::before{content:"\f7d2"}.bi-box-seam-fill::before{content:"\f7d3"}.bi-browser-chrome::before{content:"\f7d4"}.bi-browser-edge::before{content:"\f7d5"}.bi-browser-firefox::before{content:"\f7d6"}.bi-browser-safari::before{content:"\f7d7"}.bi-c-circle-fill::before{content:"\f7da"}.bi-c-circle::before{content:"\f7db"}.bi-c-square-fill::before{content:"\f7dc"}.bi-c-square::before{content:"\f7dd"}.bi-capsule-pill::before{content:"\f7de"}.bi-capsule::before{content:"\f7df"}.bi-car-front-fill::before{content:"\f7e0"}.bi-car-front::before{content:"\f7e1"}.bi-cassette-fill::before{content:"\f7e2"}.bi-cassette::before{content:"\f7e3"}.bi-cc-circle-fill::before{content:"\f7e6"}.bi-cc-circle::before{content:"\f7e7"}.bi-cc-square-fill::before{content:"\f7e8"}.bi-cc-square::before{content:"\f7e9"}.bi-cup-hot-fill::before{content:"\f7ea"}.bi-cup-hot::before{content:"\f7eb"}.bi-currency-rupee::before{content:"\f7ec"}.bi-dropbox::before{content:"\f7ed"}.bi-escape::before{content:"\f7ee"}.bi-fast-forward-btn-fill::before{content:"\f7ef"}.bi-fast-forward-btn::before{content:"\f7f0"}.bi-fast-forward-circle-fill::before{content:"\f7f1"}.bi-fast-forward-circle::before{content:"\f7f2"}.bi-fast-forward-fill::before{content:"\f7f3"}.bi-fast-forward::before{content:"\f7f4"}.bi-filetype-sql::before{content:"\f7f5"}.bi-fire::before{content:"\f7f6"}.bi-google-play::before{content:"\f7f7"}.bi-h-circle-fill::before{content:"\f7fa"}.bi-h-circle::before{content:"\f7fb"}.bi-h-square-fill::before{content:"\f7fc"}.bi-h-square::before{content:"\f7fd"}.bi-indent::before{content:"\f7fe"}.bi-lungs-fill::before{content:"\f7ff"}.bi-lungs::before{content:"\f800"}.bi-microsoft-teams::before{content:"\f801"}.bi-p-circle-fill::before{content:"\f804"}.bi-p-circle::before{content:"\f805"}.bi-p-square-fill::before{content:"\f806"}.bi-p-square::before{content:"\f807"}.bi-pass-fill::before{content:"\f808"}.bi-pass::before{content:"\f809"}.bi-prescription::before{content:"\f80a"}.bi-prescription2::before{content:"\f80b"}.bi-r-circle-fill::before{content:"\f80e"}.bi-r-circle::before{content:"\f80f"}.bi-r-square-fill::before{content:"\f810"}.bi-r-square::before{content:"\f811"}.bi-repeat-1::before{content:"\f812"}.bi-repeat::before{content:"\f813"}.bi-rewind-btn-fill::before{content:"\f814"}.bi-rewind-btn::before{content:"\f815"}.bi-rewind-circle-fill::before{content:"\f816"}.bi-rewind-circle::before{content:"\f817"}.bi-rewind-fill::before{content:"\f818"}.bi-rewind::before{content:"\f819"}.bi-train-freight-front-fill::before{content:"\f81a"}.bi-train-freight-front::before{content:"\f81b"}.bi-train-front-fill::before{content:"\f81c"}.bi-train-front::before{content:"\f81d"}.bi-train-lightrail-front-fill::before{content:"\f81e"}.bi-train-lightrail-front::before{content:"\f81f"}.bi-truck-front-fill::before{content:"\f820"}.bi-truck-front::before{content:"\f821"}.bi-ubuntu::before{content:"\f822"}.bi-unindent::before{content:"\f823"}.bi-unity::before{content:"\f824"}.bi-universal-access-circle::before{content:"\f825"}.bi-universal-access::before{content:"\f826"}.bi-virus::before{content:"\f827"}.bi-virus2::before{content:"\f828"}.bi-wechat::before{content:"\f829"}.bi-yelp::before{content:"\f82a"}.bi-sign-stop-fill::before{content:"\f82b"}.bi-sign-stop-lights-fill::before{content:"\f82c"}.bi-sign-stop-lights::before{content:"\f82d"}.bi-sign-stop::before{content:"\f82e"}.bi-sign-turn-left-fill::before{content:"\f82f"}.bi-sign-turn-left::before{content:"\f830"}.bi-sign-turn-right-fill::before{content:"\f831"}.bi-sign-turn-right::before{content:"\f832"}.bi-sign-turn-slight-left-fill::before{content:"\f833"}.bi-sign-turn-slight-left::before{content:"\f834"}.bi-sign-turn-slight-right-fill::before{content:"\f835"}.bi-sign-turn-slight-right::before{content:"\f836"}.bi-sign-yield-fill::before{content:"\f837"}.bi-sign-yield::before{content:"\f838"}.bi-ev-station-fill::before{content:"\f839"}.bi-ev-station::before{content:"\f83a"}.bi-fuel-pump-diesel-fill::before{content:"\f83b"}.bi-fuel-pump-diesel::before{content:"\f83c"}.bi-fuel-pump-fill::before{content:"\f83d"}.bi-fuel-pump::before{content:"\f83e"}.bi-0-circle-fill::before{content:"\f83f"}.bi-0-circle::before{content:"\f840"}.bi-0-square-fill::before{content:"\f841"}.bi-0-square::before{content:"\f842"}.bi-rocket-fill::before{content:"\f843"}.bi-rocket-takeoff-fill::before{content:"\f844"}.bi-rocket-takeoff::before{content:"\f845"}.bi-rocket::before{content:"\f846"}.bi-stripe::before{content:"\f847"}.bi-subscript::before{content:"\f848"}.bi-superscript::before{content:"\f849"}.bi-trello::before{content:"\f84a"}.bi-envelope-at-fill::before{content:"\f84b"}.bi-envelope-at::before{content:"\f84c"}.bi-regex::before{content:"\f84d"}.bi-text-wrap::before{content:"\f84e"}.bi-sign-dead-end-fill::before{content:"\f84f"}.bi-sign-dead-end::before{content:"\f850"}.bi-sign-do-not-enter-fill::before{content:"\f851"}.bi-sign-do-not-enter::before{content:"\f852"}.bi-sign-intersection-fill::before{content:"\f853"}.bi-sign-intersection-side-fill::before{content:"\f854"}.bi-sign-intersection-side::before{content:"\f855"}.bi-sign-intersection-t-fill::before{content:"\f856"}.bi-sign-intersection-t::before{content:"\f857"}.bi-sign-intersection-y-fill::before{content:"\f858"}.bi-sign-intersection-y::before{content:"\f859"}.bi-sign-intersection::before{content:"\f85a"}.bi-sign-merge-left-fill::before{content:"\f85b"}.bi-sign-merge-left::before{content:"\f85c"}.bi-sign-merge-right-fill::before{content:"\f85d"}.bi-sign-merge-right::before{content:"\f85e"}.bi-sign-no-left-turn-fill::before{content:"\f85f"}.bi-sign-no-left-turn::before{content:"\f860"}.bi-sign-no-parking-fill::before{content:"\f861"}.bi-sign-no-parking::before{content:"\f862"}.bi-sign-no-right-turn-fill::before{content:"\f863"}.bi-sign-no-right-turn::before{content:"\f864"}.bi-sign-railroad-fill::before{content:"\f865"}.bi-sign-railroad::before{content:"\f866"}.bi-building-add::before{content:"\f867"}.bi-building-check::before{content:"\f868"}.bi-building-dash::before{content:"\f869"}.bi-building-down::before{content:"\f86a"}.bi-building-exclamation::before{content:"\f86b"}.bi-building-fill-add::before{content:"\f86c"}.bi-building-fill-check::before{content:"\f86d"}.bi-building-fill-dash::before{content:"\f86e"}.bi-building-fill-down::before{content:"\f86f"}.bi-building-fill-exclamation::before{content:"\f870"}.bi-building-fill-gear::before{content:"\f871"}.bi-building-fill-lock::before{content:"\f872"}.bi-building-fill-slash::before{content:"\f873"}.bi-building-fill-up::before{content:"\f874"}.bi-building-fill-x::before{content:"\f875"}.bi-building-fill::before{content:"\f876"}.bi-building-gear::before{content:"\f877"}.bi-building-lock::before{content:"\f878"}.bi-building-slash::before{content:"\f879"}.bi-building-up::before{content:"\f87a"}.bi-building-x::before{content:"\f87b"}.bi-buildings-fill::before{content:"\f87c"}.bi-buildings::before{content:"\f87d"}.bi-bus-front-fill::before{content:"\f87e"}.bi-bus-front::before{content:"\f87f"}.bi-ev-front-fill::before{content:"\f880"}.bi-ev-front::before{content:"\f881"}.bi-globe-americas::before{content:"\f882"}.bi-globe-asia-australia::before{content:"\f883"}.bi-globe-central-south-asia::before{content:"\f884"}.bi-globe-europe-africa::before{content:"\f885"}.bi-house-add-fill::before{content:"\f886"}.bi-house-add::before{content:"\f887"}.bi-house-check-fill::before{content:"\f888"}.bi-house-check::before{content:"\f889"}.bi-house-dash-fill::before{content:"\f88a"}.bi-house-dash::before{content:"\f88b"}.bi-house-down-fill::before{content:"\f88c"}.bi-house-down::before{content:"\f88d"}.bi-house-exclamation-fill::before{content:"\f88e"}.bi-house-exclamation::before{content:"\f88f"}.bi-house-gear-fill::before{content:"\f890"}.bi-house-gear::before{content:"\f891"}.bi-house-lock-fill::before{content:"\f892"}.bi-house-lock::before{content:"\f893"}.bi-house-slash-fill::before{content:"\f894"}.bi-house-slash::before{content:"\f895"}.bi-house-up-fill::before{content:"\f896"}.bi-house-up::before{content:"\f897"}.bi-house-x-fill::before{content:"\f898"}.bi-house-x::before{content:"\f899"}.bi-person-add::before{content:"\f89a"}.bi-person-down::before{content:"\f89b"}.bi-person-exclamation::before{content:"\f89c"}.bi-person-fill-add::before{content:"\f89d"}.bi-person-fill-check::before{content:"\f89e"}.bi-person-fill-dash::before{content:"\f89f"}.bi-person-fill-down::before{content:"\f8a0"}.bi-person-fill-exclamation::before{content:"\f8a1"}.bi-person-fill-gear::before{content:"\f8a2"}.bi-person-fill-lock::before{content:"\f8a3"}.bi-person-fill-slash::before{content:"\f8a4"}.bi-person-fill-up::before{content:"\f8a5"}.bi-person-fill-x::before{content:"\f8a6"}.bi-person-gear::before{content:"\f8a7"}.bi-person-lock::before{content:"\f8a8"}.bi-person-slash::before{content:"\f8a9"}.bi-person-up::before{content:"\f8aa"}.bi-scooter::before{content:"\f8ab"}.bi-taxi-front-fill::before{content:"\f8ac"}.bi-taxi-front::before{content:"\f8ad"}.bi-amd::before{content:"\f8ae"}.bi-database-add::before{content:"\f8af"}.bi-database-check::before{content:"\f8b0"}.bi-database-dash::before{content:"\f8b1"}.bi-database-down::before{content:"\f8b2"}.bi-database-exclamation::before{content:"\f8b3"}.bi-database-fill-add::before{content:"\f8b4"}.bi-database-fill-check::before{content:"\f8b5"}.bi-database-fill-dash::before{content:"\f8b6"}.bi-database-fill-down::before{content:"\f8b7"}.bi-database-fill-exclamation::before{content:"\f8b8"}.bi-database-fill-gear::before{content:"\f8b9"}.bi-database-fill-lock::before{content:"\f8ba"}.bi-database-fill-slash::before{content:"\f8bb"}.bi-database-fill-up::before{content:"\f8bc"}.bi-database-fill-x::before{content:"\f8bd"}.bi-database-fill::before{content:"\f8be"}.bi-database-gear::before{content:"\f8bf"}.bi-database-lock::before{content:"\f8c0"}.bi-database-slash::before{content:"\f8c1"}.bi-database-up::before{content:"\f8c2"}.bi-database-x::before{content:"\f8c3"}.bi-database::before{content:"\f8c4"}.bi-houses-fill::before{content:"\f8c5"}.bi-houses::before{content:"\f8c6"}.bi-nvidia::before{content:"\f8c7"}.bi-person-vcard-fill::before{content:"\f8c8"}.bi-person-vcard::before{content:"\f8c9"}.bi-sina-weibo::before{content:"\f8ca"}.bi-tencent-qq::before{content:"\f8cb"}.bi-wikipedia::before{content:"\f8cc"}.bi-alphabet-uppercase::before{content:"\f2a5"}.bi-alphabet::before{content:"\f68a"}.bi-amazon::before{content:"\f68d"}.bi-arrows-collapse-vertical::before{content:"\f690"}.bi-arrows-expand-vertical::before{content:"\f695"}.bi-arrows-vertical::before{content:"\f698"}.bi-arrows::before{content:"\f6a2"}.bi-ban-fill::before{content:"\f6a3"}.bi-ban::before{content:"\f6b6"}.bi-bing::before{content:"\f6c2"}.bi-cake::before{content:"\f6e0"}.bi-cake2::before{content:"\f6ed"}.bi-cookie::before{content:"\f6ee"}.bi-copy::before{content:"\f759"}.bi-crosshair::before{content:"\f769"}.bi-crosshair2::before{content:"\f794"}.bi-emoji-astonished-fill::before{content:"\f795"}.bi-emoji-astonished::before{content:"\f79a"}.bi-emoji-grimace-fill::before{content:"\f79b"}.bi-emoji-grimace::before{content:"\f7a0"}.bi-emoji-grin-fill::before{content:"\f7a1"}.bi-emoji-grin::before{content:"\f7a6"}.bi-emoji-surprise-fill::before{content:"\f7a7"}.bi-emoji-surprise::before{content:"\f7ac"}.bi-emoji-tear-fill::before{content:"\f7ad"}.bi-emoji-tear::before{content:"\f7b2"}.bi-envelope-arrow-down-fill::before{content:"\f7b3"}.bi-envelope-arrow-down::before{content:"\f7b8"}.bi-envelope-arrow-up-fill::before{content:"\f7b9"}.bi-envelope-arrow-up::before{content:"\f7be"}.bi-feather::before{content:"\f7bf"}.bi-feather2::before{content:"\f7c4"}.bi-floppy-fill::before{content:"\f7c5"}.bi-floppy::before{content:"\f7d8"}.bi-floppy2-fill::before{content:"\f7d9"}.bi-floppy2::before{content:"\f7e4"}.bi-gitlab::before{content:"\f7e5"}.bi-highlighter::before{content:"\f7f8"}.bi-marker-tip::before{content:"\f802"}.bi-nvme-fill::before{content:"\f803"}.bi-nvme::before{content:"\f80c"}.bi-opencollective::before{content:"\f80d"}.bi-pci-card-network::before{content:"\f8cd"}.bi-pci-card-sound::before{content:"\f8ce"}.bi-radar::before{content:"\f8cf"}.bi-send-arrow-down-fill::before{content:"\f8d0"}.bi-send-arrow-down::before{content:"\f8d1"}.bi-send-arrow-up-fill::before{content:"\f8d2"}.bi-send-arrow-up::before{content:"\f8d3"}.bi-sim-slash-fill::before{content:"\f8d4"}.bi-sim-slash::before{content:"\f8d5"}.bi-sourceforge::before{content:"\f8d6"}.bi-substack::before{content:"\f8d7"}.bi-threads-fill::before{content:"\f8d8"}.bi-threads::before{content:"\f8d9"}.bi-transparency::before{content:"\f8da"}.bi-twitter-x::before{content:"\f8db"}.bi-type-h4::before{content:"\f8dc"}.bi-type-h5::before{content:"\f8dd"}.bi-type-h6::before{content:"\f8de"}.bi-backpack-fill::before{content:"\f8df"}.bi-backpack::before{content:"\f8e0"}.bi-backpack2-fill::before{content:"\f8e1"}.bi-backpack2::before{content:"\f8e2"}.bi-backpack3-fill::before{content:"\f8e3"}.bi-backpack3::before{content:"\f8e4"}.bi-backpack4-fill::before{content:"\f8e5"}.bi-backpack4::before{content:"\f8e6"}.bi-brilliance::before{content:"\f8e7"}.bi-cake-fill::before{content:"\f8e8"}.bi-cake2-fill::before{content:"\f8e9"}.bi-duffle-fill::before{content:"\f8ea"}.bi-duffle::before{content:"\f8eb"}.bi-exposure::before{content:"\f8ec"}.bi-gender-neuter::before{content:"\f8ed"}.bi-highlights::before{content:"\f8ee"}.bi-luggage-fill::before{content:"\f8ef"}.bi-luggage::before{content:"\f8f0"}.bi-mailbox-flag::before{content:"\f8f1"}.bi-mailbox2-flag::before{content:"\f8f2"}.bi-noise-reduction::before{content:"\f8f3"}.bi-passport-fill::before{content:"\f8f4"}.bi-passport::before{content:"\f8f5"}.bi-person-arms-up::before{content:"\f8f6"}.bi-person-raised-hand::before{content:"\f8f7"}.bi-person-standing-dress::before{content:"\f8f8"}.bi-person-standing::before{content:"\f8f9"}.bi-person-walking::before{content:"\f8fa"}.bi-person-wheelchair::before{content:"\f8fb"}.bi-shadows::before{content:"\f8fc"}.bi-suitcase-fill::before{content:"\f8fd"}.bi-suitcase-lg-fill::before{content:"\f8fe"}.bi-suitcase-lg::before{content:"\f8ff"}.bi-suitcase::before{content:"\f900"}.bi-suitcase2-fill::before{content:"\f901"}.bi-suitcase2::before{content:"\f902"}.bi-vignette::before{content:"\f903"}.bi-bluesky::before{content:"\f7f9"}.bi-tux::before{content:"\f904"}.bi-beaker-fill::before{content:"\f905"}.bi-beaker::before{content:"\f906"}.bi-flask-fill::before{content:"\f907"}.bi-flask-florence-fill::before{content:"\f908"}.bi-flask-florence::before{content:"\f909"}.bi-flask::before{content:"\f90a"}.bi-leaf-fill::before{content:"\f90b"}.bi-leaf::before{content:"\f90c"}.bi-measuring-cup-fill::before{content:"\f90d"}.bi-measuring-cup::before{content:"\f90e"}.bi-unlock2-fill::before{content:"\f90f"}.bi-unlock2::before{content:"\f910"}.bi-battery-low::before{content:"\f911"}.bi-anthropic::before{content:"\f912"}.bi-apple-music::before{content:"\f913"}.bi-claude::before{content:"\f914"}.bi-openai::before{content:"\f915"}.bi-perplexity::before{content:"\f916"}.bi-css::before{content:"\f917"}.bi-javascript::before{content:"\f918"}.bi-typescript::before{content:"\f919"}.bi-fork-knife::before{content:"\f91a"}.bi-globe-americas-fill::before{content:"\f91b"}.bi-globe-asia-australia-fill::before{content:"\f91c"}.bi-globe-central-south-asia-fill::before{content:"\f91d"}.bi-globe-europe-africa-fill::before{content:"\f91e"}```

## File: ./app/static/fonts/fonts_include.css
```fonts_include.css
     1    @font-face {
     2        font-family: 'Montserrat';
     3        src: url('Montserrat-Regular.woff2') format('woff2');
     4        font-weight: 400;
     5        font-style: normal;
     6        font-display: swap;
     7    }
     8    
     9    
    10    @font-face {
    11        font-family: 'Montserrat';
    12        src: url('Montserrat-SemiBold.woff2') format('woff2');
    13        font-weight: 600;
    14        font-style: normal;
    15        font-display: swap;
    16    }
    17    
    18    
    19    @font-face {
    20        font-family: 'Montserrat';
    21        src: url('Montserrat-Bold.woff2') format('woff2');
    22        font-weight: 700;
    23        /* bold */
    24        font-style: normal;
    25        font-display: swap;
    26    }
    27    
    28    @font-face {
    29        font-family: 'Montserrat';
    30        src: url('Montserrat-ExtraBold.woff2') format('woff2');
    31        font-weight: 800;
    32        font-style: normal;
    33        font-display: swap;
    34    }
    35    
    36    
    37    @font-face {
    38        font-family: 'Montserrat';
    39        src: url('Montserrat-Italic.woff2') format('woff2');
    40        font-weight: 400;
    41        font-style: italic;
    42        font-display: swap;
    43    }```

## File: ./nginx/nginx.conf
```nginx.conf
     1    server {
     2        listen 80;
     3        server_name localhost;
     4        
     5        client_max_body_size 1G;
     6        
     7        location / {
     8            include uwsgi_params;
     9            uwsgi_pass flask:8080;
    10        }
    11        
    12    
    13        location /static/ {
    14            alias /app/static/;
    15            expires 30d;
    16        }
    17        
    18       
    19        location /uploads/ {
    20            alias /app/static/upload/;
    21            expires 30d;
    22        }
    23    }```

## File: ./.venv/lib/python3.12/site-packages/setuptools/tests/config/test_pyprojecttoml.py
```test_pyprojecttoml.py
     1    import re
     2    from configparser import ConfigParser
     3    from inspect import cleandoc
     4    
     5    import jaraco.path
     6    import pytest
     7    import tomli_w
     8    from path import Path
     9    
    10    import setuptools  # noqa: F401 # force distutils.core to be patched
    11    from setuptools.config.pyprojecttoml import (
    12        _ToolsTypoInMetadata,
    13        apply_configuration,
    14        expand_configuration,
    15        read_configuration,
    16        validate,
    17    )
    18    from setuptools.dist import Distribution
    19    from setuptools.errors import OptionError
    20    
    21    import distutils.core
    22    
    23    EXAMPLE = """
    24    [project]
    25    name = "myproj"
    26    keywords = ["some", "key", "words"]
    27    dynamic = ["version", "readme"]
    28    requires-python = ">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, !=3.4.*"
    29    dependencies = [
    30        'importlib-metadata>=0.12;python_version<"3.8"',
    31        'importlib-resources>=1.0;python_version<"3.7"',
    32        'pathlib2>=2.3.3,<3;python_version < "3.4" and sys.platform != "win32"',
    33    ]
    34    
    35    [project.optional-dependencies]
    36    docs = [
    37        "sphinx>=3",
    38        "sphinx-argparse>=0.2.5",
    39        "sphinx-rtd-theme>=0.4.3",
    40    ]
    41    testing = [
    42        "pytest>=1",
    43        "coverage>=3,<5",
    44    ]
    45    
    46    [project.scripts]
    47    exec = "pkg.__main__:exec"
    48    
    49    [build-system]
    50    requires = ["setuptools", "wheel"]
    51    build-backend = "setuptools.build_meta"
    52    
    53    [tool.setuptools]
    54    package-dir = {"" = "src"}
    55    zip-safe = true
    56    platforms = ["any"]
    57    
    58    [tool.setuptools.packages.find]
    59    where = ["src"]
    60    
    61    [tool.setuptools.cmdclass]
    62    sdist = "pkg.mod.CustomSdist"
    63    
    64    [tool.setuptools.dynamic.version]
    65    attr = "pkg.__version__.VERSION"
    66    
    67    [tool.setuptools.dynamic.readme]
    68    file = ["README.md"]
    69    content-type = "text/markdown"
    70    
    71    [tool.setuptools.package-data]
    72    "*" = ["*.txt"]
    73    
    74    [tool.setuptools.data-files]
    75    "data" = ["_files/*.txt"]
    76    
    77    [tool.distutils.sdist]
    78    formats = "gztar"
    79    
    80    [tool.distutils.bdist_wheel]
    81    universal = true
    82    """
    83    
    84    
    85    def create_example(path, pkg_root):
    86        files = {
    87            "pyproject.toml": EXAMPLE,
    88            "README.md": "hello world",
    89            "_files": {
    90                "file.txt": "",
    91            },
    92        }
    93        packages = {
    94            "pkg": {
    95                "__init__.py": "",
    96                "mod.py": "class CustomSdist: pass",
    97                "__version__.py": "VERSION = (3, 10)",
    98                "__main__.py": "def exec(): print('hello')",
    99            },
   100        }
   101    
   102        assert pkg_root  # Meta-test: cannot be empty string.
   103    
   104        if pkg_root == ".":
   105            files = {**files, **packages}
   106            # skip other files: flat-layout will raise error for multi-package dist
   107        else:
   108            # Use this opportunity to ensure namespaces are discovered
   109            files[pkg_root] = {**packages, "other": {"nested": {"__init__.py": ""}}}
   110    
   111        jaraco.path.build(files, prefix=path)
   112    
   113    
   114    def verify_example(config, path, pkg_root):
   115        pyproject = path / "pyproject.toml"
   116        pyproject.write_text(tomli_w.dumps(config), encoding="utf-8")
   117        expanded = expand_configuration(config, path)
   118        expanded_project = expanded["project"]
   119        assert read_configuration(pyproject, expand=True) == expanded
   120        assert expanded_project["version"] == "3.10"
   121        assert expanded_project["readme"]["text"] == "hello world"
   122        assert "packages" in expanded["tool"]["setuptools"]
   123        if pkg_root == ".":
   124            # Auto-discovery will raise error for multi-package dist
   125            assert set(expanded["tool"]["setuptools"]["packages"]) == {"pkg"}
   126        else:
   127            assert set(expanded["tool"]["setuptools"]["packages"]) == {
   128                "pkg",
   129                "other",
   130                "other.nested",
   131            }
   132        assert expanded["tool"]["setuptools"]["include-package-data"] is True
   133        assert "" in expanded["tool"]["setuptools"]["package-data"]
   134        assert "*" not in expanded["tool"]["setuptools"]["package-data"]
   135        assert expanded["tool"]["setuptools"]["data-files"] == [
   136            ("data", ["_files/file.txt"])
   137        ]
   138    
   139    
   140    def test_read_configuration(tmp_path):
   141        create_example(tmp_path, "src")
   142        pyproject = tmp_path / "pyproject.toml"
   143    
   144        config = read_configuration(pyproject, expand=False)
   145        assert config["project"].get("version") is None
   146        assert config["project"].get("readme") is None
   147    
   148        verify_example(config, tmp_path, "src")
   149    
   150    
   151    @pytest.mark.parametrize(
   152        ("pkg_root", "opts"),
   153        [
   154            (".", {}),
   155            ("src", {}),
   156            ("lib", {"packages": {"find": {"where": ["lib"]}}}),
   157        ],
   158    )
   159    def test_discovered_package_dir_with_attr_directive_in_config(tmp_path, pkg_root, opts):
   160        create_example(tmp_path, pkg_root)
   161    
   162        pyproject = tmp_path / "pyproject.toml"
   163    
   164        config = read_configuration(pyproject, expand=False)
   165        assert config["project"].get("version") is None
   166        assert config["project"].get("readme") is None
   167        config["tool"]["setuptools"].pop("packages", None)
   168        config["tool"]["setuptools"].pop("package-dir", None)
   169    
   170        config["tool"]["setuptools"].update(opts)
   171        verify_example(config, tmp_path, pkg_root)
   172    
   173    
   174    ENTRY_POINTS = {
   175        "console_scripts": {"a": "mod.a:func"},
   176        "gui_scripts": {"b": "mod.b:func"},
   177        "other": {"c": "mod.c:func [extra]"},
   178    }
   179    
   180    
   181    class TestEntryPoints:
   182        def write_entry_points(self, tmp_path):
   183            entry_points = ConfigParser()
   184            entry_points.read_dict(ENTRY_POINTS)
   185            with open(tmp_path / "entry-points.txt", "w", encoding="utf-8") as f:
   186                entry_points.write(f)
   187    
   188        def pyproject(self, dynamic=None):
   189            project = {"dynamic": dynamic or ["scripts", "gui-scripts", "entry-points"]}
   190            tool = {"dynamic": {"entry-points": {"file": "entry-points.txt"}}}
   191            return {"project": project, "tool": {"setuptools": tool}}
   192    
   193        def test_all_listed_in_dynamic(self, tmp_path):
   194            self.write_entry_points(tmp_path)
   195            expanded = expand_configuration(self.pyproject(), tmp_path)
   196            expanded_project = expanded["project"]
   197            assert len(expanded_project["scripts"]) == 1
   198            assert expanded_project["scripts"]["a"] == "mod.a:func"
   199            assert len(expanded_project["gui-scripts"]) == 1
   200            assert expanded_project["gui-scripts"]["b"] == "mod.b:func"
   201            assert len(expanded_project["entry-points"]) == 1
   202            assert expanded_project["entry-points"]["other"]["c"] == "mod.c:func [extra]"
   203    
   204        @pytest.mark.parametrize("missing_dynamic", ("scripts", "gui-scripts"))
   205        def test_scripts_not_listed_in_dynamic(self, tmp_path, missing_dynamic):
   206            self.write_entry_points(tmp_path)
   207            dynamic = {"scripts", "gui-scripts", "entry-points"} - {missing_dynamic}
   208    
   209            msg = f"defined outside of `pyproject.toml`:.*{missing_dynamic}"
   210            with pytest.raises(OptionError, match=re.compile(msg, re.S)):
   211                expand_configuration(self.pyproject(dynamic), tmp_path)
   212    
   213    
   214    class TestClassifiers:
   215        def test_dynamic(self, tmp_path):
   216            # Let's create a project example that has dynamic classifiers
   217            # coming from a txt file.
   218            create_example(tmp_path, "src")
   219            classifiers = cleandoc(
   220                """
   221                Framework :: Flask
   222                Programming Language :: Haskell
   223                """
   224            )
   225            (tmp_path / "classifiers.txt").write_text(classifiers, encoding="utf-8")
   226    
   227            pyproject = tmp_path / "pyproject.toml"
   228            config = read_configuration(pyproject, expand=False)
   229            dynamic = config["project"]["dynamic"]
   230            config["project"]["dynamic"] = list({*dynamic, "classifiers"})
   231            dynamic_config = config["tool"]["setuptools"]["dynamic"]
   232            dynamic_config["classifiers"] = {"file": "classifiers.txt"}
   233    
   234            # When the configuration is expanded,
   235            # each line of the file should be an different classifier.
   236            validate(config, pyproject)
   237            expanded = expand_configuration(config, tmp_path)
   238    
   239            assert set(expanded["project"]["classifiers"]) == {
   240                "Framework :: Flask",
   241                "Programming Language :: Haskell",
   242            }
   243    
   244        def test_dynamic_without_config(self, tmp_path):
   245            config = """
   246            [project]
   247            name = "myproj"
   248            version = '42'
   249            dynamic = ["classifiers"]
   250            """
   251    
   252            pyproject = tmp_path / "pyproject.toml"
   253            pyproject.write_text(cleandoc(config), encoding="utf-8")
   254            with pytest.raises(OptionError, match="No configuration .* .classifiers."):
   255                read_configuration(pyproject)
   256    
   257        def test_dynamic_readme_from_setup_script_args(self, tmp_path):
   258            config = """
   259            [project]
   260            name = "myproj"
   261            version = '42'
   262            dynamic = ["readme"]
   263            """
   264            pyproject = tmp_path / "pyproject.toml"
   265            pyproject.write_text(cleandoc(config), encoding="utf-8")
   266            dist = Distribution(attrs={"long_description": "42"})
   267            # No error should occur because of missing `readme`
   268            dist = apply_configuration(dist, pyproject)
   269            assert dist.metadata.long_description == "42"
   270    
   271        def test_dynamic_without_file(self, tmp_path):
   272            config = """
   273            [project]
   274            name = "myproj"
   275            version = '42'
   276            dynamic = ["classifiers"]
   277    
   278            [tool.setuptools.dynamic]
   279            classifiers = {file = ["classifiers.txt"]}
   280            """
   281    
   282            pyproject = tmp_path / "pyproject.toml"
   283            pyproject.write_text(cleandoc(config), encoding="utf-8")
   284            with pytest.warns(UserWarning, match="File .*classifiers.txt. cannot be found"):
   285                expanded = read_configuration(pyproject)
   286            assert "classifiers" not in expanded["project"]
   287    
   288    
   289    @pytest.mark.parametrize(
   290        "example",
   291        (
   292            """
   293            [project]
   294            name = "myproj"
   295            version = "1.2"
   296    
   297            [my-tool.that-disrespect.pep518]
   298            value = 42
   299            """,
   300        ),
   301    )
   302    def test_ignore_unrelated_config(tmp_path, example):
   303        pyproject = tmp_path / "pyproject.toml"
   304        pyproject.write_text(cleandoc(example), encoding="utf-8")
   305    
   306        # Make sure no error is raised due to 3rd party configs in pyproject.toml
   307        assert read_configuration(pyproject) is not None
   308    
   309    
   310    @pytest.mark.parametrize(
   311        ("example", "error_msg"),
   312        [
   313            (
   314                """
   315                [project]
   316                name = "myproj"
   317                version = "1.2"
   318                requires = ['pywin32; platform_system=="Windows"' ]
   319                """,
   320                "configuration error: .project. must not contain ..requires.. properties",
   321            ),
   322        ],
   323    )
   324    def test_invalid_example(tmp_path, example, error_msg):
   325        pyproject = tmp_path / "pyproject.toml"
   326        pyproject.write_text(cleandoc(example), encoding="utf-8")
   327    
   328        pattern = re.compile(f"invalid pyproject.toml.*{error_msg}.*", re.M | re.S)
   329        with pytest.raises(ValueError, match=pattern):
   330            read_configuration(pyproject)
   331    
   332    
   333    @pytest.mark.parametrize("config", ("", "[tool.something]\nvalue = 42"))
   334    def test_empty(tmp_path, config):
   335        pyproject = tmp_path / "pyproject.toml"
   336        pyproject.write_text(config, encoding="utf-8")
   337    
   338        # Make sure no error is raised
   339        assert read_configuration(pyproject) == {}
   340    
   341    
   342    @pytest.mark.parametrize("config", ("[project]\nname = 'myproj'\nversion='42'\n",))
   343    def test_include_package_data_by_default(tmp_path, config):
   344        """Builds with ``pyproject.toml`` should consider ``include-package-data=True`` as
   345        default.
   346        """
   347        pyproject = tmp_path / "pyproject.toml"
   348        pyproject.write_text(config, encoding="utf-8")
   349    
   350        config = read_configuration(pyproject)
   351        assert config["tool"]["setuptools"]["include-package-data"] is True
   352    
   353    
   354    def test_include_package_data_in_setuppy(tmp_path):
   355        """Builds with ``pyproject.toml`` should consider ``include_package_data`` set in
   356        ``setup.py``.
   357    
   358        See https://github.com/pypa/setuptools/issues/3197#issuecomment-1079023889
   359        """
   360        files = {
   361            "pyproject.toml": "[project]\nname = 'myproj'\nversion='42'\n",
   362            "setup.py": "__import__('setuptools').setup(include_package_data=False)",
   363        }
   364        jaraco.path.build(files, prefix=tmp_path)
   365    
   366        with Path(tmp_path):
   367            dist = distutils.core.run_setup("setup.py", {}, stop_after="config")
   368    
   369        assert dist.get_name() == "myproj"
   370        assert dist.get_version() == "42"
   371        assert dist.include_package_data is False
   372    
   373    
   374    def test_warn_tools_typo(tmp_path):
   375        """Test that the common ``tools.setuptools`` typo in ``pyproject.toml`` issues a warning
   376    
   377        See https://github.com/pypa/setuptools/issues/4150
   378        """
   379        config = """
   380        [build-system]
   381        requires = ["setuptools"]
   382        build-backend = "setuptools.build_meta"
   383    
   384        [project]
   385        name = "myproj"
   386        version = '42'
   387    
   388        [tools.setuptools]
   389        packages = ["package"]
   390        """
   391    
   392        pyproject = tmp_path / "pyproject.toml"
   393        pyproject.write_text(cleandoc(config), encoding="utf-8")
   394    
   395        with pytest.warns(_ToolsTypoInMetadata):
   396            read_configuration(pyproject)
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/tests/config/downloads/preload.py
```preload.py
     1    """This file can be used to preload files needed for testing.
     2    
     3    For example you can use::
     4    
     5        cd setuptools/tests/config
     6        python -m downloads.preload setupcfg_examples.txt
     7    
     8    to make sure the `setup.cfg` examples are downloaded before starting the tests.
     9    """
    10    
    11    import sys
    12    from pathlib import Path
    13    
    14    from . import retrieve_file, urls_from_file
    15    
    16    if __name__ == "__main__":
    17        urls = urls_from_file(Path(sys.argv[1]))
    18        list(map(retrieve_file, urls))
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/tests/config/downloads/__init__.py
```__init__.py
     1    from __future__ import annotations
     2    
     3    import re
     4    import time
     5    from pathlib import Path
     6    from urllib.error import HTTPError
     7    from urllib.request import urlopen
     8    
     9    __all__ = ["DOWNLOAD_DIR", "retrieve_file", "output_file", "urls_from_file"]
    10    
    11    
    12    NAME_REMOVE = ("http://", "https://", "github.com/", "/raw/")
    13    DOWNLOAD_DIR = Path(__file__).parent
    14    
    15    
    16    # ----------------------------------------------------------------------
    17    # Please update ./preload.py accordingly when modifying this file
    18    # ----------------------------------------------------------------------
    19    
    20    
    21    def output_file(url: str, download_dir: Path = DOWNLOAD_DIR) -> Path:
    22        file_name = url.strip()
    23        for part in NAME_REMOVE:
    24            file_name = file_name.replace(part, '').strip().strip('/:').strip()
    25        return Path(download_dir, re.sub(r"[^\-_\.\w\d]+", "_", file_name))
    26    
    27    
    28    def retrieve_file(url: str, download_dir: Path = DOWNLOAD_DIR, wait: float = 5) -> Path:
    29        path = output_file(url, download_dir)
    30        if path.exists():
    31            print(f"Skipping {url} (already exists: {path})")
    32        else:
    33            download_dir.mkdir(exist_ok=True, parents=True)
    34            print(f"Downloading {url} to {path}")
    35            try:
    36                download(url, path)
    37            except HTTPError:
    38                time.sleep(wait)  # wait a few seconds and try again.
    39                download(url, path)
    40        return path
    41    
    42    
    43    def urls_from_file(list_file: Path) -> list[str]:
    44        """``list_file`` should be a text file where each line corresponds to a URL to
    45        download.
    46        """
    47        print(f"file: {list_file}")
    48        content = list_file.read_text(encoding="utf-8")
    49        return [url for url in content.splitlines() if not url.startswith("#")]
    50    
    51    
    52    def download(url: str, dest: Path):
    53        with urlopen(url) as f:
    54            data = f.read()
    55    
    56        with open(dest, "wb") as f:
    57            f.write(data)
    58    
    59        assert Path(dest).exists()
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/tests/config/test_pyprojecttoml_dynamic_deps.py
```test_pyprojecttoml_dynamic_deps.py
     1    from inspect import cleandoc
     2    
     3    import pytest
     4    from jaraco import path
     5    
     6    from setuptools.config.pyprojecttoml import apply_configuration
     7    from setuptools.dist import Distribution
     8    from setuptools.warnings import SetuptoolsWarning
     9    
    10    
    11    def test_dynamic_dependencies(tmp_path):
    12        files = {
    13            "requirements.txt": "six\n  # comment\n",
    14            "pyproject.toml": cleandoc(
    15                """
    16                [project]
    17                name = "myproj"
    18                version = "1.0"
    19                dynamic = ["dependencies"]
    20    
    21                [build-system]
    22                requires = ["setuptools", "wheel"]
    23                build-backend = "setuptools.build_meta"
    24    
    25                [tool.setuptools.dynamic.dependencies]
    26                file = ["requirements.txt"]
    27                """
    28            ),
    29        }
    30        path.build(files, prefix=tmp_path)
    31        dist = Distribution()
    32        dist = apply_configuration(dist, tmp_path / "pyproject.toml")
    33        assert dist.install_requires == ["six"]
    34    
    35    
    36    def test_dynamic_optional_dependencies(tmp_path):
    37        files = {
    38            "requirements-docs.txt": "sphinx\n  # comment\n",
    39            "pyproject.toml": cleandoc(
    40                """
    41                [project]
    42                name = "myproj"
    43                version = "1.0"
    44                dynamic = ["optional-dependencies"]
    45    
    46                [tool.setuptools.dynamic.optional-dependencies.docs]
    47                file = ["requirements-docs.txt"]
    48    
    49                [build-system]
    50                requires = ["setuptools", "wheel"]
    51                build-backend = "setuptools.build_meta"
    52                """
    53            ),
    54        }
    55        path.build(files, prefix=tmp_path)
    56        dist = Distribution()
    57        dist = apply_configuration(dist, tmp_path / "pyproject.toml")
    58        assert dist.extras_require == {"docs": ["sphinx"]}
    59    
    60    
    61    def test_mixed_dynamic_optional_dependencies(tmp_path):
    62        """
    63        Test that if PEP 621 was loosened to allow mixing of dynamic and static
    64        configurations in the case of fields containing sub-fields (groups),
    65        things would work out.
    66        """
    67        files = {
    68            "requirements-images.txt": "pillow~=42.0\n  # comment\n",
    69            "pyproject.toml": cleandoc(
    70                """
    71                [project]
    72                name = "myproj"
    73                version = "1.0"
    74                dynamic = ["optional-dependencies"]
    75    
    76                [project.optional-dependencies]
    77                docs = ["sphinx"]
    78    
    79                [tool.setuptools.dynamic.optional-dependencies.images]
    80                file = ["requirements-images.txt"]
    81                """
    82            ),
    83        }
    84    
    85        path.build(files, prefix=tmp_path)
    86        pyproject = tmp_path / "pyproject.toml"
    87        with pytest.raises(ValueError, match="project.optional-dependencies"):
    88            apply_configuration(Distribution(), pyproject)
    89    
    90    
    91    def test_mixed_extras_require_optional_dependencies(tmp_path):
    92        files = {
    93            "pyproject.toml": cleandoc(
    94                """
    95                [project]
    96                name = "myproj"
    97                version = "1.0"
    98                optional-dependencies.docs = ["sphinx"]
    99                """
   100            ),
   101        }
   102    
   103        path.build(files, prefix=tmp_path)
   104        pyproject = tmp_path / "pyproject.toml"
   105    
   106        with pytest.warns(SetuptoolsWarning, match=".extras_require. overwritten"):
   107            dist = Distribution({"extras_require": {"hello": ["world"]}})
   108            dist = apply_configuration(dist, pyproject)
   109            assert dist.extras_require == {"docs": ["sphinx"]}
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/tests/config/test_apply_pyprojecttoml.py
```test_apply_pyprojecttoml.py
     1    """Make sure that applying the configuration from pyproject.toml is equivalent to
     2    applying a similar configuration from setup.cfg
     3    
     4    To run these tests offline, please have a look on ``./downloads/preload.py``
     5    """
     6    
     7    from __future__ import annotations
     8    
     9    import io
    10    import re
    11    import tarfile
    12    from inspect import cleandoc
    13    from pathlib import Path
    14    from unittest.mock import Mock
    15    
    16    import pytest
    17    from ini2toml.api import LiteTranslator
    18    from packaging.metadata import Metadata
    19    
    20    import setuptools  # noqa: F401 # ensure monkey patch to metadata
    21    from setuptools._static import is_static
    22    from setuptools.command.egg_info import write_requirements
    23    from setuptools.config import expand, pyprojecttoml, setupcfg
    24    from setuptools.config._apply_pyprojecttoml import _MissingDynamic, _some_attrgetter
    25    from setuptools.dist import Distribution
    26    from setuptools.errors import InvalidConfigError, RemovedConfigError
    27    from setuptools.warnings import InformationOnly, SetuptoolsDeprecationWarning
    28    
    29    from .downloads import retrieve_file, urls_from_file
    30    
    31    HERE = Path(__file__).parent
    32    EXAMPLES_FILE = "setupcfg_examples.txt"
    33    
    34    
    35    def makedist(path, **attrs):
    36        return Distribution({"src_root": path, **attrs})
    37    
    38    
    39    def _mock_expand_patterns(patterns, *_, **__):
    40        """
    41        Allow comparing the given patterns for 2 dist objects.
    42        We need to strip special chars to avoid errors when validating.
    43        """
    44        return [re.sub("[^a-z0-9]+", "", p, flags=re.I) or "empty" for p in patterns]
    45    
    46    
    47    @pytest.mark.parametrize("url", urls_from_file(HERE / EXAMPLES_FILE))
    48    @pytest.mark.filterwarnings("ignore")
    49    @pytest.mark.uses_network
    50    def test_apply_pyproject_equivalent_to_setupcfg(url, monkeypatch, tmp_path):
    51        monkeypatch.setattr(expand, "read_attr", Mock(return_value="0.0.1"))
    52        monkeypatch.setattr(
    53            Distribution, "_expand_patterns", Mock(side_effect=_mock_expand_patterns)
    54        )
    55        setupcfg_example = retrieve_file(url)
    56        pyproject_example = Path(tmp_path, "pyproject.toml")
    57        setupcfg_text = setupcfg_example.read_text(encoding="utf-8")
    58        toml_config = LiteTranslator().translate(setupcfg_text, "setup.cfg")
    59        pyproject_example.write_text(toml_config, encoding="utf-8")
    60    
    61        dist_toml = pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject_example)
    62        dist_cfg = setupcfg.apply_configuration(makedist(tmp_path), setupcfg_example)
    63    
    64        pkg_info_toml = core_metadata(dist_toml)
    65        pkg_info_cfg = core_metadata(dist_cfg)
    66        assert pkg_info_toml == pkg_info_cfg
    67    
    68        if any(getattr(d, "license_files", None) for d in (dist_toml, dist_cfg)):
    69            assert set(dist_toml.license_files) == set(dist_cfg.license_files)
    70    
    71        if any(getattr(d, "entry_points", None) for d in (dist_toml, dist_cfg)):
    72            print(dist_cfg.entry_points)
    73            ep_toml = {
    74                (k, *sorted(i.replace(" ", "") for i in v))
    75                for k, v in dist_toml.entry_points.items()
    76            }
    77            ep_cfg = {
    78                (k, *sorted(i.replace(" ", "") for i in v))
    79                for k, v in dist_cfg.entry_points.items()
    80            }
    81            assert ep_toml == ep_cfg
    82    
    83        if any(getattr(d, "package_data", None) for d in (dist_toml, dist_cfg)):
    84            pkg_data_toml = {(k, *sorted(v)) for k, v in dist_toml.package_data.items()}
    85            pkg_data_cfg = {(k, *sorted(v)) for k, v in dist_cfg.package_data.items()}
    86            assert pkg_data_toml == pkg_data_cfg
    87    
    88        if any(getattr(d, "data_files", None) for d in (dist_toml, dist_cfg)):
    89            data_files_toml = {(k, *sorted(v)) for k, v in dist_toml.data_files}
    90            data_files_cfg = {(k, *sorted(v)) for k, v in dist_cfg.data_files}
    91            assert data_files_toml == data_files_cfg
    92    
    93        assert set(dist_toml.install_requires) == set(dist_cfg.install_requires)
    94        if any(getattr(d, "extras_require", None) for d in (dist_toml, dist_cfg)):
    95            extra_req_toml = {(k, *sorted(v)) for k, v in dist_toml.extras_require.items()}
    96            extra_req_cfg = {(k, *sorted(v)) for k, v in dist_cfg.extras_require.items()}
    97            assert extra_req_toml == extra_req_cfg
    98    
    99    
   100    PEP621_EXAMPLE = """\
   101    [project]
   102    name = "spam"
   103    version = "2020.0.0"
   104    description = "Lovely Spam! Wonderful Spam!"
   105    readme = "README.rst"
   106    requires-python = ">=3.8"
   107    license-files = ["LICENSE.txt"]  # Updated to be PEP 639 compliant
   108    keywords = ["egg", "bacon", "sausage", "tomatoes", "Lobster Thermidor"]
   109    authors = [
   110      {email = "hi@pradyunsg.me"},
   111      {name = "Tzu-Ping Chung"}
   112    ]
   113    maintainers = [
   114      {name = "Brett Cannon", email = "brett@python.org"},
   115      {name = "John X. Ãørçeč", email = "john@utf8.org"},
   116      {name = "Γαμα קּ 東", email = "gama@utf8.org"},
   117    ]
   118    classifiers = [
   119      "Development Status :: 4 - Beta",
   120      "Programming Language :: Python"
   121    ]
   122    
   123    dependencies = [
   124      "httpx",
   125      "gidgethub[httpx]>4.0.0",
   126      "django>2.1; os_name != 'nt'",
   127      "django>2.0; os_name == 'nt'"
   128    ]
   129    
   130    [project.optional-dependencies]
   131    test = [
   132      "pytest < 5.0.0",
   133      "pytest-cov[all]"
   134    ]
   135    
   136    [project.urls]
   137    homepage = "http://example.com"
   138    documentation = "http://readthedocs.org"
   139    repository = "http://github.com"
   140    changelog = "http://github.com/me/spam/blob/master/CHANGELOG.md"
   141    
   142    [project.scripts]
   143    spam-cli = "spam:main_cli"
   144    
   145    [project.gui-scripts]
   146    spam-gui = "spam:main_gui"
   147    
   148    [project.entry-points."spam.magical"]
   149    tomatoes = "spam:main_tomatoes"
   150    """
   151    
   152    PEP621_INTERNATIONAL_EMAIL_EXAMPLE = """\
   153    [project]
   154    name = "spam"
   155    version = "2020.0.0"
   156    authors = [
   157      {email = "hi@pradyunsg.me"},
   158      {name = "Tzu-Ping Chung"}
   159    ]
   160    maintainers = [
   161      {name = "Степан Бандера", email = "криївка@оун-упа.укр"},
   162    ]
   163    """
   164    
   165    PEP621_EXAMPLE_SCRIPT = """
   166    def main_cli(): pass
   167    def main_gui(): pass
   168    def main_tomatoes(): pass
   169    """
   170    
   171    PEP639_LICENSE_TEXT = """\
   172    [project]
   173    name = "spam"
   174    version = "2020.0.0"
   175    authors = [
   176      {email = "hi@pradyunsg.me"},
   177      {name = "Tzu-Ping Chung"}
   178    ]
   179    license = {text = "MIT"}
   180    """
   181    
   182    PEP639_LICENSE_EXPRESSION = """\
   183    [project]
   184    name = "spam"
   185    version = "2020.0.0"
   186    authors = [
   187      {email = "hi@pradyunsg.me"},
   188      {name = "Tzu-Ping Chung"}
   189    ]
   190    license = "mit or apache-2.0"  # should be normalized in metadata
   191    classifiers = [
   192        "Development Status :: 5 - Production/Stable",
   193        "Programming Language :: Python",
   194    ]
   195    """
   196    
   197    
   198    def _pep621_example_project(
   199        tmp_path,
   200        readme="README.rst",
   201        pyproject_text=PEP621_EXAMPLE,
   202    ):
   203        pyproject = tmp_path / "pyproject.toml"
   204        text = pyproject_text
   205        replacements = {'readme = "README.rst"': f'readme = "{readme}"'}
   206        for orig, subst in replacements.items():
   207            text = text.replace(orig, subst)
   208        pyproject.write_text(text, encoding="utf-8")
   209    
   210        (tmp_path / readme).write_text("hello world", encoding="utf-8")
   211        (tmp_path / "LICENSE.txt").write_text("--- LICENSE stub ---", encoding="utf-8")
   212        (tmp_path / "spam.py").write_text(PEP621_EXAMPLE_SCRIPT, encoding="utf-8")
   213        return pyproject
   214    
   215    
   216    def test_pep621_example(tmp_path):
   217        """Make sure the example in PEP 621 works"""
   218        pyproject = _pep621_example_project(tmp_path)
   219        dist = pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   220        assert set(dist.metadata.license_files) == {"LICENSE.txt"}
   221    
   222    
   223    @pytest.mark.parametrize(
   224        ("readme", "ctype"),
   225        [
   226            ("Readme.txt", "text/plain"),
   227            ("readme.md", "text/markdown"),
   228            ("text.rst", "text/x-rst"),
   229        ],
   230    )
   231    def test_readme_content_type(tmp_path, readme, ctype):
   232        pyproject = _pep621_example_project(tmp_path, readme)
   233        dist = pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   234        assert dist.metadata.long_description_content_type == ctype
   235    
   236    
   237    def test_undefined_content_type(tmp_path):
   238        pyproject = _pep621_example_project(tmp_path, "README.tex")
   239        with pytest.raises(ValueError, match="Undefined content type for README.tex"):
   240            pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   241    
   242    
   243    def test_no_explicit_content_type_for_missing_extension(tmp_path):
   244        pyproject = _pep621_example_project(tmp_path, "README")
   245        dist = pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   246        assert dist.metadata.long_description_content_type is None
   247    
   248    
   249    @pytest.mark.parametrize(
   250        ("pyproject_text", "expected_maintainers_meta_value"),
   251        (
   252            pytest.param(
   253                PEP621_EXAMPLE,
   254                (
   255                    'Brett Cannon <brett@python.org>, "John X. Ãørçeč" <john@utf8.org>, '
   256                    'Γαμα קּ 東 <gama@utf8.org>'
   257                ),
   258                id='non-international-emails',
   259            ),
   260            pytest.param(
   261                PEP621_INTERNATIONAL_EMAIL_EXAMPLE,
   262                'Степан Бандера <криївка@оун-упа.укр>',
   263                marks=pytest.mark.xfail(
   264                    reason="CPython's `email.headerregistry.Address` only supports "
   265                    'RFC 5322, as of Nov 10, 2022 and latest Python 3.11.0',
   266                    strict=True,
   267                ),
   268                id='international-email',
   269            ),
   270        ),
   271    )
   272    def test_utf8_maintainer_in_metadata(  # issue-3663
   273        expected_maintainers_meta_value,
   274        pyproject_text,
   275        tmp_path,
   276    ):
   277        pyproject = _pep621_example_project(
   278            tmp_path,
   279            "README",
   280            pyproject_text=pyproject_text,
   281        )
   282        dist = pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   283        assert dist.metadata.maintainer_email == expected_maintainers_meta_value
   284        pkg_file = tmp_path / "PKG-FILE"
   285        with open(pkg_file, "w", encoding="utf-8") as fh:
   286            dist.metadata.write_pkg_file(fh)
   287        content = pkg_file.read_text(encoding="utf-8")
   288        assert f"Maintainer-email: {expected_maintainers_meta_value}" in content
   289    
   290    
   291    @pytest.mark.parametrize(
   292        (
   293            'pyproject_text',
   294            'license',
   295            'license_expression',
   296            'content_str',
   297            'not_content_str',
   298        ),
   299        (
   300            pytest.param(
   301                PEP639_LICENSE_TEXT,
   302                'MIT',
   303                None,
   304                'License: MIT',
   305                'License-Expression: ',
   306                id='license-text',
   307                marks=[
   308                    pytest.mark.filterwarnings(
   309                        "ignore:.project.license. as a TOML table is deprecated",
   310                    )
   311                ],
   312            ),
   313            pytest.param(
   314                PEP639_LICENSE_EXPRESSION,
   315                None,
   316                'MIT OR Apache-2.0',
   317                'License-Expression: MIT OR Apache-2.0',
   318                'License: ',
   319                id='license-expression',
   320            ),
   321        ),
   322    )
   323    def test_license_in_metadata(
   324        license,
   325        license_expression,
   326        content_str,
   327        not_content_str,
   328        pyproject_text,
   329        tmp_path,
   330    ):
   331        pyproject = _pep621_example_project(
   332            tmp_path,
   333            "README",
   334            pyproject_text=pyproject_text,
   335        )
   336        dist = pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   337        assert dist.metadata.license == license
   338        assert dist.metadata.license_expression == license_expression
   339        pkg_file = tmp_path / "PKG-FILE"
   340        with open(pkg_file, "w", encoding="utf-8") as fh:
   341            dist.metadata.write_pkg_file(fh)
   342        content = pkg_file.read_text(encoding="utf-8")
   343        assert "Metadata-Version: 2.4" in content
   344        assert content_str in content
   345        assert not_content_str not in content
   346    
   347    
   348    def test_license_classifier_with_license_expression(tmp_path):
   349        text = PEP639_LICENSE_EXPRESSION.rsplit("\n", 2)[0]
   350        pyproject = _pep621_example_project(
   351            tmp_path,
   352            "README",
   353            f"{text}\n    \"License :: OSI Approved :: MIT License\"\n]",
   354        )
   355        msg = "License classifiers have been superseded by license expressions"
   356        with pytest.raises(InvalidConfigError, match=msg) as exc:
   357            pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   358    
   359        assert "License :: OSI Approved :: MIT License" in str(exc.value)
   360    
   361    
   362    def test_license_classifier_without_license_expression(tmp_path):
   363        text = """\
   364        [project]
   365        name = "spam"
   366        version = "2020.0.0"
   367        license = {text = "mit or apache-2.0"}
   368        classifiers = ["License :: OSI Approved :: MIT License"]
   369        """
   370        pyproject = _pep621_example_project(tmp_path, "README", text)
   371    
   372        msg1 = "License classifiers are deprecated(?:.|\n)*MIT License"
   373        msg2 = ".project.license. as a TOML table is deprecated"
   374        with (
   375            pytest.warns(SetuptoolsDeprecationWarning, match=msg1),
   376            pytest.warns(SetuptoolsDeprecationWarning, match=msg2),
   377        ):
   378            dist = pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   379    
   380        # Check license classifier is still included
   381        assert dist.metadata.get_classifiers() == ["License :: OSI Approved :: MIT License"]
   382    
   383    
   384    class TestLicenseFiles:
   385        def base_pyproject(
   386            self,
   387            tmp_path,
   388            additional_text="",
   389            license_toml='license = {file = "LICENSE.txt"}\n',
   390        ):
   391            text = PEP639_LICENSE_EXPRESSION
   392    
   393            # Sanity-check
   394            assert 'license = "mit or apache-2.0"' in text
   395            assert 'license-files' not in text
   396            assert "[tool.setuptools]" not in text
   397    
   398            text = re.sub(
   399                r"(license = .*)\n",
   400                license_toml,
   401                text,
   402                count=1,
   403            )
   404            assert license_toml in text  # sanity check
   405            text = f"{text}\n{additional_text}\n"
   406            pyproject = _pep621_example_project(tmp_path, "README", pyproject_text=text)
   407            return pyproject
   408    
   409        def base_pyproject_license_pep639(self, tmp_path, additional_text=""):
   410            return self.base_pyproject(
   411                tmp_path,
   412                additional_text=additional_text,
   413                license_toml='license = "licenseref-Proprietary"'
   414                '\nlicense-files = ["_FILE*"]\n',
   415            )
   416    
   417        def test_both_license_and_license_files_defined(self, tmp_path):
   418            setuptools_config = '[tool.setuptools]\nlicense-files = ["_FILE*"]'
   419            pyproject = self.base_pyproject(tmp_path, setuptools_config)
   420    
   421            (tmp_path / "_FILE.txt").touch()
   422            (tmp_path / "_FILE.rst").touch()
   423    
   424            # Would normally match the `license_files` patterns, but we want to exclude it
   425            # by being explicit. On the other hand, contents should be added to `license`
   426            license = tmp_path / "LICENSE.txt"
   427            license.write_text("LicenseRef-Proprietary\n", encoding="utf-8")
   428    
   429            msg1 = "'tool.setuptools.license-files' is deprecated in favor of 'project.license-files'"
   430            msg2 = ".project.license. as a TOML table is deprecated"
   431            with (
   432                pytest.warns(SetuptoolsDeprecationWarning, match=msg1),
   433                pytest.warns(SetuptoolsDeprecationWarning, match=msg2),
   434            ):
   435                dist = pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   436            assert set(dist.metadata.license_files) == {"_FILE.rst", "_FILE.txt"}
   437            assert dist.metadata.license == "LicenseRef-Proprietary\n"
   438    
   439        def test_both_license_and_license_files_defined_pep639(self, tmp_path):
   440            # Set license and license-files
   441            pyproject = self.base_pyproject_license_pep639(tmp_path)
   442    
   443            (tmp_path / "_FILE.txt").touch()
   444            (tmp_path / "_FILE.rst").touch()
   445    
   446            msg = "Normalizing.*LicenseRef"
   447            with pytest.warns(InformationOnly, match=msg):
   448                dist = pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   449    
   450            assert set(dist.metadata.license_files) == {"_FILE.rst", "_FILE.txt"}
   451            assert dist.metadata.license is None
   452            assert dist.metadata.license_expression == "LicenseRef-Proprietary"
   453    
   454        def test_license_files_defined_twice(self, tmp_path):
   455            # Set project.license-files and tools.setuptools.license-files
   456            setuptools_config = '[tool.setuptools]\nlicense-files = ["_FILE*"]'
   457            pyproject = self.base_pyproject_license_pep639(tmp_path, setuptools_config)
   458    
   459            msg = "'project.license-files' is defined already. Remove 'tool.setuptools.license-files'"
   460            with pytest.raises(InvalidConfigError, match=msg):
   461                pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   462    
   463        def test_default_patterns(self, tmp_path):
   464            setuptools_config = '[tool.setuptools]\nzip-safe = false'
   465            # ^ used just to trigger section validation
   466            pyproject = self.base_pyproject(tmp_path, setuptools_config, license_toml="")
   467    
   468            license_files = "LICENCE-a.html COPYING-abc.txt AUTHORS-xyz NOTICE,def".split()
   469    
   470            for fname in license_files:
   471                (tmp_path / fname).write_text(f"{fname}\n", encoding="utf-8")
   472    
   473            dist = pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   474    
   475            assert (tmp_path / "LICENSE.txt").exists()  # from base example
   476            assert set(dist.metadata.license_files) == {*license_files, "LICENSE.txt"}
   477    
   478        def test_missing_patterns(self, tmp_path):
   479            pyproject = self.base_pyproject_license_pep639(tmp_path)
   480            assert list(tmp_path.glob("_FILE*")) == []  # sanity check
   481    
   482            msg1 = "Cannot find any files for the given pattern.*"
   483            msg2 = "Normalizing 'licenseref-Proprietary' to 'LicenseRef-Proprietary'"
   484            with (
   485                pytest.warns(SetuptoolsDeprecationWarning, match=msg1),
   486                pytest.warns(InformationOnly, match=msg2),
   487            ):
   488                pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   489    
   490        def test_deprecated_file_expands_to_text(self, tmp_path):
   491            """Make sure the old example with ``license = {text = ...}`` works"""
   492    
   493            assert 'license-files = ["LICENSE.txt"]' in PEP621_EXAMPLE  # sanity check
   494            text = PEP621_EXAMPLE.replace(
   495                'license-files = ["LICENSE.txt"]',
   496                'license = {file = "LICENSE.txt"}',
   497            )
   498            pyproject = _pep621_example_project(tmp_path, pyproject_text=text)
   499    
   500            msg = ".project.license. as a TOML table is deprecated"
   501            with pytest.warns(SetuptoolsDeprecationWarning, match=msg):
   502                dist = pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   503    
   504            assert dist.metadata.license == "--- LICENSE stub ---"
   505            assert set(dist.metadata.license_files) == {"LICENSE.txt"}  # auto-filled
   506    
   507    
   508    class TestPyModules:
   509        # https://github.com/pypa/setuptools/issues/4316
   510    
   511        def dist(self, name):
   512            toml_config = f"""
   513            [project]
   514            name = "test"
   515            version = "42.0"
   516            [tool.setuptools]
   517            py-modules = [{name!r}]
   518            """
   519            pyproject = Path("pyproject.toml")
   520            pyproject.write_text(cleandoc(toml_config), encoding="utf-8")
   521            return pyprojecttoml.apply_configuration(Distribution({}), pyproject)
   522    
   523        @pytest.mark.parametrize("module", ["pip-run", "abc-d.λ-xyz-e"])
   524        def test_valid_module_name(self, tmp_path, monkeypatch, module):
   525            monkeypatch.chdir(tmp_path)
   526            assert module in self.dist(module).py_modules
   527    
   528        @pytest.mark.parametrize("module", ["pip run", "-pip-run", "pip-run-stubs"])
   529        def test_invalid_module_name(self, tmp_path, monkeypatch, module):
   530            monkeypatch.chdir(tmp_path)
   531            with pytest.raises(ValueError, match="py-modules"):
   532                self.dist(module).py_modules
   533    
   534    
   535    class TestExtModules:
   536        def test_pyproject_sets_attribute(self, tmp_path, monkeypatch):
   537            monkeypatch.chdir(tmp_path)
   538            pyproject = Path("pyproject.toml")
   539            toml_config = """
   540            [project]
   541            name = "test"
   542            version = "42.0"
   543            [tool.setuptools]
   544            ext-modules = [
   545              {name = "my.ext", sources = ["hello.c", "world.c"]}
   546            ]
   547            """
   548            pyproject.write_text(cleandoc(toml_config), encoding="utf-8")
   549            with pytest.warns(pyprojecttoml._ExperimentalConfiguration):
   550                dist = pyprojecttoml.apply_configuration(Distribution({}), pyproject)
   551            assert len(dist.ext_modules) == 1
   552            assert dist.ext_modules[0].name == "my.ext"
   553            assert set(dist.ext_modules[0].sources) == {"hello.c", "world.c"}
   554    
   555    
   556    class TestDeprecatedFields:
   557        def test_namespace_packages(self, tmp_path):
   558            pyproject = tmp_path / "pyproject.toml"
   559            config = """
   560            [project]
   561            name = "myproj"
   562            version = "42"
   563            [tool.setuptools]
   564            namespace-packages = ["myproj.pkg"]
   565            """
   566            pyproject.write_text(cleandoc(config), encoding="utf-8")
   567            with pytest.raises(RemovedConfigError, match="namespace-packages"):
   568                pyprojecttoml.apply_configuration(makedist(tmp_path), pyproject)
   569    
   570    
   571    class TestPresetField:
   572        def pyproject(self, tmp_path, dynamic, extra_content=""):
   573            content = f"[project]\nname = 'proj'\ndynamic = {dynamic!r}\n"
   574            if "version" not in dynamic:
   575                content += "version = '42'\n"
   576            file = tmp_path / "pyproject.toml"
   577            file.write_text(content + extra_content, encoding="utf-8")
   578            return file
   579    
   580        @pytest.mark.parametrize(
   581            ("attr", "field", "value"),
   582            [
   583                ("license_expression", "license", "MIT"),
   584                pytest.param(
   585                    *("license", "license", "Not SPDX"),
   586                    marks=[pytest.mark.filterwarnings("ignore:.*license. overwritten")],
   587                ),
   588                ("classifiers", "classifiers", ["Private :: Classifier"]),
   589                ("entry_points", "scripts", {"console_scripts": ["foobar=foobar:main"]}),
   590                ("entry_points", "gui-scripts", {"gui_scripts": ["bazquux=bazquux:main"]}),
   591                pytest.param(
   592                    *("install_requires", "dependencies", ["six"]),
   593                    marks=[
   594                        pytest.mark.filterwarnings("ignore:.*install_requires. overwritten")
   595                    ],
   596                ),
   597            ],
   598        )
   599        def test_not_listed_in_dynamic(self, tmp_path, attr, field, value):
   600            """Setuptools cannot set a field if not listed in ``dynamic``"""
   601            pyproject = self.pyproject(tmp_path, [])
   602            dist = makedist(tmp_path, **{attr: value})
   603            msg = re.compile(f"defined outside of `pyproject.toml`:.*{field}", re.S)
   604            with pytest.warns(_MissingDynamic, match=msg):
   605                dist = pyprojecttoml.apply_configuration(dist, pyproject)
   606    
   607            dist_value = _some_attrgetter(f"metadata.{attr}", attr)(dist)
   608            assert not dist_value
   609    
   610        @pytest.mark.parametrize(
   611            ("attr", "field", "value"),
   612            [
   613                ("license_expression", "license", "MIT"),
   614                ("install_requires", "dependencies", []),
   615                ("extras_require", "optional-dependencies", {}),
   616                ("install_requires", "dependencies", ["six"]),
   617                ("classifiers", "classifiers", ["Private :: Classifier"]),
   618            ],
   619        )
   620        def test_listed_in_dynamic(self, tmp_path, attr, field, value):
   621            pyproject = self.pyproject(tmp_path, [field])
   622            dist = makedist(tmp_path, **{attr: value})
   623            dist = pyprojecttoml.apply_configuration(dist, pyproject)
   624            dist_value = _some_attrgetter(f"metadata.{attr}", attr)(dist)
   625            assert dist_value == value
   626    
   627        def test_license_files_exempt_from_dynamic(self, monkeypatch, tmp_path):
   628            """
   629            license-file is currently not considered in the context of dynamic.
   630            As per 2025-02-19, https://packaging.python.org/en/latest/specifications/pyproject-toml/#license-files
   631            allows setuptools to fill-in `license-files` the way it sees fit:
   632    
   633            > If the license-files key is not defined, tools can decide how to handle license files.
   634            > For example they can choose not to include any files or use their own
   635            > logic to discover the appropriate files in the distribution.
   636    
   637            Using license_files from setup.py to fill-in the value is in accordance
   638            with this rule.
   639            """
   640            monkeypatch.chdir(tmp_path)
   641            pyproject = self.pyproject(tmp_path, [])
   642            dist = makedist(tmp_path, license_files=["LIC*"])
   643            (tmp_path / "LIC1").write_text("42", encoding="utf-8")
   644            dist = pyprojecttoml.apply_configuration(dist, pyproject)
   645            assert dist.metadata.license_files == ["LIC1"]
   646    
   647        def test_warning_overwritten_dependencies(self, tmp_path):
   648            src = "[project]\nname='pkg'\nversion='0.1'\ndependencies=['click']\n"
   649            pyproject = tmp_path / "pyproject.toml"
   650            pyproject.write_text(src, encoding="utf-8")
   651            dist = makedist(tmp_path, install_requires=["wheel"])
   652            with pytest.warns(match="`install_requires` overwritten"):
   653                dist = pyprojecttoml.apply_configuration(dist, pyproject)
   654            assert "wheel" not in dist.install_requires
   655    
   656        def test_optional_dependencies_dont_remove_env_markers(self, tmp_path):
   657            """
   658            Internally setuptools converts dependencies with markers to "extras".
   659            If ``install_requires`` is given by ``setup.py``, we have to ensure that
   660            applying ``optional-dependencies`` does not overwrite the mandatory
   661            dependencies with markers (see #3204).
   662            """
   663            # If setuptools replace its internal mechanism that uses `requires.txt`
   664            # this test has to be rewritten to adapt accordingly
   665            extra = "\n[project.optional-dependencies]\nfoo = ['bar>1']\n"
   666            pyproject = self.pyproject(tmp_path, ["dependencies"], extra)
   667            install_req = ['importlib-resources (>=3.0.0) ; python_version < "3.7"']
   668            dist = makedist(tmp_path, install_requires=install_req)
   669            dist = pyprojecttoml.apply_configuration(dist, pyproject)
   670            assert "foo" in dist.extras_require
   671            egg_info = dist.get_command_obj("egg_info")
   672            write_requirements(egg_info, tmp_path, tmp_path / "requires.txt")
   673            reqs = (tmp_path / "requires.txt").read_text(encoding="utf-8")
   674            assert "importlib-resources" in reqs
   675            assert "bar" in reqs
   676            assert ':python_version < "3.7"' in reqs
   677    
   678        @pytest.mark.parametrize(
   679            ("field", "group"),
   680            [("scripts", "console_scripts"), ("gui-scripts", "gui_scripts")],
   681        )
   682        @pytest.mark.filterwarnings("error")
   683        def test_scripts_dont_require_dynamic_entry_points(self, tmp_path, field, group):
   684            # Issue 3862
   685            pyproject = self.pyproject(tmp_path, [field])
   686            dist = makedist(tmp_path, entry_points={group: ["foobar=foobar:main"]})
   687            dist = pyprojecttoml.apply_configuration(dist, pyproject)
   688            assert group in dist.entry_points
   689    
   690    
   691    class TestMeta:
   692        def test_example_file_in_sdist(self, setuptools_sdist):
   693            """Meta test to ensure tests can run from sdist"""
   694            with tarfile.open(setuptools_sdist) as tar:
   695                assert any(name.endswith(EXAMPLES_FILE) for name in tar.getnames())
   696    
   697    
   698    class TestInteropCommandLineParsing:
   699        def test_version(self, tmp_path, monkeypatch, capsys):
   700            # See pypa/setuptools#4047
   701            # This test can be removed once the CLI interface of setup.py is removed
   702            monkeypatch.chdir(tmp_path)
   703            toml_config = """
   704            [project]
   705            name = "test"
   706            version = "42.0"
   707            """
   708            pyproject = Path(tmp_path, "pyproject.toml")
   709            pyproject.write_text(cleandoc(toml_config), encoding="utf-8")
   710            opts = {"script_args": ["--version"]}
   711            dist = pyprojecttoml.apply_configuration(Distribution(opts), pyproject)
   712            dist.parse_command_line()  # <-- there should be no exception here.
   713            captured = capsys.readouterr()
   714            assert "42.0" in captured.out
   715    
   716    
   717    class TestStaticConfig:
   718        def test_mark_static_fields(self, tmp_path, monkeypatch):
   719            monkeypatch.chdir(tmp_path)
   720            toml_config = """
   721            [project]
   722            name = "test"
   723            version = "42.0"
   724            dependencies = ["hello"]
   725            keywords = ["world"]
   726            classifiers = ["private :: hello world"]
   727            [tool.setuptools]
   728            obsoletes = ["abcd"]
   729            provides = ["abcd"]
   730            platforms = ["abcd"]
   731            """
   732            pyproject = Path(tmp_path, "pyproject.toml")
   733            pyproject.write_text(cleandoc(toml_config), encoding="utf-8")
   734            dist = pyprojecttoml.apply_configuration(Distribution({}), pyproject)
   735            assert is_static(dist.install_requires)
   736            assert is_static(dist.metadata.keywords)
   737            assert is_static(dist.metadata.classifiers)
   738            assert is_static(dist.metadata.obsoletes)
   739            assert is_static(dist.metadata.provides)
   740            assert is_static(dist.metadata.platforms)
   741    
   742    
   743    # --- Auxiliary Functions ---
   744    
   745    
   746    def core_metadata(dist) -> str:
   747        with io.StringIO() as buffer:
   748            dist.metadata.write_pkg_file(buffer)
   749            pkg_file_txt = buffer.getvalue()
   750    
   751        # Make sure core metadata is valid
   752        Metadata.from_email(pkg_file_txt, validate=True)  # can raise exceptions
   753    
   754        skip_prefixes: tuple[str, ...] = ()
   755        skip_lines = set()
   756        # ---- DIFF NORMALISATION ----
   757        # PEP 621 is very particular about author/maintainer metadata conversion, so skip
   758        skip_prefixes += ("Author:", "Author-email:", "Maintainer:", "Maintainer-email:")
   759        # May be redundant with Home-page
   760        skip_prefixes += ("Project-URL: Homepage,", "Home-page:")
   761        # May be missing in original (relying on default) but backfilled in the TOML
   762        skip_prefixes += ("Description-Content-Type:",)
   763        # Remove empty lines
   764        skip_lines.add("")
   765    
   766        result = []
   767        for line in pkg_file_txt.splitlines():
   768            if line.startswith(skip_prefixes) or line in skip_lines:
   769                continue
   770            result.append(line + "\n")
   771    
   772        return "".join(result)
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/tests/config/test_setupcfg.py
```test_setupcfg.py
     1    import configparser
     2    import contextlib
     3    import inspect
     4    import re
     5    from pathlib import Path
     6    from unittest.mock import Mock, patch
     7    
     8    import pytest
     9    from packaging.requirements import InvalidRequirement
    10    
    11    from setuptools.config.setupcfg import ConfigHandler, Target, read_configuration
    12    from setuptools.dist import Distribution, _Distribution
    13    from setuptools.warnings import SetuptoolsDeprecationWarning
    14    
    15    from ..textwrap import DALS
    16    
    17    from distutils.errors import DistutilsFileError, DistutilsOptionError
    18    
    19    
    20    class ErrConfigHandler(ConfigHandler[Target]):
    21        """Erroneous handler. Fails to implement required methods."""
    22    
    23        section_prefix = "**err**"
    24    
    25    
    26    def make_package_dir(name, base_dir, ns=False):
    27        dir_package = base_dir
    28        for dir_name in name.split('/'):
    29            dir_package = dir_package.mkdir(dir_name)
    30        init_file = None
    31        if not ns:
    32            init_file = dir_package.join('__init__.py')
    33            init_file.write('')
    34        return dir_package, init_file
    35    
    36    
    37    def fake_env(
    38        tmpdir, setup_cfg, setup_py=None, encoding='ascii', package_path='fake_package'
    39    ):
    40        if setup_py is None:
    41            setup_py = 'from setuptools import setup\nsetup()\n'
    42    
    43        tmpdir.join('setup.py').write(setup_py)
    44        config = tmpdir.join('setup.cfg')
    45        config.write(setup_cfg.encode(encoding), mode='wb')
    46    
    47        package_dir, init_file = make_package_dir(package_path, tmpdir)
    48    
    49        init_file.write(
    50            'VERSION = (1, 2, 3)\n'
    51            '\n'
    52            'VERSION_MAJOR = 1'
    53            '\n'
    54            'def get_version():\n'
    55            '    return [3, 4, 5, "dev"]\n'
    56            '\n'
    57        )
    58    
    59        return package_dir, config
    60    
    61    
    62    @contextlib.contextmanager
    63    def get_dist(tmpdir, kwargs_initial=None, parse=True):
    64        kwargs_initial = kwargs_initial or {}
    65    
    66        with tmpdir.as_cwd():
    67            dist = Distribution(kwargs_initial)
    68            dist.script_name = 'setup.py'
    69            parse and dist.parse_config_files()
    70    
    71            yield dist
    72    
    73    
    74    def test_parsers_implemented():
    75        with pytest.raises(NotImplementedError):
    76            handler = ErrConfigHandler(None, {}, False, Mock())
    77            handler.parsers
    78    
    79    
    80    class TestConfigurationReader:
    81        def test_basic(self, tmpdir):
    82            _, config = fake_env(
    83                tmpdir,
    84                '[metadata]\n'
    85                'version = 10.1.1\n'
    86                'keywords = one, two\n'
    87                '\n'
    88                '[options]\n'
    89                'scripts = bin/a.py, bin/b.py\n',
    90            )
    91            config_dict = read_configuration(str(config))
    92            assert config_dict['metadata']['version'] == '10.1.1'
    93            assert config_dict['metadata']['keywords'] == ['one', 'two']
    94            assert config_dict['options']['scripts'] == ['bin/a.py', 'bin/b.py']
    95    
    96        def test_no_config(self, tmpdir):
    97            with pytest.raises(DistutilsFileError):
    98                read_configuration(str(tmpdir.join('setup.cfg')))
    99    
   100        def test_ignore_errors(self, tmpdir):
   101            _, config = fake_env(
   102                tmpdir,
   103                '[metadata]\nversion = attr: none.VERSION\nkeywords = one, two\n',
   104            )
   105            with pytest.raises(ImportError):
   106                read_configuration(str(config))
   107    
   108            config_dict = read_configuration(str(config), ignore_option_errors=True)
   109    
   110            assert config_dict['metadata']['keywords'] == ['one', 'two']
   111            assert 'version' not in config_dict['metadata']
   112    
   113            config.remove()
   114    
   115    
   116    class TestMetadata:
   117        def test_basic(self, tmpdir):
   118            fake_env(
   119                tmpdir,
   120                '[metadata]\n'
   121                'version = 10.1.1\n'
   122                'description = Some description\n'
   123                'long_description_content_type = text/something\n'
   124                'long_description = file: README\n'
   125                'name = fake_name\n'
   126                'keywords = one, two\n'
   127                'provides = package, package.sub\n'
   128                'license = otherlic\n'
   129                'download_url = http://test.test.com/test/\n'
   130                'maintainer_email = test@test.com\n',
   131            )
   132    
   133            tmpdir.join('README').write('readme contents\nline2')
   134    
   135            meta_initial = {
   136                # This will be used so `otherlic` won't replace it.
   137                'license': 'BSD 3-Clause License',
   138            }
   139    
   140            with get_dist(tmpdir, meta_initial) as dist:
   141                metadata = dist.metadata
   142    
   143                assert metadata.version == '10.1.1'
   144                assert metadata.description == 'Some description'
   145                assert metadata.long_description_content_type == 'text/something'
   146                assert metadata.long_description == 'readme contents\nline2'
   147                assert metadata.provides == ['package', 'package.sub']
   148                assert metadata.license == 'BSD 3-Clause License'
   149                assert metadata.name == 'fake_name'
   150                assert metadata.keywords == ['one', 'two']
   151                assert metadata.download_url == 'http://test.test.com/test/'
   152                assert metadata.maintainer_email == 'test@test.com'
   153    
   154        def test_license_cfg(self, tmpdir):
   155            fake_env(
   156                tmpdir,
   157                DALS(
   158                    """
   159                [metadata]
   160                name=foo
   161                version=0.0.1
   162                license=Apache 2.0
   163                """
   164                ),
   165            )
   166    
   167            with get_dist(tmpdir) as dist:
   168                metadata = dist.metadata
   169    
   170                assert metadata.name == "foo"
   171                assert metadata.version == "0.0.1"
   172                assert metadata.license == "Apache 2.0"
   173    
   174        def test_file_mixed(self, tmpdir):
   175            fake_env(
   176                tmpdir,
   177                '[metadata]\nlong_description = file: README.rst, CHANGES.rst\n\n',
   178            )
   179    
   180            tmpdir.join('README.rst').write('readme contents\nline2')
   181            tmpdir.join('CHANGES.rst').write('changelog contents\nand stuff')
   182    
   183            with get_dist(tmpdir) as dist:
   184                assert dist.metadata.long_description == (
   185                    'readme contents\nline2\nchangelog contents\nand stuff'
   186                )
   187    
   188        def test_file_sandboxed(self, tmpdir):
   189            tmpdir.ensure("README")
   190            project = tmpdir.join('depth1', 'depth2')
   191            project.ensure(dir=True)
   192            fake_env(project, '[metadata]\nlong_description = file: ../../README\n')
   193    
   194            with get_dist(project, parse=False) as dist:
   195                with pytest.raises(DistutilsOptionError):
   196                    dist.parse_config_files()  # file: out of sandbox
   197    
   198        def test_aliases(self, tmpdir):
   199            fake_env(
   200                tmpdir,
   201                '[metadata]\n'
   202                'author_email = test@test.com\n'
   203                'home_page = http://test.test.com/test/\n'
   204                'summary = Short summary\n'
   205                'platform = a, b\n'
   206                'classifier =\n'
   207                '  Framework :: Django\n'
   208                '  Programming Language :: Python :: 3.5\n',
   209            )
   210    
   211            with get_dist(tmpdir) as dist:
   212                metadata = dist.metadata
   213                assert metadata.author_email == 'test@test.com'
   214                assert metadata.url == 'http://test.test.com/test/'
   215                assert metadata.description == 'Short summary'
   216                assert metadata.platforms == ['a', 'b']
   217                assert metadata.classifiers == [
   218                    'Framework :: Django',
   219                    'Programming Language :: Python :: 3.5',
   220                ]
   221    
   222        def test_multiline(self, tmpdir):
   223            fake_env(
   224                tmpdir,
   225                '[metadata]\n'
   226                'name = fake_name\n'
   227                'keywords =\n'
   228                '  one\n'
   229                '  two\n'
   230                'classifiers =\n'
   231                '  Framework :: Django\n'
   232                '  Programming Language :: Python :: 3.5\n',
   233            )
   234            with get_dist(tmpdir) as dist:
   235                metadata = dist.metadata
   236                assert metadata.keywords == ['one', 'two']
   237                assert metadata.classifiers == [
   238                    'Framework :: Django',
   239                    'Programming Language :: Python :: 3.5',
   240                ]
   241    
   242        def test_dict(self, tmpdir):
   243            fake_env(
   244                tmpdir,
   245                '[metadata]\n'
   246                'project_urls =\n'
   247                '  Link One = https://example.com/one/\n'
   248                '  Link Two = https://example.com/two/\n',
   249            )
   250            with get_dist(tmpdir) as dist:
   251                metadata = dist.metadata
   252                assert metadata.project_urls == {
   253                    'Link One': 'https://example.com/one/',
   254                    'Link Two': 'https://example.com/two/',
   255                }
   256    
   257        def test_version(self, tmpdir):
   258            package_dir, config = fake_env(
   259                tmpdir, '[metadata]\nversion = attr: fake_package.VERSION\n'
   260            )
   261    
   262            sub_a = package_dir.mkdir('subpkg_a')
   263            sub_a.join('__init__.py').write('')
   264            sub_a.join('mod.py').write('VERSION = (2016, 11, 26)')
   265    
   266            sub_b = package_dir.mkdir('subpkg_b')
   267            sub_b.join('__init__.py').write('')
   268            sub_b.join('mod.py').write(
   269                'import third_party_module\nVERSION = (2016, 11, 26)'
   270            )
   271    
   272            with get_dist(tmpdir) as dist:
   273                assert dist.metadata.version == '1.2.3'
   274    
   275            config.write('[metadata]\nversion = attr: fake_package.get_version\n')
   276            with get_dist(tmpdir) as dist:
   277                assert dist.metadata.version == '3.4.5.dev'
   278    
   279            config.write('[metadata]\nversion = attr: fake_package.VERSION_MAJOR\n')
   280            with get_dist(tmpdir) as dist:
   281                assert dist.metadata.version == '1'
   282    
   283            config.write('[metadata]\nversion = attr: fake_package.subpkg_a.mod.VERSION\n')
   284            with get_dist(tmpdir) as dist:
   285                assert dist.metadata.version == '2016.11.26'
   286    
   287            config.write('[metadata]\nversion = attr: fake_package.subpkg_b.mod.VERSION\n')
   288            with get_dist(tmpdir) as dist:
   289                assert dist.metadata.version == '2016.11.26'
   290    
   291        def test_version_file(self, tmpdir):
   292            fake_env(tmpdir, '[metadata]\nversion = file: fake_package/version.txt\n')
   293            tmpdir.join('fake_package', 'version.txt').write('1.2.3\n')
   294    
   295            with get_dist(tmpdir) as dist:
   296                assert dist.metadata.version == '1.2.3'
   297    
   298            tmpdir.join('fake_package', 'version.txt').write('1.2.3\n4.5.6\n')
   299            with pytest.raises(DistutilsOptionError):
   300                with get_dist(tmpdir) as dist:
   301                    dist.metadata.version
   302    
   303        def test_version_with_package_dir_simple(self, tmpdir):
   304            fake_env(
   305                tmpdir,
   306                '[metadata]\n'
   307                'version = attr: fake_package_simple.VERSION\n'
   308                '[options]\n'
   309                'package_dir =\n'
   310                '    = src\n',
   311                package_path='src/fake_package_simple',
   312            )
   313    
   314            with get_dist(tmpdir) as dist:
   315                assert dist.metadata.version == '1.2.3'
   316    
   317        def test_version_with_package_dir_rename(self, tmpdir):
   318            fake_env(
   319                tmpdir,
   320                '[metadata]\n'
   321                'version = attr: fake_package_rename.VERSION\n'
   322                '[options]\n'
   323                'package_dir =\n'
   324                '    fake_package_rename = fake_dir\n',
   325                package_path='fake_dir',
   326            )
   327    
   328            with get_dist(tmpdir) as dist:
   329                assert dist.metadata.version == '1.2.3'
   330    
   331        def test_version_with_package_dir_complex(self, tmpdir):
   332            fake_env(
   333                tmpdir,
   334                '[metadata]\n'
   335                'version = attr: fake_package_complex.VERSION\n'
   336                '[options]\n'
   337                'package_dir =\n'
   338                '    fake_package_complex = src/fake_dir\n',
   339                package_path='src/fake_dir',
   340            )
   341    
   342            with get_dist(tmpdir) as dist:
   343                assert dist.metadata.version == '1.2.3'
   344    
   345        def test_unknown_meta_item(self, tmpdir):
   346            fake_env(tmpdir, '[metadata]\nname = fake_name\nunknown = some\n')
   347            with get_dist(tmpdir, parse=False) as dist:
   348                dist.parse_config_files()  # Skip unknown.
   349    
   350        def test_usupported_section(self, tmpdir):
   351            fake_env(tmpdir, '[metadata.some]\nkey = val\n')
   352            with get_dist(tmpdir, parse=False) as dist:
   353                with pytest.raises(DistutilsOptionError):
   354                    dist.parse_config_files()
   355    
   356        def test_classifiers(self, tmpdir):
   357            expected = set([
   358                'Framework :: Django',
   359                'Programming Language :: Python :: 3',
   360                'Programming Language :: Python :: 3.5',
   361            ])
   362    
   363            # From file.
   364            _, config = fake_env(tmpdir, '[metadata]\nclassifiers = file: classifiers\n')
   365    
   366            tmpdir.join('classifiers').write(
   367                'Framework :: Django\n'
   368                'Programming Language :: Python :: 3\n'
   369                'Programming Language :: Python :: 3.5\n'
   370            )
   371    
   372            with get_dist(tmpdir) as dist:
   373                assert set(dist.metadata.classifiers) == expected
   374    
   375            # From list notation
   376            config.write(
   377                '[metadata]\n'
   378                'classifiers =\n'
   379                '    Framework :: Django\n'
   380                '    Programming Language :: Python :: 3\n'
   381                '    Programming Language :: Python :: 3.5\n'
   382            )
   383            with get_dist(tmpdir) as dist:
   384                assert set(dist.metadata.classifiers) == expected
   385    
   386        def test_interpolation(self, tmpdir):
   387            fake_env(tmpdir, '[metadata]\ndescription = %(message)s\n')
   388            with pytest.raises(configparser.InterpolationMissingOptionError):
   389                with get_dist(tmpdir):
   390                    pass
   391    
   392        def test_non_ascii_1(self, tmpdir):
   393            fake_env(tmpdir, '[metadata]\ndescription = éàïôñ\n', encoding='utf-8')
   394            with get_dist(tmpdir):
   395                pass
   396    
   397        def test_non_ascii_3(self, tmpdir):
   398            fake_env(tmpdir, '\n# -*- coding: invalid\n')
   399            with get_dist(tmpdir):
   400                pass
   401    
   402        def test_non_ascii_4(self, tmpdir):
   403            fake_env(
   404                tmpdir,
   405                '# -*- coding: utf-8\n[metadata]\ndescription = éàïôñ\n',
   406                encoding='utf-8',
   407            )
   408            with get_dist(tmpdir) as dist:
   409                assert dist.metadata.description == 'éàïôñ'
   410    
   411        def test_not_utf8(self, tmpdir):
   412            """
   413            Config files encoded not in UTF-8 will fail
   414            """
   415            fake_env(
   416                tmpdir,
   417                '# vim: set fileencoding=iso-8859-15 :\n[metadata]\ndescription = éàïôñ\n',
   418                encoding='iso-8859-15',
   419            )
   420            with pytest.raises(UnicodeDecodeError):
   421                with get_dist(tmpdir):
   422                    pass
   423    
   424        @pytest.mark.parametrize(
   425            ("error_msg", "config", "invalid"),
   426            [
   427                (
   428                    "Invalid dash-separated key 'author-email' in 'metadata' (setup.cfg)",
   429                    DALS(
   430                        """
   431                        [metadata]
   432                        author-email = test@test.com
   433                        maintainer_email = foo@foo.com
   434                        """
   435                    ),
   436                    {"author-email": "test@test.com"},
   437                ),
   438                (
   439                    "Invalid uppercase key 'Name' in 'metadata' (setup.cfg)",
   440                    DALS(
   441                        """
   442                        [metadata]
   443                        Name = foo
   444                        description = Some description
   445                        """
   446                    ),
   447                    {"Name": "foo"},
   448                ),
   449            ],
   450        )
   451        def test_invalid_options_previously_deprecated(
   452            self, tmpdir, error_msg, config, invalid
   453        ):
   454            # This test and related methods can be removed when no longer needed.
   455            # Deprecation postponed due to push-back from the community in
   456            # https://github.com/pypa/setuptools/issues/4910
   457            fake_env(tmpdir, config)
   458            with pytest.warns(SetuptoolsDeprecationWarning, match=re.escape(error_msg)):
   459                dist = get_dist(tmpdir).__enter__()
   460    
   461            tmpdir.join('setup.cfg').remove()
   462    
   463            for field, value in invalid.items():
   464                attr = field.replace("-", "_").lower()
   465                assert getattr(dist.metadata, attr) == value
   466    
   467    
   468    class TestOptions:
   469        def test_basic(self, tmpdir):
   470            fake_env(
   471                tmpdir,
   472                '[options]\n'
   473                'zip_safe = True\n'
   474                'include_package_data = yes\n'
   475                'package_dir = b=c, =src\n'
   476                'packages = pack_a, pack_b.subpack\n'
   477                'namespace_packages = pack1, pack2\n'
   478                'scripts = bin/one.py, bin/two.py\n'
   479                'eager_resources = bin/one.py, bin/two.py\n'
   480                'install_requires = docutils>=0.3; pack ==1.1, ==1.3; hey\n'
   481                'setup_requires = docutils>=0.3; spack ==1.1, ==1.3; there\n'
   482                'dependency_links = http://some.com/here/1, '
   483                'http://some.com/there/2\n'
   484                'python_requires = >=1.0, !=2.8\n'
   485                'py_modules = module1, module2\n',
   486            )
   487            deprec = pytest.warns(SetuptoolsDeprecationWarning, match="namespace_packages")
   488            with deprec, get_dist(tmpdir) as dist:
   489                assert dist.zip_safe
   490                assert dist.include_package_data
   491                assert dist.package_dir == {'': 'src', 'b': 'c'}
   492                assert dist.packages == ['pack_a', 'pack_b.subpack']
   493                assert dist.namespace_packages == ['pack1', 'pack2']
   494                assert dist.scripts == ['bin/one.py', 'bin/two.py']
   495                assert dist.dependency_links == ([
   496                    'http://some.com/here/1',
   497                    'http://some.com/there/2',
   498                ])
   499                assert dist.install_requires == ([
   500                    'docutils>=0.3',
   501                    'pack==1.1,==1.3',
   502                    'hey',
   503                ])
   504                assert dist.setup_requires == ([
   505                    'docutils>=0.3',
   506                    'spack ==1.1, ==1.3',
   507                    'there',
   508                ])
   509                assert dist.python_requires == '>=1.0, !=2.8'
   510                assert dist.py_modules == ['module1', 'module2']
   511    
   512        def test_multiline(self, tmpdir):
   513            fake_env(
   514                tmpdir,
   515                '[options]\n'
   516                'package_dir = \n'
   517                '  b=c\n'
   518                '  =src\n'
   519                'packages = \n'
   520                '  pack_a\n'
   521                '  pack_b.subpack\n'
   522                'namespace_packages = \n'
   523                '  pack1\n'
   524                '  pack2\n'
   525                'scripts = \n'
   526                '  bin/one.py\n'
   527                '  bin/two.py\n'
   528                'eager_resources = \n'
   529                '  bin/one.py\n'
   530                '  bin/two.py\n'
   531                'install_requires = \n'
   532                '  docutils>=0.3\n'
   533                '  pack ==1.1, ==1.3\n'
   534                '  hey\n'
   535                'setup_requires = \n'
   536                '  docutils>=0.3\n'
   537                '  spack ==1.1, ==1.3\n'
   538                '  there\n'
   539                'dependency_links = \n'
   540                '  http://some.com/here/1\n'
   541                '  http://some.com/there/2\n',
   542            )
   543            deprec = pytest.warns(SetuptoolsDeprecationWarning, match="namespace_packages")
   544            with deprec, get_dist(tmpdir) as dist:
   545                assert dist.package_dir == {'': 'src', 'b': 'c'}
   546                assert dist.packages == ['pack_a', 'pack_b.subpack']
   547                assert dist.namespace_packages == ['pack1', 'pack2']
   548                assert dist.scripts == ['bin/one.py', 'bin/two.py']
   549                assert dist.dependency_links == ([
   550                    'http://some.com/here/1',
   551                    'http://some.com/there/2',
   552                ])
   553                assert dist.install_requires == ([
   554                    'docutils>=0.3',
   555                    'pack==1.1,==1.3',
   556                    'hey',
   557                ])
   558                assert dist.setup_requires == ([
   559                    'docutils>=0.3',
   560                    'spack ==1.1, ==1.3',
   561                    'there',
   562                ])
   563    
   564        def test_package_dir_fail(self, tmpdir):
   565            fake_env(tmpdir, '[options]\npackage_dir = a b\n')
   566            with get_dist(tmpdir, parse=False) as dist:
   567                with pytest.raises(DistutilsOptionError):
   568                    dist.parse_config_files()
   569    
   570        def test_package_data(self, tmpdir):
   571            fake_env(
   572                tmpdir,
   573                '[options.package_data]\n'
   574                '* = *.txt, *.rst\n'
   575                'hello = *.msg\n'
   576                '\n'
   577                '[options.exclude_package_data]\n'
   578                '* = fake1.txt, fake2.txt\n'
   579                'hello = *.dat\n',
   580            )
   581    
   582            with get_dist(tmpdir) as dist:
   583                assert dist.package_data == {
   584                    '': ['*.txt', '*.rst'],
   585                    'hello': ['*.msg'],
   586                }
   587                assert dist.exclude_package_data == {
   588                    '': ['fake1.txt', 'fake2.txt'],
   589                    'hello': ['*.dat'],
   590                }
   591    
   592        def test_packages(self, tmpdir):
   593            fake_env(tmpdir, '[options]\npackages = find:\n')
   594    
   595            with get_dist(tmpdir) as dist:
   596                assert dist.packages == ['fake_package']
   597    
   598        def test_find_directive(self, tmpdir):
   599            dir_package, config = fake_env(tmpdir, '[options]\npackages = find:\n')
   600    
   601            make_package_dir('sub_one', dir_package)
   602            make_package_dir('sub_two', dir_package)
   603    
   604            with get_dist(tmpdir) as dist:
   605                assert set(dist.packages) == set([
   606                    'fake_package',
   607                    'fake_package.sub_two',
   608                    'fake_package.sub_one',
   609                ])
   610    
   611            config.write(
   612                '[options]\n'
   613                'packages = find:\n'
   614                '\n'
   615                '[options.packages.find]\n'
   616                'where = .\n'
   617                'include =\n'
   618                '    fake_package.sub_one\n'
   619                '    two\n'
   620            )
   621            with get_dist(tmpdir) as dist:
   622                assert dist.packages == ['fake_package.sub_one']
   623    
   624            config.write(
   625                '[options]\n'
   626                'packages = find:\n'
   627                '\n'
   628                '[options.packages.find]\n'
   629                'exclude =\n'
   630                '    fake_package.sub_one\n'
   631            )
   632            with get_dist(tmpdir) as dist:
   633                assert set(dist.packages) == set(['fake_package', 'fake_package.sub_two'])
   634    
   635        def test_find_namespace_directive(self, tmpdir):
   636            dir_package, config = fake_env(
   637                tmpdir, '[options]\npackages = find_namespace:\n'
   638            )
   639    
   640            make_package_dir('sub_one', dir_package)
   641            make_package_dir('sub_two', dir_package, ns=True)
   642    
   643            with get_dist(tmpdir) as dist:
   644                assert set(dist.packages) == {
   645                    'fake_package',
   646                    'fake_package.sub_two',
   647                    'fake_package.sub_one',
   648                }
   649    
   650            config.write(
   651                '[options]\n'
   652                'packages = find_namespace:\n'
   653                '\n'
   654                '[options.packages.find]\n'
   655                'where = .\n'
   656                'include =\n'
   657                '    fake_package.sub_one\n'
   658                '    two\n'
   659            )
   660            with get_dist(tmpdir) as dist:
   661                assert dist.packages == ['fake_package.sub_one']
   662    
   663            config.write(
   664                '[options]\n'
   665                'packages = find_namespace:\n'
   666                '\n'
   667                '[options.packages.find]\n'
   668                'exclude =\n'
   669                '    fake_package.sub_one\n'
   670            )
   671            with get_dist(tmpdir) as dist:
   672                assert set(dist.packages) == {'fake_package', 'fake_package.sub_two'}
   673    
   674        def test_extras_require(self, tmpdir):
   675            fake_env(
   676                tmpdir,
   677                '[options.extras_require]\n'
   678                'pdf = ReportLab>=1.2; RXP\n'
   679                'rest = \n'
   680                '  docutils>=0.3\n'
   681                '  pack ==1.1, ==1.3\n',
   682            )
   683    
   684            with get_dist(tmpdir) as dist:
   685                assert dist.extras_require == {
   686                    'pdf': ['ReportLab>=1.2', 'RXP'],
   687                    'rest': ['docutils>=0.3', 'pack==1.1,==1.3'],
   688                }
   689                assert set(dist.metadata.provides_extras) == {'pdf', 'rest'}
   690    
   691        @pytest.mark.parametrize(
   692            "config",
   693            [
   694                "[options.extras_require]\nfoo = bar;python_version<'3'",
   695                "[options.extras_require]\nfoo = bar;os_name=='linux'",
   696                "[options.extras_require]\nfoo = bar;python_version<'3'\n",
   697                "[options.extras_require]\nfoo = bar;os_name=='linux'\n",
   698                "[options]\ninstall_requires = bar;python_version<'3'",
   699                "[options]\ninstall_requires = bar;os_name=='linux'",
   700                "[options]\ninstall_requires = bar;python_version<'3'\n",
   701                "[options]\ninstall_requires = bar;os_name=='linux'\n",
   702            ],
   703        )
   704        def test_raises_accidental_env_marker_misconfig(self, config, tmpdir):
   705            fake_env(tmpdir, config)
   706            match = (
   707                r"One of the parsed requirements in `(install_requires|extras_require.+)` "
   708                "looks like a valid environment marker.*"
   709            )
   710            with pytest.raises(InvalidRequirement, match=match):
   711                with get_dist(tmpdir) as _:
   712                    pass
   713    
   714        @pytest.mark.parametrize(
   715            "config",
   716            [
   717                "[options.extras_require]\nfoo = bar;python_version<3",
   718                "[options.extras_require]\nfoo = bar;python_version<3\n",
   719                "[options]\ninstall_requires = bar;python_version<3",
   720                "[options]\ninstall_requires = bar;python_version<3\n",
   721            ],
   722        )
   723        def test_warn_accidental_env_marker_misconfig(self, config, tmpdir):
   724            fake_env(tmpdir, config)
   725            match = (
   726                r"One of the parsed requirements in `(install_requires|extras_require.+)` "
   727                "looks like a valid environment marker.*"
   728            )
   729            with pytest.warns(SetuptoolsDeprecationWarning, match=match):
   730                with get_dist(tmpdir) as _:
   731                    pass
   732    
   733        @pytest.mark.parametrize(
   734            "config",
   735            [
   736                "[options.extras_require]\nfoo =\n    bar;python_version<'3'",
   737                "[options.extras_require]\nfoo = bar;baz\nboo = xxx;yyy",
   738                "[options.extras_require]\nfoo =\n    bar;python_version<'3'\n",
   739                "[options.extras_require]\nfoo = bar;baz\nboo = xxx;yyy\n",
   740                "[options.extras_require]\nfoo =\n    bar\n    python_version<3\n",
   741                "[options]\ninstall_requires =\n    bar;python_version<'3'",
   742                "[options]\ninstall_requires = bar;baz\nboo = xxx;yyy",
   743                "[options]\ninstall_requires =\n    bar;python_version<'3'\n",
   744                "[options]\ninstall_requires = bar;baz\nboo = xxx;yyy\n",
   745                "[options]\ninstall_requires =\n    bar\n    python_version<3\n",
   746            ],
   747        )
   748        @pytest.mark.filterwarnings("error::setuptools.SetuptoolsDeprecationWarning")
   749        def test_nowarn_accidental_env_marker_misconfig(self, config, tmpdir, recwarn):
   750            fake_env(tmpdir, config)
   751            num_warnings = len(recwarn)
   752            with get_dist(tmpdir) as _:
   753                pass
   754            # The examples are valid, no warnings shown
   755            assert len(recwarn) == num_warnings
   756    
   757        def test_dash_preserved_extras_require(self, tmpdir):
   758            fake_env(tmpdir, '[options.extras_require]\nfoo-a = foo\nfoo_b = test\n')
   759    
   760            with get_dist(tmpdir) as dist:
   761                assert dist.extras_require == {'foo-a': ['foo'], 'foo_b': ['test']}
   762    
   763        def test_entry_points(self, tmpdir):
   764            _, config = fake_env(
   765                tmpdir,
   766                '[options.entry_points]\n'
   767                'group1 = point1 = pack.module:func, '
   768                '.point2 = pack.module2:func_rest [rest]\n'
   769                'group2 = point3 = pack.module:func2\n',
   770            )
   771    
   772            with get_dist(tmpdir) as dist:
   773                assert dist.entry_points == {
   774                    'group1': [
   775                        'point1 = pack.module:func',
   776                        '.point2 = pack.module2:func_rest [rest]',
   777                    ],
   778                    'group2': ['point3 = pack.module:func2'],
   779                }
   780    
   781            expected = (
   782                '[blogtool.parsers]\n'
   783                '.rst = some.nested.module:SomeClass.some_classmethod[reST]\n'
   784            )
   785    
   786            tmpdir.join('entry_points').write(expected)
   787    
   788            # From file.
   789            config.write('[options]\nentry_points = file: entry_points\n')
   790    
   791            with get_dist(tmpdir) as dist:
   792                assert dist.entry_points == expected
   793    
   794        def test_case_sensitive_entry_points(self, tmpdir):
   795            fake_env(
   796                tmpdir,
   797                '[options.entry_points]\n'
   798                'GROUP1 = point1 = pack.module:func, '
   799                '.point2 = pack.module2:func_rest [rest]\n'
   800                'group2 = point3 = pack.module:func2\n',
   801            )
   802    
   803            with get_dist(tmpdir) as dist:
   804                assert dist.entry_points == {
   805                    'GROUP1': [
   806                        'point1 = pack.module:func',
   807                        '.point2 = pack.module2:func_rest [rest]',
   808                    ],
   809                    'group2': ['point3 = pack.module:func2'],
   810                }
   811    
   812        def test_data_files(self, tmpdir):
   813            fake_env(
   814                tmpdir,
   815                '[options.data_files]\n'
   816                'cfg =\n'
   817                '      a/b.conf\n'
   818                '      c/d.conf\n'
   819                'data = e/f.dat, g/h.dat\n',
   820            )
   821    
   822            with get_dist(tmpdir) as dist:
   823                expected = [
   824                    ('cfg', ['a/b.conf', 'c/d.conf']),
   825                    ('data', ['e/f.dat', 'g/h.dat']),
   826                ]
   827                assert sorted(dist.data_files) == sorted(expected)
   828    
   829        def test_data_files_globby(self, tmpdir):
   830            fake_env(
   831                tmpdir,
   832                '[options.data_files]\n'
   833                'cfg =\n'
   834                '      a/b.conf\n'
   835                '      c/d.conf\n'
   836                'data = *.dat\n'
   837                'icons = \n'
   838                '      *.ico\n'
   839                'audio = \n'
   840                '      *.wav\n'
   841                '      sounds.db\n',
   842            )
   843    
   844            # Create dummy files for glob()'s sake:
   845            tmpdir.join('a.dat').write('')
   846            tmpdir.join('b.dat').write('')
   847            tmpdir.join('c.dat').write('')
   848            tmpdir.join('a.ico').write('')
   849            tmpdir.join('b.ico').write('')
   850            tmpdir.join('c.ico').write('')
   851            tmpdir.join('beep.wav').write('')
   852            tmpdir.join('boop.wav').write('')
   853            tmpdir.join('sounds.db').write('')
   854    
   855            with get_dist(tmpdir) as dist:
   856                expected = [
   857                    ('cfg', ['a/b.conf', 'c/d.conf']),
   858                    ('data', ['a.dat', 'b.dat', 'c.dat']),
   859                    ('icons', ['a.ico', 'b.ico', 'c.ico']),
   860                    ('audio', ['beep.wav', 'boop.wav', 'sounds.db']),
   861                ]
   862                assert sorted(dist.data_files) == sorted(expected)
   863    
   864        def test_python_requires_simple(self, tmpdir):
   865            fake_env(
   866                tmpdir,
   867                DALS(
   868                    """
   869                [options]
   870                python_requires=>=2.7
   871                """
   872                ),
   873            )
   874            with get_dist(tmpdir) as dist:
   875                dist.parse_config_files()
   876    
   877        def test_python_requires_compound(self, tmpdir):
   878            fake_env(
   879                tmpdir,
   880                DALS(
   881                    """
   882                [options]
   883                python_requires=>=2.7,!=3.0.*
   884                """
   885                ),
   886            )
   887            with get_dist(tmpdir) as dist:
   888                dist.parse_config_files()
   889    
   890        def test_python_requires_invalid(self, tmpdir):
   891            fake_env(
   892                tmpdir,
   893                DALS(
   894                    """
   895                [options]
   896                python_requires=invalid
   897                """
   898                ),
   899            )
   900            with pytest.raises(Exception):
   901                with get_dist(tmpdir) as dist:
   902                    dist.parse_config_files()
   903    
   904        def test_cmdclass(self, tmpdir):
   905            module_path = Path(tmpdir, "src/custom_build.py")  # auto discovery for src
   906            module_path.parent.mkdir(parents=True, exist_ok=True)
   907            module_path.write_text(
   908                "from distutils.core import Command\nclass CustomCmd(Command): pass\n",
   909                encoding="utf-8",
   910            )
   911    
   912            setup_cfg = """
   913                [options]
   914                cmdclass =
   915                    customcmd = custom_build.CustomCmd
   916            """
   917            fake_env(tmpdir, inspect.cleandoc(setup_cfg))
   918    
   919            with get_dist(tmpdir) as dist:
   920                cmdclass = dist.cmdclass['customcmd']
   921                assert cmdclass.__name__ == "CustomCmd"
   922                assert cmdclass.__module__ == "custom_build"
   923                assert module_path.samefile(inspect.getfile(cmdclass))
   924    
   925        def test_requirements_file(self, tmpdir):
   926            fake_env(
   927                tmpdir,
   928                DALS(
   929                    """
   930                [options]
   931                install_requires = file:requirements.txt
   932                [options.extras_require]
   933                colors = file:requirements-extra.txt
   934                """
   935                ),
   936            )
   937    
   938            tmpdir.join('requirements.txt').write('\ndocutils>=0.3\n\n')
   939            tmpdir.join('requirements-extra.txt').write('colorama')
   940    
   941            with get_dist(tmpdir) as dist:
   942                assert dist.install_requires == ['docutils>=0.3']
   943                assert dist.extras_require == {'colors': ['colorama']}
   944    
   945    
   946    saved_dist_init = _Distribution.__init__
   947    
   948    
   949    class TestExternalSetters:
   950        # During creation of the setuptools Distribution() object, we call
   951        # the init of the parent distutils Distribution object via
   952        # _Distribution.__init__ ().
   953        #
   954        # It's possible distutils calls out to various keyword
   955        # implementations (i.e. distutils.setup_keywords entry points)
   956        # that may set a range of variables.
   957        #
   958        # This wraps distutil's Distribution.__init__ and simulates
   959        # pbr or something else setting these values.
   960        def _fake_distribution_init(self, dist, attrs):
   961            saved_dist_init(dist, attrs)
   962            # see self._DISTUTILS_UNSUPPORTED_METADATA
   963            dist.metadata.long_description_content_type = 'text/something'
   964            # Test overwrite setup() args
   965            dist.metadata.project_urls = {
   966                'Link One': 'https://example.com/one/',
   967                'Link Two': 'https://example.com/two/',
   968            }
   969    
   970        @patch.object(_Distribution, '__init__', autospec=True)
   971        def test_external_setters(self, mock_parent_init, tmpdir):
   972            mock_parent_init.side_effect = self._fake_distribution_init
   973    
   974            dist = Distribution(attrs={'project_urls': {'will_be': 'ignored'}})
   975    
   976            assert dist.metadata.long_description_content_type == 'text/something'
   977            assert dist.metadata.project_urls == {
   978                'Link One': 'https://example.com/one/',
   979                'Link Two': 'https://example.com/two/',
   980            }
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/tests/config/setupcfg_examples.txt
```setupcfg_examples.txt
     1    # ====================================================================
     2    # Some popular packages that use setup.cfg (and others not so popular)
     3    # Reference: https://hugovk.github.io/top-pypi-packages/
     4    # ====================================================================
     5    https://github.com/pypa/setuptools/raw/52c990172fec37766b3566679724aa8bf70ae06d/setup.cfg
     6    https://github.com/pypa/wheel/raw/0acd203cd896afec7f715aa2ff5980a403459a3b/setup.cfg
     7    https://github.com/python/importlib_metadata/raw/2f05392ca980952a6960d82b2f2d2ea10aa53239/setup.cfg
     8    https://github.com/jaraco/skeleton/raw/d9008b5c510cd6969127a6a2ab6f832edddef296/setup.cfg
     9    https://github.com/jaraco/zipp/raw/700d3a96390e970b6b962823bfea78b4f7e1c537/setup.cfg
    10    https://github.com/pallets/jinja/raw/7d72eb7fefb7dce065193967f31f805180508448/setup.cfg
    11    https://github.com/tkem/cachetools/raw/2fd87a94b8d3861d80e9e4236cd480bfdd21c90d/setup.cfg
    12    https://github.com/aio-libs/aiohttp/raw/5e0e6b7080f2408d5f1dd544c0e1cf88378b7b10/setup.cfg
    13    https://github.com/pallets/flask/raw/9486b6cf57bd6a8a261f67091aca8ca78eeec1e3/setup.cfg
    14    https://github.com/pallets/click/raw/6411f425fae545f42795665af4162006b36c5e4a/setup.cfg
    15    https://github.com/sqlalchemy/sqlalchemy/raw/533f5718904b620be8d63f2474229945d6f8ba5d/setup.cfg
    16    https://github.com/pytest-dev/pluggy/raw/461ef63291d13589c4e21aa182cd1529257e9a0a/setup.cfg
    17    https://github.com/pytest-dev/pytest/raw/c7be96dae487edbd2f55b561b31b68afac1dabe6/setup.cfg
    18    https://github.com/platformdirs/platformdirs/raw/7b7852128dd6f07511b618d6edea35046bd0c6ff/setup.cfg
    19    https://github.com/pandas-dev/pandas/raw/bc17343f934a33dc231c8c74be95d8365537c376/setup.cfg
    20    https://github.com/django/django/raw/4e249d11a6e56ca8feb4b055b681cec457ef3a3d/setup.cfg
    21    https://github.com/pyscaffold/pyscaffold/raw/de7aa5dc059fbd04307419c667cc4961bc9df4b8/setup.cfg
    22    https://github.com/pypa/virtualenv/raw/f92eda6e3da26a4d28c2663ffb85c4960bdb990c/setup.cfg
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/tests/config/test_expand.py
```test_expand.py
     1    import os
     2    import sys
     3    from pathlib import Path
     4    
     5    import pytest
     6    
     7    from setuptools._static import is_static
     8    from setuptools.config import expand
     9    from setuptools.discovery import find_package_path
    10    
    11    from distutils.errors import DistutilsOptionError
    12    
    13    
    14    def write_files(files, root_dir):
    15        for file, content in files.items():
    16            path = root_dir / file
    17            path.parent.mkdir(exist_ok=True, parents=True)
    18            path.write_text(content, encoding="utf-8")
    19    
    20    
    21    def test_glob_relative(tmp_path, monkeypatch):
    22        files = {
    23            "dir1/dir2/dir3/file1.txt",
    24            "dir1/dir2/file2.txt",
    25            "dir1/file3.txt",
    26            "a.ini",
    27            "b.ini",
    28            "dir1/c.ini",
    29            "dir1/dir2/a.ini",
    30        }
    31    
    32        write_files({k: "" for k in files}, tmp_path)
    33        patterns = ["**/*.txt", "[ab].*", "**/[ac].ini"]
    34        monkeypatch.chdir(tmp_path)
    35        assert set(expand.glob_relative(patterns)) == files
    36        # Make sure the same APIs work outside cwd
    37        assert set(expand.glob_relative(patterns, tmp_path)) == files
    38    
    39    
    40    def test_read_files(tmp_path, monkeypatch):
    41        dir_ = tmp_path / "dir_"
    42        (tmp_path / "_dir").mkdir(exist_ok=True)
    43        (tmp_path / "a.txt").touch()
    44        files = {"a.txt": "a", "dir1/b.txt": "b", "dir1/dir2/c.txt": "c"}
    45        write_files(files, dir_)
    46    
    47        secrets = Path(str(dir_) + "secrets")
    48        secrets.mkdir(exist_ok=True)
    49        write_files({"secrets.txt": "secret keys"}, secrets)
    50    
    51        with monkeypatch.context() as m:
    52            m.chdir(dir_)
    53            assert expand.read_files(list(files)) == "a\nb\nc"
    54    
    55            cannot_access_msg = r"Cannot access '.*\.\..a\.txt'"
    56            with pytest.raises(DistutilsOptionError, match=cannot_access_msg):
    57                expand.read_files(["../a.txt"])
    58    
    59            cannot_access_secrets_msg = r"Cannot access '.*secrets\.txt'"
    60            with pytest.raises(DistutilsOptionError, match=cannot_access_secrets_msg):
    61                expand.read_files(["../dir_secrets/secrets.txt"])
    62    
    63        # Make sure the same APIs work outside cwd
    64        assert expand.read_files(list(files), dir_) == "a\nb\nc"
    65        with pytest.raises(DistutilsOptionError, match=cannot_access_msg):
    66            expand.read_files(["../a.txt"], dir_)
    67    
    68    
    69    class TestReadAttr:
    70        @pytest.mark.parametrize(
    71            "example",
    72            [
    73                # No cookie means UTF-8:
    74                b"__version__ = '\xc3\xa9'\nraise SystemExit(1)\n",
    75                # If a cookie is present, honor it:
    76                b"# -*- coding: utf-8 -*-\n__version__ = '\xc3\xa9'\nraise SystemExit(1)\n",
    77                b"# -*- coding: latin1 -*-\n__version__ = '\xe9'\nraise SystemExit(1)\n",
    78            ],
    79        )
    80        def test_read_attr_encoding_cookie(self, example, tmp_path):
    81            (tmp_path / "mod.py").write_bytes(example)
    82            assert expand.read_attr('mod.__version__', root_dir=tmp_path) == 'é'
    83    
    84        def test_read_attr(self, tmp_path, monkeypatch):
    85            files = {
    86                "pkg/__init__.py": "",
    87                "pkg/sub/__init__.py": "VERSION = '0.1.1'",
    88                "pkg/sub/mod.py": (
    89                    "VALUES = {'a': 0, 'b': {42}, 'c': (0, 1, 1)}\nraise SystemExit(1)"
    90                ),
    91            }
    92            write_files(files, tmp_path)
    93    
    94            with monkeypatch.context() as m:
    95                m.chdir(tmp_path)
    96                # Make sure it can read the attr statically without evaluating the module
    97                version = expand.read_attr('pkg.sub.VERSION')
    98                values = expand.read_attr('lib.mod.VALUES', {'lib': 'pkg/sub'})
    99    
   100            assert version == '0.1.1'
   101            assert is_static(values)
   102    
   103            assert values['a'] == 0
   104            assert values['b'] == {42}
   105            assert is_static(values)
   106    
   107            # Make sure the same APIs work outside cwd
   108            assert expand.read_attr('pkg.sub.VERSION', root_dir=tmp_path) == '0.1.1'
   109            values = expand.read_attr('lib.mod.VALUES', {'lib': 'pkg/sub'}, tmp_path)
   110            assert values['c'] == (0, 1, 1)
   111    
   112        @pytest.mark.parametrize(
   113            "example",
   114            [
   115                "VERSION: str\nVERSION = '0.1.1'\nraise SystemExit(1)\n",
   116                "VERSION: str = '0.1.1'\nraise SystemExit(1)\n",
   117            ],
   118        )
   119        def test_read_annotated_attr(self, tmp_path, example):
   120            files = {
   121                "pkg/__init__.py": "",
   122                "pkg/sub/__init__.py": example,
   123            }
   124            write_files(files, tmp_path)
   125            # Make sure this attribute can be read statically
   126            version = expand.read_attr('pkg.sub.VERSION', root_dir=tmp_path)
   127            assert version == '0.1.1'
   128            assert is_static(version)
   129    
   130        @pytest.mark.parametrize(
   131            "example",
   132            [
   133                "VERSION = (lambda: '0.1.1')()\n",
   134                "def fn(): return '0.1.1'\nVERSION = fn()\n",
   135                "VERSION: str = (lambda: '0.1.1')()\n",
   136            ],
   137        )
   138        def test_read_dynamic_attr(self, tmp_path, monkeypatch, example):
   139            files = {
   140                "pkg/__init__.py": "",
   141                "pkg/sub/__init__.py": example,
   142            }
   143            write_files(files, tmp_path)
   144            monkeypatch.chdir(tmp_path)
   145            version = expand.read_attr('pkg.sub.VERSION')
   146            assert version == '0.1.1'
   147            assert not is_static(version)
   148    
   149        def test_import_order(self, tmp_path):
   150            """
   151            Sometimes the import machinery will import the parent package of a nested
   152            module, which triggers side-effects and might create problems (see issue #3176)
   153    
   154            ``read_attr`` should bypass these limitations by resolving modules statically
   155            (via ast.literal_eval).
   156            """
   157            files = {
   158                "src/pkg/__init__.py": "from .main import func\nfrom .about import version",
   159                "src/pkg/main.py": "import super_complicated_dep\ndef func(): return 42",
   160                "src/pkg/about.py": "version = '42'",
   161            }
   162            write_files(files, tmp_path)
   163            attr_desc = "pkg.about.version"
   164            package_dir = {"": "src"}
   165            # `import super_complicated_dep` should not run, otherwise the build fails
   166            assert expand.read_attr(attr_desc, package_dir, tmp_path) == "42"
   167    
   168    
   169    @pytest.mark.parametrize(
   170        ("package_dir", "file", "module", "return_value"),
   171        [
   172            ({"": "src"}, "src/pkg/main.py", "pkg.main", 42),
   173            ({"pkg": "lib"}, "lib/main.py", "pkg.main", 13),
   174            ({}, "single_module.py", "single_module", 70),
   175            ({}, "flat_layout/pkg.py", "flat_layout.pkg", 836),
   176        ],
   177    )
   178    def test_resolve_class(monkeypatch, tmp_path, package_dir, file, module, return_value):
   179        monkeypatch.setattr(sys, "modules", {})  # reproducibility
   180        files = {file: f"class Custom:\n    def testing(self): return {return_value}"}
   181        write_files(files, tmp_path)
   182        cls = expand.resolve_class(f"{module}.Custom", package_dir, tmp_path)
   183        assert cls().testing() == return_value
   184    
   185    
   186    @pytest.mark.parametrize(
   187        ("args", "pkgs"),
   188        [
   189            ({"where": ["."], "namespaces": False}, {"pkg", "other"}),
   190            ({"where": [".", "dir1"], "namespaces": False}, {"pkg", "other", "dir2"}),
   191            ({"namespaces": True}, {"pkg", "other", "dir1", "dir1.dir2"}),
   192            ({}, {"pkg", "other", "dir1", "dir1.dir2"}),  # default value for `namespaces`
   193        ],
   194    )
   195    def test_find_packages(tmp_path, args, pkgs):
   196        files = {
   197            "pkg/__init__.py",
   198            "other/__init__.py",
   199            "dir1/dir2/__init__.py",
   200        }
   201        write_files({k: "" for k in files}, tmp_path)
   202    
   203        package_dir = {}
   204        kwargs = {"root_dir": tmp_path, "fill_package_dir": package_dir, **args}
   205        where = kwargs.get("where", ["."])
   206        assert set(expand.find_packages(**kwargs)) == pkgs
   207        for pkg in pkgs:
   208            pkg_path = find_package_path(pkg, package_dir, tmp_path)
   209            assert os.path.exists(pkg_path)
   210    
   211        # Make sure the same APIs work outside cwd
   212        where = [
   213            str((tmp_path / p).resolve()).replace(os.sep, "/")  # ensure posix-style paths
   214            for p in args.pop("where", ["."])
   215        ]
   216    
   217        assert set(expand.find_packages(where=where, **args)) == pkgs
   218    
   219    
   220    @pytest.mark.parametrize(
   221        ("files", "where", "expected_package_dir"),
   222        [
   223            (["pkg1/__init__.py", "pkg1/other.py"], ["."], {}),
   224            (["pkg1/__init__.py", "pkg2/__init__.py"], ["."], {}),
   225            (["src/pkg1/__init__.py", "src/pkg1/other.py"], ["src"], {"": "src"}),
   226            (["src/pkg1/__init__.py", "src/pkg2/__init__.py"], ["src"], {"": "src"}),
   227            (
   228                ["src1/pkg1/__init__.py", "src2/pkg2/__init__.py"],
   229                ["src1", "src2"],
   230                {"pkg1": "src1/pkg1", "pkg2": "src2/pkg2"},
   231            ),
   232            (
   233                ["src/pkg1/__init__.py", "pkg2/__init__.py"],
   234                ["src", "."],
   235                {"pkg1": "src/pkg1"},
   236            ),
   237        ],
   238    )
   239    def test_fill_package_dir(tmp_path, files, where, expected_package_dir):
   240        write_files({k: "" for k in files}, tmp_path)
   241        pkg_dir = {}
   242        kwargs = {"root_dir": tmp_path, "fill_package_dir": pkg_dir, "namespaces": False}
   243        pkgs = expand.find_packages(where=where, **kwargs)
   244        assert set(pkg_dir.items()) == set(expected_package_dir.items())
   245        for pkg in pkgs:
   246            pkg_path = find_package_path(pkg, pkg_dir, tmp_path)
   247            assert os.path.exists(pkg_path)
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/distutils.schema.json
```distutils.schema.json
     1    {
     2      "$schema": "http://json-schema.org/draft-07/schema#",
     3    
     4      "$id": "https://setuptools.pypa.io/en/latest/deprecated/distutils/configfile.html",
     5      "title": "``tool.distutils`` table",
     6      "$$description": [
     7        "**EXPERIMENTAL** (NOT OFFICIALLY SUPPORTED): Use ``tool.distutils``",
     8        "subtables to configure arguments for ``distutils`` commands.",
     9        "Originally, ``distutils`` allowed developers to configure arguments for",
    10        "``setup.py`` commands via `distutils configuration files",
    11        "<https://setuptools.pypa.io/en/latest/deprecated/distutils/configfile.html>`_.",
    12        "See also `the old Python docs <https://docs.python.org/3.11/install/>_`."
    13      ],
    14    
    15      "type": "object",
    16      "properties": {
    17        "global": {
    18          "type": "object",
    19          "description": "Global options applied to all ``distutils`` commands"
    20        }
    21      },
    22      "patternProperties": {
    23        ".+": {"type": "object"}
    24      },
    25      "$comment": "TODO: Is there a practical way of making this schema more specific?"
    26    }
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/NOTICE
```NOTICE
     1    The following files include code from opensource projects
     2    (either as direct copies or modified versions):
     3    
     4    - `setuptools.schema.json`, `distutils.schema.json`:
     5        - project: `validate-pyproject` - licensed under MPL-2.0
     6          (https://github.com/abravalheri/validate-pyproject):
     7    
     8          This Source Code Form is subject to the terms of the Mozilla Public
     9          License, v. 2.0. If a copy of the MPL was not distributed with this file,
    10          You can obtain one at https://mozilla.org/MPL/2.0/.
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/setupcfg.py
```setupcfg.py
     1    """
     2    Load setuptools configuration from ``setup.cfg`` files.
     3    
     4    **API will be made private in the future**
     5    
     6    To read project metadata, consider using
     7    ``build.util.project_wheel_metadata`` (https://pypi.org/project/build/).
     8    For simple scenarios, you can also try parsing the file directly
     9    with the help of ``configparser``.
    10    """
    11    
    12    from __future__ import annotations
    13    
    14    import contextlib
    15    import functools
    16    import os
    17    from collections import defaultdict
    18    from collections.abc import Iterable, Iterator
    19    from functools import partial, wraps
    20    from typing import TYPE_CHECKING, Any, Callable, ClassVar, Generic, TypeVar, cast
    21    
    22    from packaging.markers import default_environment as marker_env
    23    from packaging.requirements import InvalidRequirement, Requirement
    24    from packaging.version import InvalidVersion, Version
    25    
    26    from .. import _static
    27    from .._path import StrPath
    28    from ..errors import FileError, OptionError
    29    from ..warnings import SetuptoolsDeprecationWarning
    30    from . import expand
    31    
    32    if TYPE_CHECKING:
    33        from typing_extensions import TypeAlias
    34    
    35        from setuptools.dist import Distribution
    36    
    37        from distutils.dist import DistributionMetadata
    38    
    39    SingleCommandOptions: TypeAlias = dict[str, tuple[str, Any]]
    40    """Dict that associate the name of the options of a particular command to a
    41    tuple. The first element of the tuple indicates the origin of the option value
    42    (e.g. the name of the configuration file where it was read from),
    43    while the second element of the tuple is the option value itself
    44    """
    45    AllCommandOptions: TypeAlias = dict[str, SingleCommandOptions]
    46    """cmd name => its options"""
    47    Target = TypeVar("Target", "Distribution", "DistributionMetadata")
    48    
    49    
    50    def read_configuration(
    51        filepath: StrPath, find_others: bool = False, ignore_option_errors: bool = False
    52    ) -> dict:
    53        """Read given configuration file and returns options from it as a dict.
    54    
    55        :param str|unicode filepath: Path to configuration file
    56            to get options from.
    57    
    58        :param bool find_others: Whether to search for other configuration files
    59            which could be on in various places.
    60    
    61        :param bool ignore_option_errors: Whether to silently ignore
    62            options, values of which could not be resolved (e.g. due to exceptions
    63            in directives such as file:, attr:, etc.).
    64            If False exceptions are propagated as expected.
    65    
    66        :rtype: dict
    67        """
    68        from setuptools.dist import Distribution
    69    
    70        dist = Distribution()
    71        filenames = dist.find_config_files() if find_others else []
    72        handlers = _apply(dist, filepath, filenames, ignore_option_errors)
    73        return configuration_to_dict(handlers)
    74    
    75    
    76    def apply_configuration(dist: Distribution, filepath: StrPath) -> Distribution:
    77        """Apply the configuration from a ``setup.cfg`` file into an existing
    78        distribution object.
    79        """
    80        _apply(dist, filepath)
    81        dist._finalize_requires()
    82        return dist
    83    
    84    
    85    def _apply(
    86        dist: Distribution,
    87        filepath: StrPath,
    88        other_files: Iterable[StrPath] = (),
    89        ignore_option_errors: bool = False,
    90    ) -> tuple[ConfigMetadataHandler, ConfigOptionsHandler]:
    91        """Read configuration from ``filepath`` and applies to the ``dist`` object."""
    92        from setuptools.dist import _Distribution
    93    
    94        filepath = os.path.abspath(filepath)
    95    
    96        if not os.path.isfile(filepath):
    97            raise FileError(f'Configuration file {filepath} does not exist.')
    98    
    99        current_directory = os.getcwd()
   100        os.chdir(os.path.dirname(filepath))
   101        filenames = [*other_files, filepath]
   102    
   103        try:
   104            # TODO: Temporary cast until mypy 1.12 is released with upstream fixes from typeshed
   105            _Distribution.parse_config_files(dist, filenames=cast(list[str], filenames))
   106            handlers = parse_configuration(
   107                dist, dist.command_options, ignore_option_errors=ignore_option_errors
   108            )
   109            dist._finalize_license_files()
   110        finally:
   111            os.chdir(current_directory)
   112    
   113        return handlers
   114    
   115    
   116    def _get_option(target_obj: Distribution | DistributionMetadata, key: str):
   117        """
   118        Given a target object and option key, get that option from
   119        the target object, either through a get_{key} method or
   120        from an attribute directly.
   121        """
   122        getter_name = f'get_{key}'
   123        by_attribute = functools.partial(getattr, target_obj, key)
   124        getter = getattr(target_obj, getter_name, by_attribute)
   125        return getter()
   126    
   127    
   128    def configuration_to_dict(
   129        handlers: Iterable[
   130            ConfigHandler[Distribution] | ConfigHandler[DistributionMetadata]
   131        ],
   132    ) -> dict:
   133        """Returns configuration data gathered by given handlers as a dict.
   134    
   135        :param Iterable[ConfigHandler] handlers: Handlers list,
   136            usually from parse_configuration()
   137    
   138        :rtype: dict
   139        """
   140        config_dict: dict = defaultdict(dict)
   141    
   142        for handler in handlers:
   143            for option in handler.set_options:
   144                value = _get_option(handler.target_obj, option)
   145                config_dict[handler.section_prefix][option] = value
   146    
   147        return config_dict
   148    
   149    
   150    def parse_configuration(
   151        distribution: Distribution,
   152        command_options: AllCommandOptions,
   153        ignore_option_errors: bool = False,
   154    ) -> tuple[ConfigMetadataHandler, ConfigOptionsHandler]:
   155        """Performs additional parsing of configuration options
   156        for a distribution.
   157    
   158        Returns a list of used option handlers.
   159    
   160        :param Distribution distribution:
   161        :param dict command_options:
   162        :param bool ignore_option_errors: Whether to silently ignore
   163            options, values of which could not be resolved (e.g. due to exceptions
   164            in directives such as file:, attr:, etc.).
   165            If False exceptions are propagated as expected.
   166        :rtype: list
   167        """
   168        with expand.EnsurePackagesDiscovered(distribution) as ensure_discovered:
   169            options = ConfigOptionsHandler(
   170                distribution,
   171                command_options,
   172                ignore_option_errors,
   173                ensure_discovered,
   174            )
   175    
   176            options.parse()
   177            if not distribution.package_dir:
   178                distribution.package_dir = options.package_dir  # Filled by `find_packages`
   179    
   180            meta = ConfigMetadataHandler(
   181                distribution.metadata,
   182                command_options,
   183                ignore_option_errors,
   184                ensure_discovered,
   185                distribution.package_dir,
   186                distribution.src_root,
   187            )
   188            meta.parse()
   189            distribution._referenced_files.update(
   190                options._referenced_files, meta._referenced_files
   191            )
   192    
   193        return meta, options
   194    
   195    
   196    def _warn_accidental_env_marker_misconfig(label: str, orig_value: str, parsed: list):
   197        """Because users sometimes misinterpret this configuration:
   198    
   199        [options.extras_require]
   200        foo = bar;python_version<"4"
   201    
   202        It looks like one requirement with an environment marker
   203        but because there is no newline, it's parsed as two requirements
   204        with a semicolon as separator.
   205    
   206        Therefore, if:
   207            * input string does not contain a newline AND
   208            * parsed result contains two requirements AND
   209            * parsing of the two parts from the result ("<first>;<second>")
   210            leads in a valid Requirement with a valid marker
   211        a UserWarning is shown to inform the user about the possible problem.
   212        """
   213        if "\n" in orig_value or len(parsed) != 2:
   214            return
   215    
   216        markers = marker_env().keys()
   217    
   218        try:
   219            req = Requirement(parsed[1])
   220            if req.name in markers:
   221                _AmbiguousMarker.emit(field=label, req=parsed[1])
   222        except InvalidRequirement as ex:
   223            if any(parsed[1].startswith(marker) for marker in markers):
   224                msg = _AmbiguousMarker.message(field=label, req=parsed[1])
   225                raise InvalidRequirement(msg) from ex
   226    
   227    
   228    class ConfigHandler(Generic[Target]):
   229        """Handles metadata supplied in configuration files."""
   230    
   231        section_prefix: str
   232        """Prefix for config sections handled by this handler.
   233        Must be provided by class heirs.
   234    
   235        """
   236    
   237        aliases: ClassVar[dict[str, str]] = {}
   238        """Options aliases.
   239        For compatibility with various packages. E.g.: d2to1 and pbr.
   240        Note: `-` in keys is replaced with `_` by config parser.
   241    
   242        """
   243    
   244        def __init__(
   245            self,
   246            target_obj: Target,
   247            options: AllCommandOptions,
   248            ignore_option_errors,
   249            ensure_discovered: expand.EnsurePackagesDiscovered,
   250        ) -> None:
   251            self.ignore_option_errors = ignore_option_errors
   252            self.target_obj: Target = target_obj
   253            self.sections = dict(self._section_options(options))
   254            self.set_options: list[str] = []
   255            self.ensure_discovered = ensure_discovered
   256            self._referenced_files = set[str]()
   257            """After parsing configurations, this property will enumerate
   258            all files referenced by the "file:" directive. Private API for setuptools only.
   259            """
   260    
   261        @classmethod
   262        def _section_options(
   263            cls, options: AllCommandOptions
   264        ) -> Iterator[tuple[str, SingleCommandOptions]]:
   265            for full_name, value in options.items():
   266                pre, _sep, name = full_name.partition(cls.section_prefix)
   267                if pre:
   268                    continue
   269                yield name.lstrip('.'), value
   270    
   271        @property
   272        def parsers(self):
   273            """Metadata item name to parser function mapping."""
   274            raise NotImplementedError(
   275                f'{self.__class__.__name__} must provide .parsers property'
   276            )
   277    
   278        def __setitem__(self, option_name, value) -> None:
   279            target_obj = self.target_obj
   280    
   281            # Translate alias into real name.
   282            option_name = self.aliases.get(option_name, option_name)
   283    
   284            try:
   285                current_value = getattr(target_obj, option_name)
   286            except AttributeError as e:
   287                raise KeyError(option_name) from e
   288    
   289            if current_value:
   290                # Already inhabited. Skipping.
   291                return
   292    
   293            try:
   294                parsed = self.parsers.get(option_name, lambda x: x)(value)
   295            except (Exception,) * self.ignore_option_errors:
   296                return
   297    
   298            simple_setter = functools.partial(target_obj.__setattr__, option_name)
   299            setter = getattr(target_obj, f"set_{option_name}", simple_setter)
   300            setter(parsed)
   301    
   302            self.set_options.append(option_name)
   303    
   304        @classmethod
   305        def _parse_list(cls, value, separator=','):
   306            """Represents value as a list.
   307    
   308            Value is split either by separator (defaults to comma) or by lines.
   309    
   310            :param value:
   311            :param separator: List items separator character.
   312            :rtype: list
   313            """
   314            if isinstance(value, list):  # _get_parser_compound case
   315                return value
   316    
   317            if '\n' in value:
   318                value = value.splitlines()
   319            else:
   320                value = value.split(separator)
   321    
   322            return [chunk.strip() for chunk in value if chunk.strip()]
   323    
   324        @classmethod
   325        def _parse_dict(cls, value):
   326            """Represents value as a dict.
   327    
   328            :param value:
   329            :rtype: dict
   330            """
   331            separator = '='
   332            result = {}
   333            for line in cls._parse_list(value):
   334                key, sep, val = line.partition(separator)
   335                if sep != separator:
   336                    raise OptionError(f"Unable to parse option value to dict: {value}")
   337                result[key.strip()] = val.strip()
   338    
   339            return result
   340    
   341        @classmethod
   342        def _parse_bool(cls, value):
   343            """Represents value as boolean.
   344    
   345            :param value:
   346            :rtype: bool
   347            """
   348            value = value.lower()
   349            return value in ('1', 'true', 'yes')
   350    
   351        @classmethod
   352        def _exclude_files_parser(cls, key):
   353            """Returns a parser function to make sure field inputs
   354            are not files.
   355    
   356            Parses a value after getting the key so error messages are
   357            more informative.
   358    
   359            :param key:
   360            :rtype: callable
   361            """
   362    
   363            def parser(value):
   364                exclude_directive = 'file:'
   365                if value.startswith(exclude_directive):
   366                    raise ValueError(
   367                        f'Only strings are accepted for the {key} field, '
   368                        'files are not accepted'
   369                    )
   370                return _static.Str(value)
   371    
   372            return parser
   373    
   374        def _parse_file(self, value, root_dir: StrPath | None):
   375            """Represents value as a string, allowing including text
   376            from nearest files using `file:` directive.
   377    
   378            Directive is sandboxed and won't reach anything outside
   379            directory with setup.py.
   380    
   381            Examples:
   382                file: README.rst, CHANGELOG.md, src/file.txt
   383    
   384            :param str value:
   385            :rtype: str
   386            """
   387            include_directive = 'file:'
   388    
   389            if not isinstance(value, str):
   390                return value
   391    
   392            if not value.startswith(include_directive):
   393                return _static.Str(value)
   394    
   395            spec = value[len(include_directive) :]
   396            filepaths = [path.strip() for path in spec.split(',')]
   397            self._referenced_files.update(filepaths)
   398            # XXX: Is marking as static contents coming from files too optimistic?
   399            return _static.Str(expand.read_files(filepaths, root_dir))
   400    
   401        def _parse_attr(self, value, package_dir, root_dir: StrPath):
   402            """Represents value as a module attribute.
   403    
   404            Examples:
   405                attr: package.attr
   406                attr: package.module.attr
   407    
   408            :param str value:
   409            :rtype: str
   410            """
   411            attr_directive = 'attr:'
   412            if not value.startswith(attr_directive):
   413                return _static.Str(value)
   414    
   415            attr_desc = value.replace(attr_directive, '')
   416    
   417            # Make sure package_dir is populated correctly, so `attr:` directives can work
   418            package_dir.update(self.ensure_discovered.package_dir)
   419            return expand.read_attr(attr_desc, package_dir, root_dir)
   420    
   421        @classmethod
   422        def _get_parser_compound(cls, *parse_methods):
   423            """Returns parser function to represents value as a list.
   424    
   425            Parses a value applying given methods one after another.
   426    
   427            :param parse_methods:
   428            :rtype: callable
   429            """
   430    
   431            def parse(value):
   432                parsed = value
   433    
   434                for method in parse_methods:
   435                    parsed = method(parsed)
   436    
   437                return parsed
   438    
   439            return parse
   440    
   441        @classmethod
   442        def _parse_section_to_dict_with_key(cls, section_options, values_parser):
   443            """Parses section options into a dictionary.
   444    
   445            Applies a given parser to each option in a section.
   446    
   447            :param dict section_options:
   448            :param callable values_parser: function with 2 args corresponding to key, value
   449            :rtype: dict
   450            """
   451            value = {}
   452            for key, (_, val) in section_options.items():
   453                value[key] = values_parser(key, val)
   454            return value
   455    
   456        @classmethod
   457        def _parse_section_to_dict(cls, section_options, values_parser=None):
   458            """Parses section options into a dictionary.
   459    
   460            Optionally applies a given parser to each value.
   461    
   462            :param dict section_options:
   463            :param callable values_parser: function with 1 arg corresponding to option value
   464            :rtype: dict
   465            """
   466            parser = (lambda _, v: values_parser(v)) if values_parser else (lambda _, v: v)
   467            return cls._parse_section_to_dict_with_key(section_options, parser)
   468    
   469        def parse_section(self, section_options) -> None:
   470            """Parses configuration file section.
   471    
   472            :param dict section_options:
   473            """
   474            for name, (_, value) in section_options.items():
   475                with contextlib.suppress(KeyError):
   476                    # Keep silent for a new option may appear anytime.
   477                    self[name] = value
   478    
   479        def parse(self) -> None:
   480            """Parses configuration file items from one
   481            or more related sections.
   482    
   483            """
   484            for section_name, section_options in self.sections.items():
   485                method_postfix = ''
   486                if section_name:  # [section.option] variant
   487                    method_postfix = f"_{section_name}"
   488    
   489                section_parser_method: Callable | None = getattr(
   490                    self,
   491                    # Dots in section names are translated into dunderscores.
   492                    f'parse_section{method_postfix}'.replace('.', '__'),
   493                    None,
   494                )
   495    
   496                if section_parser_method is None:
   497                    raise OptionError(
   498                        "Unsupported distribution option section: "
   499                        f"[{self.section_prefix}.{section_name}]"
   500                    )
   501    
   502                section_parser_method(section_options)
   503    
   504        def _deprecated_config_handler(self, func, msg, **kw):
   505            """this function will wrap around parameters that are deprecated
   506    
   507            :param msg: deprecation message
   508            :param func: function to be wrapped around
   509            """
   510    
   511            @wraps(func)
   512            def config_handler(*args, **kwargs):
   513                kw.setdefault("stacklevel", 2)
   514                _DeprecatedConfig.emit("Deprecated config in `setup.cfg`", msg, **kw)
   515                return func(*args, **kwargs)
   516    
   517            return config_handler
   518    
   519    
   520    class ConfigMetadataHandler(ConfigHandler["DistributionMetadata"]):
   521        section_prefix = 'metadata'
   522    
   523        aliases = {
   524            'home_page': 'url',
   525            'summary': 'description',
   526            'classifier': 'classifiers',
   527            'platform': 'platforms',
   528        }
   529    
   530        strict_mode = False
   531        """We need to keep it loose, to be partially compatible with
   532        `pbr` and `d2to1` packages which also uses `metadata` section.
   533    
   534        """
   535    
   536        def __init__(
   537            self,
   538            target_obj: DistributionMetadata,
   539            options: AllCommandOptions,
   540            ignore_option_errors: bool,
   541            ensure_discovered: expand.EnsurePackagesDiscovered,
   542            package_dir: dict | None = None,
   543            root_dir: StrPath | None = os.curdir,
   544        ) -> None:
   545            super().__init__(target_obj, options, ignore_option_errors, ensure_discovered)
   546            self.package_dir = package_dir
   547            self.root_dir = root_dir
   548    
   549        @property
   550        def parsers(self):
   551            """Metadata item name to parser function mapping."""
   552            parse_list_static = self._get_parser_compound(self._parse_list, _static.List)
   553            parse_dict_static = self._get_parser_compound(self._parse_dict, _static.Dict)
   554            parse_file = partial(self._parse_file, root_dir=self.root_dir)
   555            exclude_files_parser = self._exclude_files_parser
   556    
   557            return {
   558                'author': _static.Str,
   559                'author_email': _static.Str,
   560                'maintainer': _static.Str,
   561                'maintainer_email': _static.Str,
   562                'platforms': parse_list_static,
   563                'keywords': parse_list_static,
   564                'provides': parse_list_static,
   565                'obsoletes': parse_list_static,
   566                'classifiers': self._get_parser_compound(parse_file, parse_list_static),
   567                'license': exclude_files_parser('license'),
   568                'license_files': parse_list_static,
   569                'description': parse_file,
   570                'long_description': parse_file,
   571                'long_description_content_type': _static.Str,
   572                'version': self._parse_version,  # Cannot be marked as dynamic
   573                'url': _static.Str,
   574                'project_urls': parse_dict_static,
   575            }
   576    
   577        def _parse_version(self, value):
   578            """Parses `version` option value.
   579    
   580            :param value:
   581            :rtype: str
   582    
   583            """
   584            version = self._parse_file(value, self.root_dir)
   585    
   586            if version != value:
   587                version = version.strip()
   588                # Be strict about versions loaded from file because it's easy to
   589                # accidentally include newlines and other unintended content
   590                try:
   591                    Version(version)
   592                except InvalidVersion as e:
   593                    raise OptionError(
   594                        f'Version loaded from {value} does not '
   595                        f'comply with PEP 440: {version}'
   596                    ) from e
   597    
   598                return version
   599    
   600            return expand.version(self._parse_attr(value, self.package_dir, self.root_dir))
   601    
   602    
   603    class ConfigOptionsHandler(ConfigHandler["Distribution"]):
   604        section_prefix = 'options'
   605    
   606        def __init__(
   607            self,
   608            target_obj: Distribution,
   609            options: AllCommandOptions,
   610            ignore_option_errors: bool,
   611            ensure_discovered: expand.EnsurePackagesDiscovered,
   612        ) -> None:
   613            super().__init__(target_obj, options, ignore_option_errors, ensure_discovered)
   614            self.root_dir = target_obj.src_root
   615            self.package_dir: dict[str, str] = {}  # To be filled by `find_packages`
   616    
   617        @classmethod
   618        def _parse_list_semicolon(cls, value):
   619            return cls._parse_list(value, separator=';')
   620    
   621        def _parse_file_in_root(self, value):
   622            return self._parse_file(value, root_dir=self.root_dir)
   623    
   624        def _parse_requirements_list(self, label: str, value: str):
   625            # Parse a requirements list, either by reading in a `file:`, or a list.
   626            parsed = self._parse_list_semicolon(self._parse_file_in_root(value))
   627            _warn_accidental_env_marker_misconfig(label, value, parsed)
   628            # Filter it to only include lines that are not comments. `parse_list`
   629            # will have stripped each line and filtered out empties.
   630            return _static.List(line for line in parsed if not line.startswith("#"))
   631            # ^-- Use `_static.List` to mark a non-`Dynamic` Core Metadata
   632    
   633        @property
   634        def parsers(self):
   635            """Metadata item name to parser function mapping."""
   636            parse_list = self._parse_list
   637            parse_bool = self._parse_bool
   638            parse_cmdclass = self._parse_cmdclass
   639    
   640            return {
   641                'zip_safe': parse_bool,
   642                'include_package_data': parse_bool,
   643                'package_dir': self._parse_dict,
   644                'scripts': parse_list,
   645                'eager_resources': parse_list,
   646                'dependency_links': parse_list,
   647                'namespace_packages': self._deprecated_config_handler(
   648                    parse_list,
   649                    "The namespace_packages parameter is deprecated, "
   650                    "consider using implicit namespaces instead (PEP 420).",
   651                    # TODO: define due date, see setuptools.dist:check_nsp.
   652                ),
   653                'install_requires': partial(  # Core Metadata
   654                    self._parse_requirements_list, "install_requires"
   655                ),
   656                'setup_requires': self._parse_list_semicolon,
   657                'packages': self._parse_packages,
   658                'entry_points': self._parse_file_in_root,
   659                'py_modules': parse_list,
   660                'python_requires': _static.SpecifierSet,  # Core Metadata
   661                'cmdclass': parse_cmdclass,
   662            }
   663    
   664        def _parse_cmdclass(self, value):
   665            package_dir = self.ensure_discovered.package_dir
   666            return expand.cmdclass(self._parse_dict(value), package_dir, self.root_dir)
   667    
   668        def _parse_packages(self, value):
   669            """Parses `packages` option value.
   670    
   671            :param value:
   672            :rtype: list
   673            """
   674            find_directives = ['find:', 'find_namespace:']
   675            trimmed_value = value.strip()
   676    
   677            if trimmed_value not in find_directives:
   678                return self._parse_list(value)
   679    
   680            # Read function arguments from a dedicated section.
   681            find_kwargs = self.parse_section_packages__find(
   682                self.sections.get('packages.find', {})
   683            )
   684    
   685            find_kwargs.update(
   686                namespaces=(trimmed_value == find_directives[1]),
   687                root_dir=self.root_dir,
   688                fill_package_dir=self.package_dir,
   689            )
   690    
   691            return expand.find_packages(**find_kwargs)
   692    
   693        def parse_section_packages__find(self, section_options):
   694            """Parses `packages.find` configuration file section.
   695    
   696            To be used in conjunction with _parse_packages().
   697    
   698            :param dict section_options:
   699            """
   700            section_data = self._parse_section_to_dict(section_options, self._parse_list)
   701    
   702            valid_keys = ['where', 'include', 'exclude']
   703            find_kwargs = {k: v for k, v in section_data.items() if k in valid_keys and v}
   704    
   705            where = find_kwargs.get('where')
   706            if where is not None:
   707                find_kwargs['where'] = where[0]  # cast list to single val
   708    
   709            return find_kwargs
   710    
   711        def parse_section_entry_points(self, section_options) -> None:
   712            """Parses `entry_points` configuration file section.
   713    
   714            :param dict section_options:
   715            """
   716            parsed = self._parse_section_to_dict(section_options, self._parse_list)
   717            self['entry_points'] = parsed
   718    
   719        def _parse_package_data(self, section_options):
   720            package_data = self._parse_section_to_dict(section_options, self._parse_list)
   721            return expand.canonic_package_data(package_data)
   722    
   723        def parse_section_package_data(self, section_options) -> None:
   724            """Parses `package_data` configuration file section.
   725    
   726            :param dict section_options:
   727            """
   728            self['package_data'] = self._parse_package_data(section_options)
   729    
   730        def parse_section_exclude_package_data(self, section_options) -> None:
   731            """Parses `exclude_package_data` configuration file section.
   732    
   733            :param dict section_options:
   734            """
   735            self['exclude_package_data'] = self._parse_package_data(section_options)
   736    
   737        def parse_section_extras_require(self, section_options) -> None:  # Core Metadata
   738            """Parses `extras_require` configuration file section.
   739    
   740            :param dict section_options:
   741            """
   742            parsed = self._parse_section_to_dict_with_key(
   743                section_options,
   744                lambda k, v: self._parse_requirements_list(f"extras_require[{k}]", v),
   745            )
   746    
   747            self['extras_require'] = _static.Dict(parsed)
   748            # ^-- Use `_static.Dict` to mark a non-`Dynamic` Core Metadata
   749    
   750        def parse_section_data_files(self, section_options) -> None:
   751            """Parses `data_files` configuration file section.
   752    
   753            :param dict section_options:
   754            """
   755            parsed = self._parse_section_to_dict(section_options, self._parse_list)
   756            self['data_files'] = expand.canonic_data_files(parsed, self.root_dir)
   757    
   758    
   759    class _AmbiguousMarker(SetuptoolsDeprecationWarning):
   760        _SUMMARY = "Ambiguous requirement marker."
   761        _DETAILS = """
   762        One of the parsed requirements in `{field}` looks like a valid environment marker:
   763    
   764            {req!r}
   765    
   766        Please make sure that the configuration file is correct.
   767        You can use dangling lines to avoid this problem.
   768        """
   769        _SEE_DOCS = "userguide/declarative_config.html#opt-2"
   770        # TODO: should we include due_date here? Initially introduced in 6 Aug 2022.
   771        # Does this make sense with latest version of packaging?
   772    
   773        @classmethod
   774        def message(cls, **kw):
   775            docs = f"https://setuptools.pypa.io/en/latest/{cls._SEE_DOCS}"
   776            return cls._format(cls._SUMMARY, cls._DETAILS, see_url=docs, format_args=kw)
   777    
   778    
   779    class _DeprecatedConfig(SetuptoolsDeprecationWarning):
   780        _SEE_DOCS = "userguide/declarative_config.html"
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/_apply_pyprojecttoml.py
```_apply_pyprojecttoml.py
     1    """Translation layer between pyproject config and setuptools distribution and
     2    metadata objects.
     3    
     4    The distribution and metadata objects are modeled after (an old version of)
     5    core metadata, therefore configs in the format specified for ``pyproject.toml``
     6    need to be processed before being applied.
     7    
     8    **PRIVATE MODULE**: API reserved for setuptools internal usage only.
     9    """
    10    
    11    from __future__ import annotations
    12    
    13    import logging
    14    import os
    15    from collections.abc import Mapping
    16    from email.headerregistry import Address
    17    from functools import partial, reduce
    18    from inspect import cleandoc
    19    from itertools import chain
    20    from types import MappingProxyType
    21    from typing import TYPE_CHECKING, Any, Callable, TypeVar, Union
    22    
    23    from .. import _static
    24    from .._path import StrPath
    25    from ..errors import InvalidConfigError, RemovedConfigError
    26    from ..extension import Extension
    27    from ..warnings import SetuptoolsDeprecationWarning, SetuptoolsWarning
    28    
    29    if TYPE_CHECKING:
    30        from typing_extensions import TypeAlias
    31    
    32        from setuptools._importlib import metadata
    33        from setuptools.dist import Distribution
    34    
    35        from distutils.dist import _OptionsList  # Comes from typeshed
    36    
    37    
    38    EMPTY: Mapping = MappingProxyType({})  # Immutable dict-like
    39    _ProjectReadmeValue: TypeAlias = Union[str, dict[str, str]]
    40    _Correspondence: TypeAlias = Callable[["Distribution", Any, Union[StrPath, None]], None]
    41    _T = TypeVar("_T")
    42    
    43    _logger = logging.getLogger(__name__)
    44    
    45    
    46    def apply(dist: Distribution, config: dict, filename: StrPath) -> Distribution:
    47        """Apply configuration dict read with :func:`read_configuration`"""
    48    
    49        if not config:
    50            return dist  # short-circuit unrelated pyproject.toml file
    51    
    52        root_dir = os.path.dirname(filename) or "."
    53    
    54        _apply_project_table(dist, config, root_dir)
    55        _apply_tool_table(dist, config, filename)
    56    
    57        current_directory = os.getcwd()
    58        os.chdir(root_dir)
    59        try:
    60            dist._finalize_requires()
    61            dist._finalize_license_expression()
    62            dist._finalize_license_files()
    63        finally:
    64            os.chdir(current_directory)
    65    
    66        return dist
    67    
    68    
    69    def _apply_project_table(dist: Distribution, config: dict, root_dir: StrPath):
    70        orig_config = config.get("project", {})
    71        if not orig_config:
    72            return  # short-circuit
    73    
    74        project_table = {k: _static.attempt_conversion(v) for k, v in orig_config.items()}
    75        _handle_missing_dynamic(dist, project_table)
    76        _unify_entry_points(project_table)
    77    
    78        for field, value in project_table.items():
    79            norm_key = json_compatible_key(field)
    80            corresp = PYPROJECT_CORRESPONDENCE.get(norm_key, norm_key)
    81            if callable(corresp):
    82                corresp(dist, value, root_dir)
    83            else:
    84                _set_config(dist, corresp, value)
    85    
    86    
    87    def _apply_tool_table(dist: Distribution, config: dict, filename: StrPath):
    88        tool_table = config.get("tool", {}).get("setuptools", {})
    89        if not tool_table:
    90            return  # short-circuit
    91    
    92        if "license-files" in tool_table:
    93            if "license-files" in config.get("project", {}):
    94                # https://github.com/pypa/setuptools/pull/4837#discussion_r2004983349
    95                raise InvalidConfigError(
    96                    "'project.license-files' is defined already. "
    97                    "Remove 'tool.setuptools.license-files'."
    98                )
    99    
   100            pypa_guides = "guides/writing-pyproject-toml/#license-files"
   101            SetuptoolsDeprecationWarning.emit(
   102                "'tool.setuptools.license-files' is deprecated in favor of "
   103                "'project.license-files' (available on setuptools>=77.0.0).",
   104                see_url=f"https://packaging.python.org/en/latest/{pypa_guides}",
   105                due_date=(2026, 2, 18),  # Warning introduced on 2025-02-18
   106            )
   107    
   108        for field, value in tool_table.items():
   109            norm_key = json_compatible_key(field)
   110    
   111            if norm_key in TOOL_TABLE_REMOVALS:
   112                suggestion = cleandoc(TOOL_TABLE_REMOVALS[norm_key])
   113                msg = f"""
   114                The parameter `tool.setuptools.{field}` was long deprecated
   115                and has been removed from `pyproject.toml`.
   116                """
   117                raise RemovedConfigError("\n".join([cleandoc(msg), suggestion]))
   118    
   119            norm_key = TOOL_TABLE_RENAMES.get(norm_key, norm_key)
   120            corresp = TOOL_TABLE_CORRESPONDENCE.get(norm_key, norm_key)
   121            if callable(corresp):
   122                corresp(dist, value)
   123            else:
   124                _set_config(dist, corresp, value)
   125    
   126        _copy_command_options(config, dist, filename)
   127    
   128    
   129    def _handle_missing_dynamic(dist: Distribution, project_table: dict):
   130        """Be temporarily forgiving with ``dynamic`` fields not listed in ``dynamic``"""
   131        dynamic = set(project_table.get("dynamic", []))
   132        for field, getter in _PREVIOUSLY_DEFINED.items():
   133            if not (field in project_table or field in dynamic):
   134                value = getter(dist)
   135                if value:
   136                    _MissingDynamic.emit(field=field, value=value)
   137                    project_table[field] = _RESET_PREVIOUSLY_DEFINED.get(field)
   138    
   139    
   140    def json_compatible_key(key: str) -> str:
   141        """As defined in :pep:`566#json-compatible-metadata`"""
   142        return key.lower().replace("-", "_")
   143    
   144    
   145    def _set_config(dist: Distribution, field: str, value: Any):
   146        val = _PREPROCESS.get(field, _noop)(dist, value)
   147        setter = getattr(dist.metadata, f"set_{field}", None)
   148        if setter:
   149            setter(val)
   150        elif hasattr(dist.metadata, field) or field in SETUPTOOLS_PATCHES:
   151            setattr(dist.metadata, field, val)
   152        else:
   153            setattr(dist, field, val)
   154    
   155    
   156    _CONTENT_TYPES = {
   157        ".md": "text/markdown",
   158        ".rst": "text/x-rst",
   159        ".txt": "text/plain",
   160    }
   161    
   162    
   163    def _guess_content_type(file: str) -> str | None:
   164        _, ext = os.path.splitext(file.lower())
   165        if not ext:
   166            return None
   167    
   168        if ext in _CONTENT_TYPES:
   169            return _static.Str(_CONTENT_TYPES[ext])
   170    
   171        valid = ", ".join(f"{k} ({v})" for k, v in _CONTENT_TYPES.items())
   172        msg = f"only the following file extensions are recognized: {valid}."
   173        raise ValueError(f"Undefined content type for {file}, {msg}")
   174    
   175    
   176    def _long_description(
   177        dist: Distribution, val: _ProjectReadmeValue, root_dir: StrPath | None
   178    ):
   179        from setuptools.config import expand
   180    
   181        file: str | tuple[()]
   182        if isinstance(val, str):
   183            file = val
   184            text = expand.read_files(file, root_dir)
   185            ctype = _guess_content_type(file)
   186        else:
   187            file = val.get("file") or ()
   188            text = val.get("text") or expand.read_files(file, root_dir)
   189            ctype = val["content-type"]
   190    
   191        # XXX: Is it completely safe to assume static?
   192        _set_config(dist, "long_description", _static.Str(text))
   193    
   194        if ctype:
   195            _set_config(dist, "long_description_content_type", _static.Str(ctype))
   196    
   197        if file:
   198            dist._referenced_files.add(file)
   199    
   200    
   201    def _license(dist: Distribution, val: str | dict, root_dir: StrPath | None):
   202        from setuptools.config import expand
   203    
   204        if isinstance(val, str):
   205            if getattr(dist.metadata, "license", None):
   206                SetuptoolsWarning.emit("`license` overwritten by `pyproject.toml`")
   207                dist.metadata.license = None
   208            _set_config(dist, "license_expression", _static.Str(val))
   209        else:
   210            pypa_guides = "guides/writing-pyproject-toml/#license"
   211            SetuptoolsDeprecationWarning.emit(
   212                "`project.license` as a TOML table is deprecated",
   213                "Please use a simple string containing a SPDX expression for "
   214                "`project.license`. You can also use `project.license-files`. "
   215                "(Both options available on setuptools>=77.0.0).",
   216                see_url=f"https://packaging.python.org/en/latest/{pypa_guides}",
   217                due_date=(2026, 2, 18),  # Introduced on 2025-02-18
   218            )
   219            if "file" in val:
   220                # XXX: Is it completely safe to assume static?
   221                value = expand.read_files([val["file"]], root_dir)
   222                _set_config(dist, "license", _static.Str(value))
   223                dist._referenced_files.add(val["file"])
   224            else:
   225                _set_config(dist, "license", _static.Str(val["text"]))
   226    
   227    
   228    def _people(dist: Distribution, val: list[dict], _root_dir: StrPath | None, kind: str):
   229        field = []
   230        email_field = []
   231        for person in val:
   232            if "name" not in person:
   233                email_field.append(person["email"])
   234            elif "email" not in person:
   235                field.append(person["name"])
   236            else:
   237                addr = Address(display_name=person["name"], addr_spec=person["email"])
   238                email_field.append(str(addr))
   239    
   240        if field:
   241            _set_config(dist, kind, _static.Str(", ".join(field)))
   242        if email_field:
   243            _set_config(dist, f"{kind}_email", _static.Str(", ".join(email_field)))
   244    
   245    
   246    def _project_urls(dist: Distribution, val: dict, _root_dir: StrPath | None):
   247        _set_config(dist, "project_urls", val)
   248    
   249    
   250    def _python_requires(dist: Distribution, val: str, _root_dir: StrPath | None):
   251        _set_config(dist, "python_requires", _static.SpecifierSet(val))
   252    
   253    
   254    def _dependencies(dist: Distribution, val: list, _root_dir: StrPath | None):
   255        if getattr(dist, "install_requires", []):
   256            msg = "`install_requires` overwritten in `pyproject.toml` (dependencies)"
   257            SetuptoolsWarning.emit(msg)
   258        dist.install_requires = val
   259    
   260    
   261    def _optional_dependencies(dist: Distribution, val: dict, _root_dir: StrPath | None):
   262        if getattr(dist, "extras_require", None):
   263            msg = "`extras_require` overwritten in `pyproject.toml` (optional-dependencies)"
   264            SetuptoolsWarning.emit(msg)
   265        dist.extras_require = val
   266    
   267    
   268    def _ext_modules(dist: Distribution, val: list[dict]) -> list[Extension]:
   269        existing = dist.ext_modules or []
   270        args = ({k.replace("-", "_"): v for k, v in x.items()} for x in val)
   271        new = [Extension(**kw) for kw in args]
   272        return [*existing, *new]
   273    
   274    
   275    def _noop(_dist: Distribution, val: _T) -> _T:
   276        return val
   277    
   278    
   279    def _identity(val: _T) -> _T:
   280        return val
   281    
   282    
   283    def _unify_entry_points(project_table: dict):
   284        project = project_table
   285        given = project.pop("entry-points", project.pop("entry_points", {}))
   286        entry_points = dict(given)  # Avoid problems with static
   287        renaming = {"scripts": "console_scripts", "gui_scripts": "gui_scripts"}
   288        for key, value in list(project.items()):  # eager to allow modifications
   289            norm_key = json_compatible_key(key)
   290            if norm_key in renaming:
   291                # Don't skip even if value is empty (reason: reset missing `dynamic`)
   292                entry_points[renaming[norm_key]] = project.pop(key)
   293    
   294        if entry_points:
   295            project["entry-points"] = {
   296                name: [f"{k} = {v}" for k, v in group.items()]
   297                for name, group in entry_points.items()
   298                if group  # now we can skip empty groups
   299            }
   300            # Sometimes this will set `project["entry-points"] = {}`, and that is
   301            # intentional (for resetting configurations that are missing `dynamic`).
   302    
   303    
   304    def _copy_command_options(pyproject: dict, dist: Distribution, filename: StrPath):
   305        tool_table = pyproject.get("tool", {})
   306        cmdclass = tool_table.get("setuptools", {}).get("cmdclass", {})
   307        valid_options = _valid_command_options(cmdclass)
   308    
   309        cmd_opts = dist.command_options
   310        for cmd, config in pyproject.get("tool", {}).get("distutils", {}).items():
   311            cmd = json_compatible_key(cmd)
   312            valid = valid_options.get(cmd, set())
   313            cmd_opts.setdefault(cmd, {})
   314            for key, value in config.items():
   315                key = json_compatible_key(key)
   316                cmd_opts[cmd][key] = (str(filename), value)
   317                if key not in valid:
   318                    # To avoid removing options that are specified dynamically we
   319                    # just log a warn...
   320                    _logger.warning(f"Command option {cmd}.{key} is not defined")
   321    
   322    
   323    def _valid_command_options(cmdclass: Mapping = EMPTY) -> dict[str, set[str]]:
   324        from setuptools.dist import Distribution
   325    
   326        from .._importlib import metadata
   327    
   328        valid_options = {"global": _normalise_cmd_options(Distribution.global_options)}
   329    
   330        unloaded_entry_points = metadata.entry_points(group='distutils.commands')
   331        loaded_entry_points = (_load_ep(ep) for ep in unloaded_entry_points)
   332        entry_points = (ep for ep in loaded_entry_points if ep)
   333        for cmd, cmd_class in chain(entry_points, cmdclass.items()):
   334            opts = valid_options.get(cmd, set())
   335            opts = opts | _normalise_cmd_options(getattr(cmd_class, "user_options", []))
   336            valid_options[cmd] = opts
   337    
   338        return valid_options
   339    
   340    
   341    def _load_ep(ep: metadata.EntryPoint) -> tuple[str, type] | None:
   342        if ep.value.startswith("wheel.bdist_wheel"):
   343            # Ignore deprecated entrypoint from wheel and avoid warning pypa/wheel#631
   344            # TODO: remove check when `bdist_wheel` has been fully removed from pypa/wheel
   345            return None
   346    
   347        # Ignore all the errors
   348        try:
   349            return (ep.name, ep.load())
   350        except Exception as ex:
   351            msg = f"{ex.__class__.__name__} while trying to load entry-point {ep.name}"
   352            _logger.warning(f"{msg}: {ex}")
   353            return None
   354    
   355    
   356    def _normalise_cmd_option_key(name: str) -> str:
   357        return json_compatible_key(name).strip("_=")
   358    
   359    
   360    def _normalise_cmd_options(desc: _OptionsList) -> set[str]:
   361        return {_normalise_cmd_option_key(fancy_option[0]) for fancy_option in desc}
   362    
   363    
   364    def _get_previous_entrypoints(dist: Distribution) -> dict[str, list]:
   365        ignore = ("console_scripts", "gui_scripts")
   366        value = getattr(dist, "entry_points", None) or {}
   367        return {k: v for k, v in value.items() if k not in ignore}
   368    
   369    
   370    def _get_previous_scripts(dist: Distribution) -> list | None:
   371        value = getattr(dist, "entry_points", None) or {}
   372        return value.get("console_scripts")
   373    
   374    
   375    def _get_previous_gui_scripts(dist: Distribution) -> list | None:
   376        value = getattr(dist, "entry_points", None) or {}
   377        return value.get("gui_scripts")
   378    
   379    
   380    def _set_static_list_metadata(attr: str, dist: Distribution, val: list) -> None:
   381        """Apply distutils metadata validation but preserve "static" behaviour"""
   382        meta = dist.metadata
   383        setter, getter = getattr(meta, f"set_{attr}"), getattr(meta, f"get_{attr}")
   384        setter(val)
   385        setattr(meta, attr, _static.List(getter()))
   386    
   387    
   388    def _attrgetter(attr):
   389        """
   390        Similar to ``operator.attrgetter`` but returns None if ``attr`` is not found
   391        >>> from types import SimpleNamespace
   392        >>> obj = SimpleNamespace(a=42, b=SimpleNamespace(c=13))
   393        >>> _attrgetter("a")(obj)
   394        42
   395        >>> _attrgetter("b.c")(obj)
   396        13
   397        >>> _attrgetter("d")(obj) is None
   398        True
   399        """
   400        return partial(reduce, lambda acc, x: getattr(acc, x, None), attr.split("."))
   401    
   402    
   403    def _some_attrgetter(*items):
   404        """
   405        Return the first "truth-y" attribute or None
   406        >>> from types import SimpleNamespace
   407        >>> obj = SimpleNamespace(a=42, b=SimpleNamespace(c=13))
   408        >>> _some_attrgetter("d", "a", "b.c")(obj)
   409        42
   410        >>> _some_attrgetter("d", "e", "b.c", "a")(obj)
   411        13
   412        >>> _some_attrgetter("d", "e", "f")(obj) is None
   413        True
   414        """
   415    
   416        def _acessor(obj):
   417            values = (_attrgetter(i)(obj) for i in items)
   418            return next((i for i in values if i is not None), None)
   419    
   420        return _acessor
   421    
   422    
   423    PYPROJECT_CORRESPONDENCE: dict[str, _Correspondence] = {
   424        "readme": _long_description,
   425        "license": _license,
   426        "authors": partial(_people, kind="author"),
   427        "maintainers": partial(_people, kind="maintainer"),
   428        "urls": _project_urls,
   429        "dependencies": _dependencies,
   430        "optional_dependencies": _optional_dependencies,
   431        "requires_python": _python_requires,
   432    }
   433    
   434    TOOL_TABLE_RENAMES = {"script_files": "scripts"}
   435    TOOL_TABLE_REMOVALS = {
   436        "namespace_packages": """
   437            Please migrate to implicit native namespaces instead.
   438            See https://packaging.python.org/en/latest/guides/packaging-namespace-packages/.
   439            """,
   440    }
   441    TOOL_TABLE_CORRESPONDENCE = {
   442        # Fields with corresponding core metadata need to be marked as static:
   443        "obsoletes": partial(_set_static_list_metadata, "obsoletes"),
   444        "provides": partial(_set_static_list_metadata, "provides"),
   445        "platforms": partial(_set_static_list_metadata, "platforms"),
   446    }
   447    
   448    SETUPTOOLS_PATCHES = {
   449        "long_description_content_type",
   450        "project_urls",
   451        "provides_extras",
   452        "license_file",
   453        "license_files",
   454        "license_expression",
   455    }
   456    
   457    _PREPROCESS = {
   458        "ext_modules": _ext_modules,
   459    }
   460    
   461    _PREVIOUSLY_DEFINED = {
   462        "name": _attrgetter("metadata.name"),
   463        "version": _attrgetter("metadata.version"),
   464        "description": _attrgetter("metadata.description"),
   465        "readme": _attrgetter("metadata.long_description"),
   466        "requires-python": _some_attrgetter("python_requires", "metadata.python_requires"),
   467        "license": _some_attrgetter("metadata.license_expression", "metadata.license"),
   468        # XXX: `license-file` is currently not considered in the context of `dynamic`.
   469        #      See TestPresetField.test_license_files_exempt_from_dynamic
   470        "authors": _some_attrgetter("metadata.author", "metadata.author_email"),
   471        "maintainers": _some_attrgetter("metadata.maintainer", "metadata.maintainer_email"),
   472        "keywords": _attrgetter("metadata.keywords"),
   473        "classifiers": _attrgetter("metadata.classifiers"),
   474        "urls": _attrgetter("metadata.project_urls"),
   475        "entry-points": _get_previous_entrypoints,
   476        "scripts": _get_previous_scripts,
   477        "gui-scripts": _get_previous_gui_scripts,
   478        "dependencies": _attrgetter("install_requires"),
   479        "optional-dependencies": _attrgetter("extras_require"),
   480    }
   481    
   482    
   483    _RESET_PREVIOUSLY_DEFINED: dict = {
   484        # Fix improper setting: given in `setup.py`, but not listed in `dynamic`
   485        # Use "immutable" data structures to avoid in-place modification.
   486        # dict: pyproject name => value to which reset
   487        "license": "",
   488        # XXX: `license-file` is currently not considered in the context of `dynamic`.
   489        #      See TestPresetField.test_license_files_exempt_from_dynamic
   490        "authors": _static.EMPTY_LIST,
   491        "maintainers": _static.EMPTY_LIST,
   492        "keywords": _static.EMPTY_LIST,
   493        "classifiers": _static.EMPTY_LIST,
   494        "urls": _static.EMPTY_DICT,
   495        "entry-points": _static.EMPTY_DICT,
   496        "scripts": _static.EMPTY_DICT,
   497        "gui-scripts": _static.EMPTY_DICT,
   498        "dependencies": _static.EMPTY_LIST,
   499        "optional-dependencies": _static.EMPTY_DICT,
   500    }
   501    
   502    
   503    class _MissingDynamic(SetuptoolsWarning):
   504        _SUMMARY = "`{field}` defined outside of `pyproject.toml` is ignored."
   505    
   506        _DETAILS = """
   507        The following seems to be defined outside of `pyproject.toml`:
   508    
   509        `{field} = {value!r}`
   510    
   511        According to the spec (see the link below), however, setuptools CANNOT
   512        consider this value unless `{field}` is listed as `dynamic`.
   513    
   514        https://packaging.python.org/en/latest/specifications/pyproject-toml/#declaring-project-metadata-the-project-table
   515    
   516        To prevent this problem, you can list `{field}` under `dynamic` or alternatively
   517        remove the `[project]` table from your file and rely entirely on other means of
   518        configuration.
   519        """
   520        # TODO: Consider removing this check in the future?
   521        #       There is a trade-off here between improving "debug-ability" and the cost
   522        #       of running/testing/maintaining these unnecessary checks...
   523    
   524        @classmethod
   525        def details(cls, field: str, value: Any) -> str:
   526            return cls._DETAILS.format(field=field, value=value)
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/pyprojecttoml.py
```pyprojecttoml.py
     1    """
     2    Load setuptools configuration from ``pyproject.toml`` files.
     3    
     4    **PRIVATE MODULE**: API reserved for setuptools internal usage only.
     5    
     6    To read project metadata, consider using
     7    ``build.util.project_wheel_metadata`` (https://pypi.org/project/build/).
     8    For simple scenarios, you can also try parsing the file directly
     9    with the help of ``tomllib`` or ``tomli``.
    10    """
    11    
    12    from __future__ import annotations
    13    
    14    import logging
    15    import os
    16    from collections.abc import Mapping
    17    from contextlib import contextmanager
    18    from functools import partial
    19    from types import TracebackType
    20    from typing import TYPE_CHECKING, Any, Callable
    21    
    22    from .._path import StrPath
    23    from ..errors import FileError, InvalidConfigError
    24    from ..warnings import SetuptoolsWarning
    25    from . import expand as _expand
    26    from ._apply_pyprojecttoml import _PREVIOUSLY_DEFINED, _MissingDynamic, apply as _apply
    27    
    28    if TYPE_CHECKING:
    29        from typing_extensions import Self
    30    
    31        from setuptools.dist import Distribution
    32    
    33    _logger = logging.getLogger(__name__)
    34    
    35    
    36    def load_file(filepath: StrPath) -> dict:
    37        from ..compat.py310 import tomllib
    38    
    39        with open(filepath, "rb") as file:
    40            return tomllib.load(file)
    41    
    42    
    43    def validate(config: dict, filepath: StrPath) -> bool:
    44        from . import _validate_pyproject as validator
    45    
    46        trove_classifier = validator.FORMAT_FUNCTIONS.get("trove-classifier")
    47        if hasattr(trove_classifier, "_disable_download"):
    48            # Improve reproducibility by default. See abravalheri/validate-pyproject#31
    49            trove_classifier._disable_download()  # type: ignore[union-attr]
    50    
    51        try:
    52            return validator.validate(config)
    53        except validator.ValidationError as ex:
    54            summary = f"configuration error: {ex.summary}"
    55            if ex.name.strip("`") != "project":
    56                # Probably it is just a field missing/misnamed, not worthy the verbosity...
    57                _logger.debug(summary)
    58                _logger.debug(ex.details)
    59    
    60            error = f"invalid pyproject.toml config: {ex.name}."
    61            raise ValueError(f"{error}\n{summary}") from None
    62    
    63    
    64    def apply_configuration(
    65        dist: Distribution,
    66        filepath: StrPath,
    67        ignore_option_errors: bool = False,
    68    ) -> Distribution:
    69        """Apply the configuration from a ``pyproject.toml`` file into an existing
    70        distribution object.
    71        """
    72        config = read_configuration(filepath, True, ignore_option_errors, dist)
    73        return _apply(dist, config, filepath)
    74    
    75    
    76    def read_configuration(
    77        filepath: StrPath,
    78        expand: bool = True,
    79        ignore_option_errors: bool = False,
    80        dist: Distribution | None = None,
    81    ) -> dict[str, Any]:
    82        """Read given configuration file and returns options from it as a dict.
    83    
    84        :param str|unicode filepath: Path to configuration file in the ``pyproject.toml``
    85            format.
    86    
    87        :param bool expand: Whether to expand directives and other computed values
    88            (i.e. post-process the given configuration)
    89    
    90        :param bool ignore_option_errors: Whether to silently ignore
    91            options, values of which could not be resolved (e.g. due to exceptions
    92            in directives such as file:, attr:, etc.).
    93            If False exceptions are propagated as expected.
    94    
    95        :param Distribution|None: Distribution object to which the configuration refers.
    96            If not given a dummy object will be created and discarded after the
    97            configuration is read. This is used for auto-discovery of packages and in the
    98            case a dynamic configuration (e.g. ``attr`` or ``cmdclass``) is expanded.
    99            When ``expand=False`` this object is simply ignored.
   100    
   101        :rtype: dict
   102        """
   103        filepath = os.path.abspath(filepath)
   104    
   105        if not os.path.isfile(filepath):
   106            raise FileError(f"Configuration file {filepath!r} does not exist.")
   107    
   108        asdict = load_file(filepath) or {}
   109        project_table = asdict.get("project", {})
   110        tool_table = asdict.get("tool", {})
   111        setuptools_table = tool_table.get("setuptools", {})
   112        if not asdict or not (project_table or setuptools_table):
   113            return {}  # User is not using pyproject to configure setuptools
   114    
   115        if "setuptools" in asdict.get("tools", {}):
   116            # let the user know they probably have a typo in their metadata
   117            _ToolsTypoInMetadata.emit()
   118    
   119        if "distutils" in tool_table:
   120            _ExperimentalConfiguration.emit(subject="[tool.distutils]")
   121    
   122        # There is an overall sense in the community that making include_package_data=True
   123        # the default would be an improvement.
   124        # `ini2toml` backfills include_package_data=False when nothing is explicitly given,
   125        # therefore setting a default here is backwards compatible.
   126        if dist and dist.include_package_data is not None:
   127            setuptools_table.setdefault("include-package-data", dist.include_package_data)
   128        else:
   129            setuptools_table.setdefault("include-package-data", True)
   130        # Persist changes:
   131        asdict["tool"] = tool_table
   132        tool_table["setuptools"] = setuptools_table
   133    
   134        if "ext-modules" in setuptools_table:
   135            _ExperimentalConfiguration.emit(subject="[tool.setuptools.ext-modules]")
   136    
   137        with _ignore_errors(ignore_option_errors):
   138            # Don't complain about unrelated errors (e.g. tools not using the "tool" table)
   139            subset = {"project": project_table, "tool": {"setuptools": setuptools_table}}
   140            validate(subset, filepath)
   141    
   142        if expand:
   143            root_dir = os.path.dirname(filepath)
   144            return expand_configuration(asdict, root_dir, ignore_option_errors, dist)
   145    
   146        return asdict
   147    
   148    
   149    def expand_configuration(
   150        config: dict,
   151        root_dir: StrPath | None = None,
   152        ignore_option_errors: bool = False,
   153        dist: Distribution | None = None,
   154    ) -> dict:
   155        """Given a configuration with unresolved fields (e.g. dynamic, cmdclass, ...)
   156        find their final values.
   157    
   158        :param dict config: Dict containing the configuration for the distribution
   159        :param str root_dir: Top-level directory for the distribution/project
   160            (the same directory where ``pyproject.toml`` is place)
   161        :param bool ignore_option_errors: see :func:`read_configuration`
   162        :param Distribution|None: Distribution object to which the configuration refers.
   163            If not given a dummy object will be created and discarded after the
   164            configuration is read. Used in the case a dynamic configuration
   165            (e.g. ``attr`` or ``cmdclass``).
   166    
   167        :rtype: dict
   168        """
   169        return _ConfigExpander(config, root_dir, ignore_option_errors, dist).expand()
   170    
   171    
   172    class _ConfigExpander:
   173        def __init__(
   174            self,
   175            config: dict,
   176            root_dir: StrPath | None = None,
   177            ignore_option_errors: bool = False,
   178            dist: Distribution | None = None,
   179        ) -> None:
   180            self.config = config
   181            self.root_dir = root_dir or os.getcwd()
   182            self.project_cfg = config.get("project", {})
   183            self.dynamic = self.project_cfg.get("dynamic", [])
   184            self.setuptools_cfg = config.get("tool", {}).get("setuptools", {})
   185            self.dynamic_cfg = self.setuptools_cfg.get("dynamic", {})
   186            self.ignore_option_errors = ignore_option_errors
   187            self._dist = dist
   188            self._referenced_files = set[str]()
   189    
   190        def _ensure_dist(self) -> Distribution:
   191            from setuptools.dist import Distribution
   192    
   193            attrs = {"src_root": self.root_dir, "name": self.project_cfg.get("name", None)}
   194            return self._dist or Distribution(attrs)
   195    
   196        def _process_field(self, container: dict, field: str, fn: Callable):
   197            if field in container:
   198                with _ignore_errors(self.ignore_option_errors):
   199                    container[field] = fn(container[field])
   200    
   201        def _canonic_package_data(self, field="package-data"):
   202            package_data = self.setuptools_cfg.get(field, {})
   203            return _expand.canonic_package_data(package_data)
   204    
   205        def expand(self):
   206            self._expand_packages()
   207            self._canonic_package_data()
   208            self._canonic_package_data("exclude-package-data")
   209    
   210            # A distribution object is required for discovering the correct package_dir
   211            dist = self._ensure_dist()
   212            ctx = _EnsurePackagesDiscovered(dist, self.project_cfg, self.setuptools_cfg)
   213            with ctx as ensure_discovered:
   214                package_dir = ensure_discovered.package_dir
   215                self._expand_data_files()
   216                self._expand_cmdclass(package_dir)
   217                self._expand_all_dynamic(dist, package_dir)
   218    
   219            dist._referenced_files.update(self._referenced_files)
   220            return self.config
   221    
   222        def _expand_packages(self):
   223            packages = self.setuptools_cfg.get("packages")
   224            if packages is None or isinstance(packages, (list, tuple)):
   225                return
   226    
   227            find = packages.get("find")
   228            if isinstance(find, dict):
   229                find["root_dir"] = self.root_dir
   230                find["fill_package_dir"] = self.setuptools_cfg.setdefault("package-dir", {})
   231                with _ignore_errors(self.ignore_option_errors):
   232                    self.setuptools_cfg["packages"] = _expand.find_packages(**find)
   233    
   234        def _expand_data_files(self):
   235            data_files = partial(_expand.canonic_data_files, root_dir=self.root_dir)
   236            self._process_field(self.setuptools_cfg, "data-files", data_files)
   237    
   238        def _expand_cmdclass(self, package_dir: Mapping[str, str]):
   239            root_dir = self.root_dir
   240            cmdclass = partial(_expand.cmdclass, package_dir=package_dir, root_dir=root_dir)
   241            self._process_field(self.setuptools_cfg, "cmdclass", cmdclass)
   242    
   243        def _expand_all_dynamic(self, dist: Distribution, package_dir: Mapping[str, str]):
   244            special = (  # need special handling
   245                "version",
   246                "readme",
   247                "entry-points",
   248                "scripts",
   249                "gui-scripts",
   250                "classifiers",
   251                "dependencies",
   252                "optional-dependencies",
   253            )
   254            # `_obtain` functions are assumed to raise appropriate exceptions/warnings.
   255            obtained_dynamic = {
   256                field: self._obtain(dist, field, package_dir)
   257                for field in self.dynamic
   258                if field not in special
   259            }
   260            obtained_dynamic.update(
   261                self._obtain_entry_points(dist, package_dir) or {},
   262                version=self._obtain_version(dist, package_dir),
   263                readme=self._obtain_readme(dist),
   264                classifiers=self._obtain_classifiers(dist),
   265                dependencies=self._obtain_dependencies(dist),
   266                optional_dependencies=self._obtain_optional_dependencies(dist),
   267            )
   268            # `None` indicates there is nothing in `tool.setuptools.dynamic` but the value
   269            # might have already been set by setup.py/extensions, so avoid overwriting.
   270            updates = {k: v for k, v in obtained_dynamic.items() if v is not None}
   271            self.project_cfg.update(updates)
   272    
   273        def _ensure_previously_set(self, dist: Distribution, field: str):
   274            previous = _PREVIOUSLY_DEFINED[field](dist)
   275            if previous is None and not self.ignore_option_errors:
   276                msg = (
   277                    f"No configuration found for dynamic {field!r}.\n"
   278                    "Some dynamic fields need to be specified via `tool.setuptools.dynamic`"
   279                    "\nothers must be specified via the equivalent attribute in `setup.py`."
   280                )
   281                raise InvalidConfigError(msg)
   282    
   283        def _expand_directive(
   284            self, specifier: str, directive, package_dir: Mapping[str, str]
   285        ):
   286            from more_itertools import always_iterable
   287    
   288            with _ignore_errors(self.ignore_option_errors):
   289                root_dir = self.root_dir
   290                if "file" in directive:
   291                    self._referenced_files.update(always_iterable(directive["file"]))
   292                    return _expand.read_files(directive["file"], root_dir)
   293                if "attr" in directive:
   294                    return _expand.read_attr(directive["attr"], package_dir, root_dir)
   295                raise ValueError(f"invalid `{specifier}`: {directive!r}")
   296            return None
   297    
   298        def _obtain(self, dist: Distribution, field: str, package_dir: Mapping[str, str]):
   299            if field in self.dynamic_cfg:
   300                return self._expand_directive(
   301                    f"tool.setuptools.dynamic.{field}",
   302                    self.dynamic_cfg[field],
   303                    package_dir,
   304                )
   305            self._ensure_previously_set(dist, field)
   306            return None
   307    
   308        def _obtain_version(self, dist: Distribution, package_dir: Mapping[str, str]):
   309            # Since plugins can set version, let's silently skip if it cannot be obtained
   310            if "version" in self.dynamic and "version" in self.dynamic_cfg:
   311                return _expand.version(
   312                    # We already do an early check for the presence of "version"
   313                    self._obtain(dist, "version", package_dir)  # pyright: ignore[reportArgumentType]
   314                )
   315            return None
   316    
   317        def _obtain_readme(self, dist: Distribution) -> dict[str, str] | None:
   318            if "readme" not in self.dynamic:
   319                return None
   320    
   321            dynamic_cfg = self.dynamic_cfg
   322            if "readme" in dynamic_cfg:
   323                return {
   324                    # We already do an early check for the presence of "readme"
   325                    "text": self._obtain(dist, "readme", {}),
   326                    "content-type": dynamic_cfg["readme"].get("content-type", "text/x-rst"),
   327                }  # pyright: ignore[reportReturnType]
   328    
   329            self._ensure_previously_set(dist, "readme")
   330            return None
   331    
   332        def _obtain_entry_points(
   333            self, dist: Distribution, package_dir: Mapping[str, str]
   334        ) -> dict[str, dict[str, Any]] | None:
   335            fields = ("entry-points", "scripts", "gui-scripts")
   336            if not any(field in self.dynamic for field in fields):
   337                return None
   338    
   339            text = self._obtain(dist, "entry-points", package_dir)
   340            if text is None:
   341                return None
   342    
   343            groups = _expand.entry_points(text)
   344            # Any is str | dict[str, str], but causes variance issues
   345            expanded: dict[str, dict[str, Any]] = {"entry-points": groups}
   346    
   347            def _set_scripts(field: str, group: str):
   348                if group in groups:
   349                    value = groups.pop(group)
   350                    if field not in self.dynamic:
   351                        raise InvalidConfigError(_MissingDynamic.details(field, value))
   352                    expanded[field] = value
   353    
   354            _set_scripts("scripts", "console_scripts")
   355            _set_scripts("gui-scripts", "gui_scripts")
   356    
   357            return expanded
   358    
   359        def _obtain_classifiers(self, dist: Distribution):
   360            if "classifiers" in self.dynamic:
   361                value = self._obtain(dist, "classifiers", {})
   362                if value:
   363                    return value.splitlines()
   364            return None
   365    
   366        def _obtain_dependencies(self, dist: Distribution):
   367            if "dependencies" in self.dynamic:
   368                value = self._obtain(dist, "dependencies", {})
   369                if value:
   370                    return _parse_requirements_list(value)
   371            return None
   372    
   373        def _obtain_optional_dependencies(self, dist: Distribution):
   374            if "optional-dependencies" not in self.dynamic:
   375                return None
   376            if "optional-dependencies" in self.dynamic_cfg:
   377                optional_dependencies_map = self.dynamic_cfg["optional-dependencies"]
   378                assert isinstance(optional_dependencies_map, dict)
   379                return {
   380                    group: _parse_requirements_list(
   381                        self._expand_directive(
   382                            f"tool.setuptools.dynamic.optional-dependencies.{group}",
   383                            directive,
   384                            {},
   385                        )
   386                    )
   387                    for group, directive in optional_dependencies_map.items()
   388                }
   389            self._ensure_previously_set(dist, "optional-dependencies")
   390            return None
   391    
   392    
   393    def _parse_requirements_list(value):
   394        return [
   395            line
   396            for line in value.splitlines()
   397            if line.strip() and not line.strip().startswith("#")
   398        ]
   399    
   400    
   401    @contextmanager
   402    def _ignore_errors(ignore_option_errors: bool):
   403        if not ignore_option_errors:
   404            yield
   405            return
   406    
   407        try:
   408            yield
   409        except Exception as ex:
   410            _logger.debug(f"ignored error: {ex.__class__.__name__} - {ex}")
   411    
   412    
   413    class _EnsurePackagesDiscovered(_expand.EnsurePackagesDiscovered):
   414        def __init__(
   415            self, distribution: Distribution, project_cfg: dict, setuptools_cfg: dict
   416        ) -> None:
   417            super().__init__(distribution)
   418            self._project_cfg = project_cfg
   419            self._setuptools_cfg = setuptools_cfg
   420    
   421        def __enter__(self) -> Self:
   422            """When entering the context, the values of ``packages``, ``py_modules`` and
   423            ``package_dir`` that are missing in ``dist`` are copied from ``setuptools_cfg``.
   424            """
   425            dist, cfg = self._dist, self._setuptools_cfg
   426            package_dir: dict[str, str] = cfg.setdefault("package-dir", {})
   427            package_dir.update(dist.package_dir or {})
   428            dist.package_dir = package_dir  # needs to be the same object
   429    
   430            dist.set_defaults._ignore_ext_modules()  # pyproject.toml-specific behaviour
   431    
   432            # Set `name`, `py_modules` and `packages` in dist to short-circuit
   433            # auto-discovery, but avoid overwriting empty lists purposefully set by users.
   434            if dist.metadata.name is None:
   435                dist.metadata.name = self._project_cfg.get("name")
   436            if dist.py_modules is None:
   437                dist.py_modules = cfg.get("py-modules")
   438            if dist.packages is None:
   439                dist.packages = cfg.get("packages")
   440    
   441            return super().__enter__()
   442    
   443        def __exit__(
   444            self,
   445            exc_type: type[BaseException] | None,
   446            exc_value: BaseException | None,
   447            traceback: TracebackType | None,
   448        ) -> None:
   449            """When exiting the context, if values of ``packages``, ``py_modules`` and
   450            ``package_dir`` are missing in ``setuptools_cfg``, copy from ``dist``.
   451            """
   452            # If anything was discovered set them back, so they count in the final config.
   453            self._setuptools_cfg.setdefault("packages", self._dist.packages)
   454            self._setuptools_cfg.setdefault("py-modules", self._dist.py_modules)
   455            return super().__exit__(exc_type, exc_value, traceback)
   456    
   457    
   458    class _ExperimentalConfiguration(SetuptoolsWarning):
   459        _SUMMARY = (
   460            "`{subject}` in `pyproject.toml` is still *experimental* "
   461            "and likely to change in future releases."
   462        )
   463    
   464    
   465    class _ToolsTypoInMetadata(SetuptoolsWarning):
   466        _SUMMARY = (
   467            "Ignoring [tools.setuptools] in pyproject.toml, did you mean [tool.setuptools]?"
   468        )
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/setuptools.schema.json
```setuptools.schema.json
     1    {
     2      "$schema": "http://json-schema.org/draft-07/schema#",
     3    
     4      "$id": "https://setuptools.pypa.io/en/latest/userguide/pyproject_config.html",
     5      "title": "``tool.setuptools`` table",
     6      "$$description": [
     7        "``setuptools``-specific configurations that can be set by users that require",
     8        "customization.",
     9        "These configurations are completely optional and probably can be skipped when",
    10        "creating simple packages. They are equivalent to some of the `Keywords",
    11        "<https://setuptools.pypa.io/en/latest/references/keywords.html>`_",
    12        "used by the ``setup.py`` file, and can be set via the ``tool.setuptools`` table.",
    13        "It considers only ``setuptools`` `parameters",
    14        "<https://setuptools.pypa.io/en/latest/userguide/pyproject_config.html#setuptools-specific-configuration>`_",
    15        "that are not covered by :pep:`621`; and intentionally excludes ``dependency_links``",
    16        "and ``setup_requires`` (incompatible with modern workflows/standards)."
    17      ],
    18    
    19      "type": "object",
    20      "additionalProperties": false,
    21      "properties": {
    22        "platforms": {
    23          "type": "array",
    24          "items": {"type": "string"}
    25        },
    26        "provides": {
    27          "$$description": [
    28            "Package and virtual package names contained within this package",
    29            "**(not supported by pip)**"
    30          ],
    31          "type": "array",
    32          "items": {"type": "string", "format": "pep508-identifier"}
    33        },
    34        "obsoletes": {
    35          "$$description": [
    36            "Packages which this package renders obsolete",
    37            "**(not supported by pip)**"
    38          ],
    39          "type": "array",
    40          "items": {"type": "string", "format": "pep508-identifier"}
    41        },
    42        "zip-safe": {
    43          "$$description": [
    44            "Whether the project can be safely installed and run from a zip file.",
    45            "**OBSOLETE**: only relevant for ``pkg_resources``, ``easy_install`` and",
    46            "``setup.py install`` in the context of ``eggs`` (**DEPRECATED**)."
    47          ],
    48          "type": "boolean"
    49        },
    50        "script-files": {
    51          "$$description": [
    52            "Legacy way of defining scripts (entry-points are preferred).",
    53            "Equivalent to the ``script`` keyword in ``setup.py``",
    54            "(it was renamed to avoid confusion with entry-point based ``project.scripts``",
    55            "defined in :pep:`621`).",
    56            "**DISCOURAGED**: generic script wrappers are tricky and may not work properly.",
    57            "Whenever possible, please use ``project.scripts`` instead."
    58          ],
    59          "type": "array",
    60          "items": {"type": "string"},
    61          "$comment": "TODO: is this field deprecated/should be removed?"
    62        },
    63        "eager-resources": {
    64          "$$description": [
    65            "Resources that should be extracted together, if any of them is needed,",
    66            "or if any C extensions included in the project are imported.",
    67            "**OBSOLETE**: only relevant for ``pkg_resources``, ``easy_install`` and",
    68            "``setup.py install`` in the context of ``eggs`` (**DEPRECATED**)."
    69          ],
    70          "type": "array",
    71          "items": {"type": "string"}
    72        },
    73        "packages": {
    74          "$$description": [
    75            "Packages that should be included in the distribution.",
    76            "It can be given either as a list of package identifiers",
    77            "or as a ``dict``-like structure with a single key ``find``",
    78            "which corresponds to a dynamic call to",
    79            "``setuptools.config.expand.find_packages`` function.",
    80            "The ``find`` key is associated with a nested ``dict``-like structure that can",
    81            "contain ``where``, ``include``, ``exclude`` and ``namespaces`` keys,",
    82            "mimicking the keyword arguments of the associated function."
    83          ],
    84          "oneOf": [
    85            {
    86              "title": "Array of Python package identifiers",
    87              "type": "array",
    88              "items": {"$ref": "#/definitions/package-name"}
    89            },
    90            {"$ref": "#/definitions/find-directive"}
    91          ]
    92        },
    93        "package-dir": {
    94          "$$description": [
    95            ":class:`dict`-like structure mapping from package names to directories where their",
    96            "code can be found.",
    97            "The empty string (as key) means that all packages are contained inside",
    98            "the given directory will be included in the distribution."
    99          ],
   100          "type": "object",
   101          "additionalProperties": false,
   102          "propertyNames": {
   103            "anyOf": [{"const": ""}, {"$ref": "#/definitions/package-name"}]
   104          },
   105          "patternProperties": {
   106            "^.*$": {"type": "string" }
   107          }
   108        },
   109        "package-data": {
   110          "$$description": [
   111            "Mapping from package names to lists of glob patterns.",
   112            "Usually this option is not needed when using ``include-package-data = true``",
   113            "For more information on how to include data files, check ``setuptools`` `docs",
   114            "<https://setuptools.pypa.io/en/latest/userguide/datafiles.html>`_."
   115          ],
   116          "type": "object",
   117          "additionalProperties": false,
   118          "propertyNames": {
   119            "anyOf": [{"type": "string", "format": "python-module-name"}, {"const": "*"}]
   120          },
   121          "patternProperties": {
   122            "^.*$": {"type": "array", "items": {"type": "string"}}
   123          }
   124        },
   125        "include-package-data": {
   126          "$$description": [
   127            "Automatically include any data files inside the package directories",
   128            "that are specified by ``MANIFEST.in``",
   129            "For more information on how to include data files, check ``setuptools`` `docs",
   130            "<https://setuptools.pypa.io/en/latest/userguide/datafiles.html>`_."
   131          ],
   132          "type": "boolean"
   133        },
   134        "exclude-package-data": {
   135          "$$description": [
   136            "Mapping from package names to lists of glob patterns that should be excluded",
   137            "For more information on how to include data files, check ``setuptools`` `docs",
   138            "<https://setuptools.pypa.io/en/latest/userguide/datafiles.html>`_."
   139          ],
   140          "type": "object",
   141          "additionalProperties": false,
   142          "propertyNames": {
   143            "anyOf": [{"type": "string", "format": "python-module-name"}, {"const": "*"}]
   144          },
   145          "patternProperties": {
   146              "^.*$": {"type": "array", "items": {"type": "string"}}
   147          }
   148        },
   149        "namespace-packages": {
   150          "type": "array",
   151          "items": {"type": "string", "format": "python-module-name-relaxed"},
   152          "$comment": "https://setuptools.pypa.io/en/latest/userguide/package_discovery.html",
   153          "description": "**DEPRECATED**: use implicit namespaces instead (:pep:`420`)."
   154        },
   155        "py-modules": {
   156          "description": "Modules that setuptools will manipulate",
   157          "type": "array",
   158          "items": {"type": "string", "format": "python-module-name-relaxed"},
   159          "$comment": "TODO: clarify the relationship with ``packages``"
   160        },
   161        "ext-modules": {
   162          "description": "Extension modules to be compiled by setuptools",
   163          "type": "array",
   164          "items": {"$ref": "#/definitions/ext-module"}
   165        },
   166        "data-files": {
   167          "$$description": [
   168            "``dict``-like structure where each key represents a directory and",
   169            "the value is a list of glob patterns that should be installed in them.",
   170            "**DISCOURAGED**: please notice this might not work as expected with wheels.",
   171            "Whenever possible, consider using data files inside the package directories",
   172            "(or create a new namespace package that only contains data files).",
   173            "See `data files support",
   174            "<https://setuptools.pypa.io/en/latest/userguide/datafiles.html>`_."
   175          ],
   176          "type": "object",
   177          "patternProperties": {
   178              "^.*$": {"type": "array", "items": {"type": "string"}}
   179          }
   180        },
   181        "cmdclass": {
   182          "$$description": [
   183            "Mapping of distutils-style command names to ``setuptools.Command`` subclasses",
   184            "which in turn should be represented by strings with a qualified class name",
   185            "(i.e., \"dotted\" form with module), e.g.::\n\n",
   186            "    cmdclass = {mycmd = \"pkg.subpkg.module.CommandClass\"}\n\n",
   187            "The command class should be a directly defined at the top-level of the",
   188            "containing module (no class nesting)."
   189          ],
   190          "type": "object",
   191          "patternProperties": {
   192              "^.*$": {"type": "string", "format": "python-qualified-identifier"}
   193          }
   194        },
   195        "license-files": {
   196          "type": "array",
   197          "items": {"type": "string"},
   198          "$$description": [
   199            "**PROVISIONAL**: list of glob patterns for all license files being distributed.",
   200            "(likely to become standard with :pep:`639`).",
   201            "By default: ``['LICEN[CS]E*', 'COPYING*', 'NOTICE*', 'AUTHORS*']``"
   202          ],
   203          "$comment": "TODO: revise if PEP 639 is accepted. Probably ``project.license-files``?"
   204        },
   205        "dynamic": {
   206          "type": "object",
   207          "description": "Instructions for loading :pep:`621`-related metadata dynamically",
   208          "additionalProperties": false,
   209          "properties": {
   210            "version": {
   211              "$$description": [
   212                "A version dynamically loaded via either the ``attr:`` or ``file:``",
   213                "directives. Please make sure the given file or attribute respects :pep:`440`.",
   214                "Also ensure to set ``project.dynamic`` accordingly."
   215              ],
   216              "oneOf": [
   217                {"$ref": "#/definitions/attr-directive"},
   218                {"$ref": "#/definitions/file-directive"}
   219              ]
   220            },
   221            "classifiers": {"$ref": "#/definitions/file-directive"},
   222            "description": {"$ref": "#/definitions/file-directive"},
   223            "entry-points": {"$ref": "#/definitions/file-directive"},
   224            "dependencies": {"$ref": "#/definitions/file-directive-for-dependencies"},
   225            "optional-dependencies": {
   226              "type": "object",
   227              "propertyNames": {"type": "string", "format": "pep508-identifier"},
   228              "additionalProperties": false,
   229              "patternProperties": {
   230                ".+": {"$ref": "#/definitions/file-directive-for-dependencies"}
   231              }
   232            },
   233            "readme": {
   234              "type": "object",
   235              "anyOf": [
   236                {"$ref": "#/definitions/file-directive"},
   237                {
   238                  "type": "object",
   239                  "properties": {
   240                    "content-type": {"type": "string"},
   241                    "file": { "$ref": "#/definitions/file-directive/properties/file" }
   242                  },
   243                  "additionalProperties": false}
   244              ],
   245              "required": ["file"]
   246            }
   247          }
   248        }
   249      },
   250    
   251      "definitions": {
   252        "package-name": {
   253          "$id": "#/definitions/package-name",
   254          "title": "Valid package name",
   255          "description": "Valid package name (importable or :pep:`561`).",
   256          "type": "string",
   257          "anyOf": [
   258            {"type": "string", "format": "python-module-name-relaxed"},
   259            {"type": "string", "format": "pep561-stub-name"}
   260          ]
   261        },
   262        "ext-module": {
   263          "$id": "#/definitions/ext-module",
   264          "title": "Extension module",
   265          "description": "Parameters to construct a :class:`setuptools.Extension` object",
   266          "type": "object",
   267          "required": ["name", "sources"],
   268          "additionalProperties": false,
   269          "properties": {
   270            "name": {
   271              "type": "string",
   272              "format": "python-module-name-relaxed"
   273            },
   274            "sources": {
   275              "type": "array",
   276              "items": {"type": "string"}
   277            },
   278            "include-dirs":{
   279              "type": "array",
   280              "items": {"type": "string"}
   281            },
   282            "define-macros": {
   283              "type": "array",
   284              "items": {
   285                "type": "array",
   286                "items": [
   287                  {"description": "macro name", "type": "string"},
   288                  {"description": "macro value", "oneOf": [{"type": "string"}, {"type": "null"}]}
   289                ],
   290                "additionalItems": false
   291              }
   292            },
   293            "undef-macros": {
   294              "type": "array",
   295              "items": {"type": "string"}
   296            },
   297            "library-dirs": {
   298              "type": "array",
   299              "items": {"type": "string"}
   300            },
   301            "libraries": {
   302              "type": "array",
   303              "items": {"type": "string"}
   304            },
   305            "runtime-library-dirs": {
   306              "type": "array",
   307              "items": {"type": "string"}
   308            },
   309            "extra-objects": {
   310              "type": "array",
   311              "items": {"type": "string"}
   312            },
   313            "extra-compile-args": {
   314              "type": "array",
   315              "items": {"type": "string"}
   316            },
   317            "extra-link-args": {
   318              "type": "array",
   319              "items": {"type": "string"}
   320            },
   321            "export-symbols": {
   322              "type": "array",
   323              "items": {"type": "string"}
   324            },
   325            "swig-opts": {
   326              "type": "array",
   327              "items": {"type": "string"}
   328            },
   329            "depends": {
   330              "type": "array",
   331              "items": {"type": "string"}
   332            },
   333            "language": {"type": "string"},
   334            "optional": {"type": "boolean"},
   335            "py-limited-api": {"type": "boolean"}
   336          }
   337        },
   338        "file-directive": {
   339          "$id": "#/definitions/file-directive",
   340          "title": "'file:' directive",
   341          "description":
   342            "Value is read from a file (or list of files and then concatenated)",
   343          "type": "object",
   344          "additionalProperties": false,
   345          "properties": {
   346            "file": {
   347              "oneOf": [
   348                {"type": "string"},
   349                {"type": "array", "items": {"type": "string"}}
   350              ]
   351            }
   352          },
   353          "required": ["file"]
   354        },
   355        "file-directive-for-dependencies": {
   356          "title": "'file:' directive for dependencies",
   357          "allOf": [
   358            {
   359              "$$description": [
   360                "**BETA**: subset of the ``requirements.txt`` format",
   361                "without ``pip`` flags and options",
   362                "(one :pep:`508`-compliant string per line,",
   363                "lines that are blank or start with ``#`` are excluded).",
   364                "See `dynamic metadata",
   365                "<https://setuptools.pypa.io/en/latest/userguide/pyproject_config.html#dynamic-metadata>`_."
   366              ]
   367            },
   368            {"$ref": "#/definitions/file-directive"}
   369          ]
   370        },
   371        "attr-directive": {
   372          "title": "'attr:' directive",
   373          "$id": "#/definitions/attr-directive",
   374          "$$description": [
   375            "Value is read from a module attribute. Supports callables and iterables;",
   376            "unsupported types are cast via ``str()``"
   377          ],
   378          "type": "object",
   379          "additionalProperties": false,
   380          "properties": {
   381            "attr": {"type": "string", "format": "python-qualified-identifier"}
   382          },
   383          "required": ["attr"]
   384        },
   385        "find-directive": {
   386          "$id": "#/definitions/find-directive",
   387          "title": "'find:' directive",
   388          "type": "object",
   389          "additionalProperties": false,
   390          "properties": {
   391            "find": {
   392              "type": "object",
   393              "$$description": [
   394                "Dynamic `package discovery",
   395                "<https://setuptools.pypa.io/en/latest/userguide/package_discovery.html>`_."
   396              ],
   397              "additionalProperties": false,
   398              "properties": {
   399                "where": {
   400                  "description":
   401                    "Directories to be searched for packages (Unix-style relative path)",
   402                  "type": "array",
   403                  "items": {"type": "string"}
   404                },
   405                "exclude": {
   406                  "type": "array",
   407                  "$$description": [
   408                    "Exclude packages that match the values listed in this field.",
   409                    "Can container shell-style wildcards (e.g. ``'pkg.*'``)"
   410                  ],
   411                  "items": {"type": "string"}
   412                },
   413                "include": {
   414                  "type": "array",
   415                  "$$description": [
   416                    "Restrict the found packages to just the ones listed in this field.",
   417                    "Can container shell-style wildcards (e.g. ``'pkg.*'``)"
   418                  ],
   419                  "items": {"type": "string"}
   420                },
   421                "namespaces": {
   422                  "type": "boolean",
   423                  "$$description": [
   424                    "When ``True``, directories without a ``__init__.py`` file will also",
   425                    "be scanned for :pep:`420`-style implicit namespaces"
   426                  ]
   427                }
   428              }
   429            }
   430          }
   431        }
   432      }
   433    }
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/__init__.py
```__init__.py
     1    """For backward compatibility, expose main functions from
     2    ``setuptools.config.setupcfg``
     3    """
     4    
     5    from functools import wraps
     6    from typing import Callable, TypeVar, cast
     7    
     8    from ..warnings import SetuptoolsDeprecationWarning
     9    from . import setupcfg
    10    
    11    Fn = TypeVar("Fn", bound=Callable)
    12    
    13    __all__ = ('parse_configuration', 'read_configuration')
    14    
    15    
    16    def _deprecation_notice(fn: Fn) -> Fn:
    17        @wraps(fn)
    18        def _wrapper(*args, **kwargs):
    19            SetuptoolsDeprecationWarning.emit(
    20                "Deprecated API usage.",
    21                f"""
    22                As setuptools moves its configuration towards `pyproject.toml`,
    23                `{__name__}.{fn.__name__}` became deprecated.
    24    
    25                For the time being, you can use the `{setupcfg.__name__}` module
    26                to access a backward compatible API, but this module is provisional
    27                and might be removed in the future.
    28    
    29                To read project metadata, consider using
    30                ``build.util.project_wheel_metadata`` (https://pypi.org/project/build/).
    31                For simple scenarios, you can also try parsing the file directly
    32                with the help of ``configparser``.
    33                """,
    34                # due_date not defined yet, because the community still heavily relies on it
    35                # Warning introduced in 24 Mar 2022
    36            )
    37            return fn(*args, **kwargs)
    38    
    39        return cast(Fn, _wrapper)
    40    
    41    
    42    read_configuration = _deprecation_notice(setupcfg.read_configuration)
    43    parse_configuration = _deprecation_notice(setupcfg.parse_configuration)
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/_validate_pyproject/formats.py
```formats.py
     1    """
     2    The functions in this module are used to validate schemas with the
     3    `format JSON Schema keyword
     4    <https://json-schema.org/understanding-json-schema/reference/string#format>`_.
     5    
     6    The correspondence is given by replacing the ``_`` character in the name of the
     7    function with a ``-`` to obtain the format name and vice versa.
     8    """
     9    
    10    import builtins
    11    import logging
    12    import os
    13    import re
    14    import string
    15    import typing
    16    from itertools import chain as _chain
    17    
    18    if typing.TYPE_CHECKING:
    19        from typing_extensions import Literal
    20    
    21    _logger = logging.getLogger(__name__)
    22    
    23    # -------------------------------------------------------------------------------------
    24    # PEP 440
    25    
    26    VERSION_PATTERN = r"""
    27        v?
    28        (?:
    29            (?:(?P<epoch>[0-9]+)!)?                           # epoch
    30            (?P<release>[0-9]+(?:\.[0-9]+)*)                  # release segment
    31            (?P<pre>                                          # pre-release
    32                [-_\.]?
    33                (?P<pre_l>alpha|a|beta|b|preview|pre|c|rc)
    34                [-_\.]?
    35                (?P<pre_n>[0-9]+)?
    36            )?
    37            (?P<post>                                         # post release
    38                (?:-(?P<post_n1>[0-9]+))
    39                |
    40                (?:
    41                    [-_\.]?
    42                    (?P<post_l>post|rev|r)
    43                    [-_\.]?
    44                    (?P<post_n2>[0-9]+)?
    45                )
    46            )?
    47            (?P<dev>                                          # dev release
    48                [-_\.]?
    49                (?P<dev_l>dev)
    50                [-_\.]?
    51                (?P<dev_n>[0-9]+)?
    52            )?
    53        )
    54        (?:\+(?P<local>[a-z0-9]+(?:[-_\.][a-z0-9]+)*))?       # local version
    55    """
    56    
    57    VERSION_REGEX = re.compile(r"^\s*" + VERSION_PATTERN + r"\s*$", re.X | re.I)
    58    
    59    
    60    def pep440(version: str) -> bool:
    61        """See :ref:`PyPA's version specification <pypa:version-specifiers>`
    62        (initially introduced in :pep:`440`).
    63        """
    64        return VERSION_REGEX.match(version) is not None
    65    
    66    
    67    # -------------------------------------------------------------------------------------
    68    # PEP 508
    69    
    70    PEP508_IDENTIFIER_PATTERN = r"([A-Z0-9]|[A-Z0-9][A-Z0-9._-]*[A-Z0-9])"
    71    PEP508_IDENTIFIER_REGEX = re.compile(f"^{PEP508_IDENTIFIER_PATTERN}$", re.I)
    72    
    73    
    74    def pep508_identifier(name: str) -> bool:
    75        """See :ref:`PyPA's name specification <pypa:name-format>`
    76        (initially introduced in :pep:`508#names`).
    77        """
    78        return PEP508_IDENTIFIER_REGEX.match(name) is not None
    79    
    80    
    81    try:
    82        try:
    83            from packaging import requirements as _req
    84        except ImportError:  # pragma: no cover
    85            # let's try setuptools vendored version
    86            from setuptools._vendor.packaging import (  # type: ignore[no-redef]
    87                requirements as _req,
    88            )
    89    
    90        def pep508(value: str) -> bool:
    91            """See :ref:`PyPA's dependency specifiers <pypa:dependency-specifiers>`
    92            (initially introduced in :pep:`508`).
    93            """
    94            try:
    95                _req.Requirement(value)
    96                return True
    97            except _req.InvalidRequirement:
    98                return False
    99    
   100    except ImportError:  # pragma: no cover
   101        _logger.warning(
   102            "Could not find an installation of `packaging`. Requirements, dependencies and "
   103            "versions might not be validated. "
   104            "To enforce validation, please install `packaging`."
   105        )
   106    
   107        def pep508(value: str) -> bool:
   108            return True
   109    
   110    
   111    def pep508_versionspec(value: str) -> bool:
   112        """Expression that can be used to specify/lock versions (including ranges)
   113        See ``versionspec`` in :ref:`PyPA's dependency specifiers
   114        <pypa:dependency-specifiers>` (initially introduced in :pep:`508`).
   115        """
   116        if any(c in value for c in (";", "]", "@")):
   117            # In PEP 508:
   118            # conditional markers, extras and URL specs are not included in the
   119            # versionspec
   120            return False
   121        # Let's pretend we have a dependency called `requirement` with the given
   122        # version spec, then we can reuse the pep508 function for validation:
   123        return pep508(f"requirement{value}")
   124    
   125    
   126    # -------------------------------------------------------------------------------------
   127    # PEP 517
   128    
   129    
   130    def pep517_backend_reference(value: str) -> bool:
   131        """See PyPA's specification for defining build-backend references
   132        introduced in :pep:`517#source-trees`.
   133    
   134        This is similar to an entry-point reference (e.g., ``package.module:object``).
   135        """
   136        module, _, obj = value.partition(":")
   137        identifiers = (i.strip() for i in _chain(module.split("."), obj.split(".")))
   138        return all(python_identifier(i) for i in identifiers if i)
   139    
   140    
   141    # -------------------------------------------------------------------------------------
   142    # Classifiers - PEP 301
   143    
   144    
   145    def _download_classifiers() -> str:
   146        import ssl
   147        from email.message import Message
   148        from urllib.request import urlopen
   149    
   150        url = "https://pypi.org/pypi?:action=list_classifiers"
   151        context = ssl.create_default_context()
   152        with urlopen(url, context=context) as response:  # noqa: S310 (audit URLs)
   153            headers = Message()
   154            headers["content_type"] = response.getheader("content-type", "text/plain")
   155            return response.read().decode(headers.get_param("charset", "utf-8"))  # type: ignore[no-any-return]
   156    
   157    
   158    class _TroveClassifier:
   159        """The ``trove_classifiers`` package is the official way of validating classifiers,
   160        however this package might not be always available.
   161        As a workaround we can still download a list from PyPI.
   162        We also don't want to be over strict about it, so simply skipping silently is an
   163        option (classifiers will be validated anyway during the upload to PyPI).
   164        """
   165    
   166        downloaded: typing.Union[None, "Literal[False]", typing.Set[str]]
   167        """
   168        None => not cached yet
   169        False => unavailable
   170        set => cached values
   171        """
   172    
   173        def __init__(self) -> None:
   174            self.downloaded = None
   175            self._skip_download = False
   176            self.__name__ = "trove_classifier"  # Emulate a public function
   177    
   178        def _disable_download(self) -> None:
   179            # This is a private API. Only setuptools has the consent of using it.
   180            self._skip_download = True
   181    
   182        def __call__(self, value: str) -> bool:
   183            if self.downloaded is False or self._skip_download is True:
   184                return True
   185    
   186            if os.getenv("NO_NETWORK") or os.getenv("VALIDATE_PYPROJECT_NO_NETWORK"):
   187                self.downloaded = False
   188                msg = (
   189                    "Install ``trove-classifiers`` to ensure proper validation. "
   190                    "Skipping download of classifiers list from PyPI (NO_NETWORK)."
   191                )
   192                _logger.debug(msg)
   193                return True
   194    
   195            if self.downloaded is None:
   196                msg = (
   197                    "Install ``trove-classifiers`` to ensure proper validation. "
   198                    "Meanwhile a list of classifiers will be downloaded from PyPI."
   199                )
   200                _logger.debug(msg)
   201                try:
   202                    self.downloaded = set(_download_classifiers().splitlines())
   203                except Exception:
   204                    self.downloaded = False
   205                    _logger.debug("Problem with download, skipping validation")
   206                    return True
   207    
   208            return value in self.downloaded or value.lower().startswith("private ::")
   209    
   210    
   211    try:
   212        from trove_classifiers import classifiers as _trove_classifiers
   213    
   214        def trove_classifier(value: str) -> bool:
   215            """See https://pypi.org/classifiers/"""
   216            return value in _trove_classifiers or value.lower().startswith("private ::")
   217    
   218    except ImportError:  # pragma: no cover
   219        trove_classifier = _TroveClassifier()
   220    
   221    
   222    # -------------------------------------------------------------------------------------
   223    # Stub packages - PEP 561
   224    
   225    
   226    def pep561_stub_name(value: str) -> bool:
   227        """Name of a directory containing type stubs.
   228        It must follow the name scheme ``<package>-stubs`` as defined in
   229        :pep:`561#stub-only-packages`.
   230        """
   231        top, *children = value.split(".")
   232        if not top.endswith("-stubs"):
   233            return False
   234        return python_module_name(".".join([top[: -len("-stubs")], *children]))
   235    
   236    
   237    # -------------------------------------------------------------------------------------
   238    # Non-PEP related
   239    
   240    
   241    def url(value: str) -> bool:
   242        """Valid URL (validation uses :obj:`urllib.parse`).
   243        For maximum compatibility please make sure to include a ``scheme`` prefix
   244        in your URL (e.g. ``http://``).
   245        """
   246        from urllib.parse import urlparse
   247    
   248        try:
   249            parts = urlparse(value)
   250            if not parts.scheme:
   251                _logger.warning(
   252                    "For maximum compatibility please make sure to include a "
   253                    "`scheme` prefix in your URL (e.g. 'http://'). "
   254                    f"Given value: {value}"
   255                )
   256                if not (value.startswith("/") or value.startswith("\\") or "@" in value):
   257                    parts = urlparse(f"http://{value}")
   258    
   259            return bool(parts.scheme and parts.netloc)
   260        except Exception:
   261            return False
   262    
   263    
   264    # https://packaging.python.org/specifications/entry-points/
   265    ENTRYPOINT_PATTERN = r"[^\[\s=]([^=]*[^\s=])?"
   266    ENTRYPOINT_REGEX = re.compile(f"^{ENTRYPOINT_PATTERN}$", re.I)
   267    RECOMMEDED_ENTRYPOINT_PATTERN = r"[\w.-]+"
   268    RECOMMEDED_ENTRYPOINT_REGEX = re.compile(f"^{RECOMMEDED_ENTRYPOINT_PATTERN}$", re.I)
   269    ENTRYPOINT_GROUP_PATTERN = r"\w+(\.\w+)*"
   270    ENTRYPOINT_GROUP_REGEX = re.compile(f"^{ENTRYPOINT_GROUP_PATTERN}$", re.I)
   271    
   272    
   273    def python_identifier(value: str) -> bool:
   274        """Can be used as identifier in Python.
   275        (Validation uses :obj:`str.isidentifier`).
   276        """
   277        return value.isidentifier()
   278    
   279    
   280    def python_qualified_identifier(value: str) -> bool:
   281        """
   282        Python "dotted identifier", i.e. a sequence of :obj:`python_identifier`
   283        concatenated with ``"."`` (e.g.: ``package.module.submodule``).
   284        """
   285        if value.startswith(".") or value.endswith("."):
   286            return False
   287        return all(python_identifier(m) for m in value.split("."))
   288    
   289    
   290    def python_module_name(value: str) -> bool:
   291        """Module name that can be used in an ``import``-statement in Python.
   292        See :obj:`python_qualified_identifier`.
   293        """
   294        return python_qualified_identifier(value)
   295    
   296    
   297    def python_module_name_relaxed(value: str) -> bool:
   298        """Similar to :obj:`python_module_name`, but relaxed to also accept
   299        dash characters (``-``) and cover special cases like ``pip-run``.
   300    
   301        It is recommended, however, that beginners avoid dash characters,
   302        as they require advanced knowledge about Python internals.
   303    
   304        The following are disallowed:
   305    
   306        * names starting/ending in dashes,
   307        * names ending in ``-stubs`` (potentially collide with :obj:`pep561_stub_name`).
   308        """
   309        if value.startswith("-") or value.endswith("-"):
   310            return False
   311        if value.endswith("-stubs"):
   312            return False  # Avoid collision with PEP 561
   313        return python_module_name(value.replace("-", "_"))
   314    
   315    
   316    def python_entrypoint_group(value: str) -> bool:
   317        """See ``Data model > group`` in the :ref:`PyPA's entry-points specification
   318        <pypa:entry-points>`.
   319        """
   320        return ENTRYPOINT_GROUP_REGEX.match(value) is not None
   321    
   322    
   323    def python_entrypoint_name(value: str) -> bool:
   324        """See ``Data model > name`` in the :ref:`PyPA's entry-points specification
   325        <pypa:entry-points>`.
   326        """
   327        if not ENTRYPOINT_REGEX.match(value):
   328            return False
   329        if not RECOMMEDED_ENTRYPOINT_REGEX.match(value):
   330            msg = f"Entry point `{value}` does not follow recommended pattern: "
   331            msg += RECOMMEDED_ENTRYPOINT_PATTERN
   332            _logger.warning(msg)
   333        return True
   334    
   335    
   336    def python_entrypoint_reference(value: str) -> bool:
   337        """Reference to a Python object using in the format::
   338    
   339            importable.module:object.attr
   340    
   341        See ``Data model >object reference`` in the :ref:`PyPA's entry-points specification
   342        <pypa:entry-points>`.
   343        """
   344        module, _, rest = value.partition(":")
   345        if "[" in rest:
   346            obj, _, extras_ = rest.partition("[")
   347            if extras_.strip()[-1] != "]":
   348                return False
   349            extras = (x.strip() for x in extras_.strip(string.whitespace + "[]").split(","))
   350            if not all(pep508_identifier(e) for e in extras):
   351                return False
   352            _logger.warning(f"`{value}` - using extras for entry points is not recommended")
   353        else:
   354            obj = rest
   355    
   356        module_parts = module.split(".")
   357        identifiers = _chain(module_parts, obj.split(".")) if rest else iter(module_parts)
   358        return all(python_identifier(i.strip()) for i in identifiers)
   359    
   360    
   361    def uint8(value: builtins.int) -> bool:
   362        r"""Unsigned 8-bit integer (:math:`0 \leq x < 2^8`)"""
   363        return 0 <= value < 2**8
   364    
   365    
   366    def uint16(value: builtins.int) -> bool:
   367        r"""Unsigned 16-bit integer (:math:`0 \leq x < 2^{16}`)"""
   368        return 0 <= value < 2**16
   369    
   370    
   371    def uint(value: builtins.int) -> bool:
   372        r"""Unsigned 64-bit integer (:math:`0 \leq x < 2^{64}`)"""
   373        return 0 <= value < 2**64
   374    
   375    
   376    def int(value: builtins.int) -> bool:
   377        r"""Signed 64-bit integer (:math:`-2^{63} \leq x < 2^{63}`)"""
   378        return -(2**63) <= value < 2**63
   379    
   380    
   381    try:
   382        from packaging import licenses as _licenses
   383    
   384        def SPDX(value: str) -> bool:
   385            """See :ref:`PyPA's License-Expression specification
   386            <pypa:core-metadata-license-expression>` (added in :pep:`639`).
   387            """
   388            try:
   389                _licenses.canonicalize_license_expression(value)
   390                return True
   391            except _licenses.InvalidLicenseExpression:
   392                return False
   393    
   394    except ImportError:  # pragma: no cover
   395        _logger.warning(
   396            "Could not find an up-to-date installation of `packaging`. "
   397            "License expressions might not be validated. "
   398            "To enforce validation, please install `packaging>=24.2`."
   399        )
   400    
   401        def SPDX(value: str) -> bool:
   402            return True
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/_validate_pyproject/NOTICE
```NOTICE
     1    The code contained in this directory was automatically generated using the
     2    following command:
     3    
     4        python -m validate_pyproject.pre_compile --output-dir=setuptools/config/_validate_pyproject --enable-plugins setuptools distutils --very-verbose -t setuptools=setuptools/config/setuptools.schema.json -t distutils=setuptools/config/distutils.schema.json
     5    
     6    Please avoid changing it manually.
     7    
     8    
     9    You can report issues or suggest changes directly to `validate-pyproject`
    10    (or to the relevant plugin repository)
    11    
    12    - https://github.com/abravalheri/validate-pyproject/issues
    13    
    14    
    15    ***
    16    
    17    The following files include code from opensource projects
    18    (either as direct copies or modified versions):
    19    
    20    - `fastjsonschema_exceptions.py`:
    21        - project: `fastjsonschema` - licensed under BSD-3-Clause
    22          (https://github.com/horejsek/python-fastjsonschema)
    23    - `extra_validations.py` and `format.py`, `error_reporting.py`:
    24        - project: `validate-pyproject` - licensed under MPL-2.0
    25          (https://github.com/abravalheri/validate-pyproject)
    26    
    27    
    28    Additionally the following files are automatically generated by tools provided
    29    by the same projects:
    30    
    31    - `__init__.py`
    32    - `fastjsonschema_validations.py`
    33    
    34    The relevant copyright notes and licenses are included below.
    35    
    36    
    37    ***
    38    
    39    `fastjsonschema`
    40    ================
    41    
    42    Copyright (c) 2018, Michal Horejsek
    43    All rights reserved.
    44    
    45    Redistribution and use in source and binary forms, with or without modification,
    46    are permitted provided that the following conditions are met:
    47    
    48      Redistributions of source code must retain the above copyright notice, this
    49      list of conditions and the following disclaimer.
    50    
    51      Redistributions in binary form must reproduce the above copyright notice, this
    52      list of conditions and the following disclaimer in the documentation and/or
    53      other materials provided with the distribution.
    54    
    55      Neither the name of the {organization} nor the names of its
    56      contributors may be used to endorse or promote products derived from
    57      this software without specific prior written permission.
    58    
    59    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
    60    ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
    61    WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
    62    DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
    63    ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
    64    (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
    65    LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
    66    ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
    67    (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    68    SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
    69    
    70    
    71    
    72    ***
    73    
    74    `validate-pyproject`
    75    ====================
    76    
    77    Mozilla Public License, version 2.0
    78    
    79    1. Definitions
    80    
    81    1.1. "Contributor"
    82    
    83         means each individual or legal entity that creates, contributes to the
    84         creation of, or owns Covered Software.
    85    
    86    1.2. "Contributor Version"
    87    
    88         means the combination of the Contributions of others (if any) used by a
    89         Contributor and that particular Contributor's Contribution.
    90    
    91    1.3. "Contribution"
    92    
    93         means Covered Software of a particular Contributor.
    94    
    95    1.4. "Covered Software"
    96    
    97         means Source Code Form to which the initial Contributor has attached the
    98         notice in Exhibit A, the Executable Form of such Source Code Form, and
    99         Modifications of such Source Code Form, in each case including portions
   100         thereof.
   101    
   102    1.5. "Incompatible With Secondary Licenses"
   103         means
   104    
   105         a. that the initial Contributor has attached the notice described in
   106            Exhibit B to the Covered Software; or
   107    
   108         b. that the Covered Software was made available under the terms of
   109            version 1.1 or earlier of the License, but not also under the terms of
   110            a Secondary License.
   111    
   112    1.6. "Executable Form"
   113    
   114         means any form of the work other than Source Code Form.
   115    
   116    1.7. "Larger Work"
   117    
   118         means a work that combines Covered Software with other material, in a
   119         separate file or files, that is not Covered Software.
   120    
   121    1.8. "License"
   122    
   123         means this document.
   124    
   125    1.9. "Licensable"
   126    
   127         means having the right to grant, to the maximum extent possible, whether
   128         at the time of the initial grant or subsequently, any and all of the
   129         rights conveyed by this License.
   130    
   131    1.10. "Modifications"
   132    
   133         means any of the following:
   134    
   135         a. any file in Source Code Form that results from an addition to,
   136            deletion from, or modification of the contents of Covered Software; or
   137    
   138         b. any new file in Source Code Form that contains any Covered Software.
   139    
   140    1.11. "Patent Claims" of a Contributor
   141    
   142          means any patent claim(s), including without limitation, method,
   143          process, and apparatus claims, in any patent Licensable by such
   144          Contributor that would be infringed, but for the grant of the License,
   145          by the making, using, selling, offering for sale, having made, import,
   146          or transfer of either its Contributions or its Contributor Version.
   147    
   148    1.12. "Secondary License"
   149    
   150          means either the GNU General Public License, Version 2.0, the GNU Lesser
   151          General Public License, Version 2.1, the GNU Affero General Public
   152          License, Version 3.0, or any later versions of those licenses.
   153    
   154    1.13. "Source Code Form"
   155    
   156          means the form of the work preferred for making modifications.
   157    
   158    1.14. "You" (or "Your")
   159    
   160          means an individual or a legal entity exercising rights under this
   161          License. For legal entities, "You" includes any entity that controls, is
   162          controlled by, or is under common control with You. For purposes of this
   163          definition, "control" means (a) the power, direct or indirect, to cause
   164          the direction or management of such entity, whether by contract or
   165          otherwise, or (b) ownership of more than fifty percent (50%) of the
   166          outstanding shares or beneficial ownership of such entity.
   167    
   168    
   169    2. License Grants and Conditions
   170    
   171    2.1. Grants
   172    
   173         Each Contributor hereby grants You a world-wide, royalty-free,
   174         non-exclusive license:
   175    
   176         a. under intellectual property rights (other than patent or trademark)
   177            Licensable by such Contributor to use, reproduce, make available,
   178            modify, display, perform, distribute, and otherwise exploit its
   179            Contributions, either on an unmodified basis, with Modifications, or
   180            as part of a Larger Work; and
   181    
   182         b. under Patent Claims of such Contributor to make, use, sell, offer for
   183            sale, have made, import, and otherwise transfer either its
   184            Contributions or its Contributor Version.
   185    
   186    2.2. Effective Date
   187    
   188         The licenses granted in Section 2.1 with respect to any Contribution
   189         become effective for each Contribution on the date the Contributor first
   190         distributes such Contribution.
   191    
   192    2.3. Limitations on Grant Scope
   193    
   194         The licenses granted in this Section 2 are the only rights granted under
   195         this License. No additional rights or licenses will be implied from the
   196         distribution or licensing of Covered Software under this License.
   197         Notwithstanding Section 2.1(b) above, no patent license is granted by a
   198         Contributor:
   199    
   200         a. for any code that a Contributor has removed from Covered Software; or
   201    
   202         b. for infringements caused by: (i) Your and any other third party's
   203            modifications of Covered Software, or (ii) the combination of its
   204            Contributions with other software (except as part of its Contributor
   205            Version); or
   206    
   207         c. under Patent Claims infringed by Covered Software in the absence of
   208            its Contributions.
   209    
   210         This License does not grant any rights in the trademarks, service marks,
   211         or logos of any Contributor (except as may be necessary to comply with
   212         the notice requirements in Section 3.4).
   213    
   214    2.4. Subsequent Licenses
   215    
   216         No Contributor makes additional grants as a result of Your choice to
   217         distribute the Covered Software under a subsequent version of this
   218         License (see Section 10.2) or under the terms of a Secondary License (if
   219         permitted under the terms of Section 3.3).
   220    
   221    2.5. Representation
   222    
   223         Each Contributor represents that the Contributor believes its
   224         Contributions are its original creation(s) or it has sufficient rights to
   225         grant the rights to its Contributions conveyed by this License.
   226    
   227    2.6. Fair Use
   228    
   229         This License is not intended to limit any rights You have under
   230         applicable copyright doctrines of fair use, fair dealing, or other
   231         equivalents.
   232    
   233    2.7. Conditions
   234    
   235         Sections 3.1, 3.2, 3.3, and 3.4 are conditions of the licenses granted in
   236         Section 2.1.
   237    
   238    
   239    3. Responsibilities
   240    
   241    3.1. Distribution of Source Form
   242    
   243         All distribution of Covered Software in Source Code Form, including any
   244         Modifications that You create or to which You contribute, must be under
   245         the terms of this License. You must inform recipients that the Source
   246         Code Form of the Covered Software is governed by the terms of this
   247         License, and how they can obtain a copy of this License. You may not
   248         attempt to alter or restrict the recipients' rights in the Source Code
   249         Form.
   250    
   251    3.2. Distribution of Executable Form
   252    
   253         If You distribute Covered Software in Executable Form then:
   254    
   255         a. such Covered Software must also be made available in Source Code Form,
   256            as described in Section 3.1, and You must inform recipients of the
   257            Executable Form how they can obtain a copy of such Source Code Form by
   258            reasonable means in a timely manner, at a charge no more than the cost
   259            of distribution to the recipient; and
   260    
   261         b. You may distribute such Executable Form under the terms of this
   262            License, or sublicense it under different terms, provided that the
   263            license for the Executable Form does not attempt to limit or alter the
   264            recipients' rights in the Source Code Form under this License.
   265    
   266    3.3. Distribution of a Larger Work
   267    
   268         You may create and distribute a Larger Work under terms of Your choice,
   269         provided that You also comply with the requirements of this License for
   270         the Covered Software. If the Larger Work is a combination of Covered
   271         Software with a work governed by one or more Secondary Licenses, and the
   272         Covered Software is not Incompatible With Secondary Licenses, this
   273         License permits You to additionally distribute such Covered Software
   274         under the terms of such Secondary License(s), so that the recipient of
   275         the Larger Work may, at their option, further distribute the Covered
   276         Software under the terms of either this License or such Secondary
   277         License(s).
   278    
   279    3.4. Notices
   280    
   281         You may not remove or alter the substance of any license notices
   282         (including copyright notices, patent notices, disclaimers of warranty, or
   283         limitations of liability) contained within the Source Code Form of the
   284         Covered Software, except that You may alter any license notices to the
   285         extent required to remedy known factual inaccuracies.
   286    
   287    3.5. Application of Additional Terms
   288    
   289         You may choose to offer, and to charge a fee for, warranty, support,
   290         indemnity or liability obligations to one or more recipients of Covered
   291         Software. However, You may do so only on Your own behalf, and not on
   292         behalf of any Contributor. You must make it absolutely clear that any
   293         such warranty, support, indemnity, or liability obligation is offered by
   294         You alone, and You hereby agree to indemnify every Contributor for any
   295         liability incurred by such Contributor as a result of warranty, support,
   296         indemnity or liability terms You offer. You may include additional
   297         disclaimers of warranty and limitations of liability specific to any
   298         jurisdiction.
   299    
   300    4. Inability to Comply Due to Statute or Regulation
   301    
   302       If it is impossible for You to comply with any of the terms of this License
   303       with respect to some or all of the Covered Software due to statute,
   304       judicial order, or regulation then You must: (a) comply with the terms of
   305       this License to the maximum extent possible; and (b) describe the
   306       limitations and the code they affect. Such description must be placed in a
   307       text file included with all distributions of the Covered Software under
   308       this License. Except to the extent prohibited by statute or regulation,
   309       such description must be sufficiently detailed for a recipient of ordinary
   310       skill to be able to understand it.
   311    
   312    5. Termination
   313    
   314    5.1. The rights granted under this License will terminate automatically if You
   315         fail to comply with any of its terms. However, if You become compliant,
   316         then the rights granted under this License from a particular Contributor
   317         are reinstated (a) provisionally, unless and until such Contributor
   318         explicitly and finally terminates Your grants, and (b) on an ongoing
   319         basis, if such Contributor fails to notify You of the non-compliance by
   320         some reasonable means prior to 60 days after You have come back into
   321         compliance. Moreover, Your grants from a particular Contributor are
   322         reinstated on an ongoing basis if such Contributor notifies You of the
   323         non-compliance by some reasonable means, this is the first time You have
   324         received notice of non-compliance with this License from such
   325         Contributor, and You become compliant prior to 30 days after Your receipt
   326         of the notice.
   327    
   328    5.2. If You initiate litigation against any entity by asserting a patent
   329         infringement claim (excluding declaratory judgment actions,
   330         counter-claims, and cross-claims) alleging that a Contributor Version
   331         directly or indirectly infringes any patent, then the rights granted to
   332         You by any and all Contributors for the Covered Software under Section
   333         2.1 of this License shall terminate.
   334    
   335    5.3. In the event of termination under Sections 5.1 or 5.2 above, all end user
   336         license agreements (excluding distributors and resellers) which have been
   337         validly granted by You or Your distributors under this License prior to
   338         termination shall survive termination.
   339    
   340    6. Disclaimer of Warranty
   341    
   342       Covered Software is provided under this License on an "as is" basis,
   343       without warranty of any kind, either expressed, implied, or statutory,
   344       including, without limitation, warranties that the Covered Software is free
   345       of defects, merchantable, fit for a particular purpose or non-infringing.
   346       The entire risk as to the quality and performance of the Covered Software
   347       is with You. Should any Covered Software prove defective in any respect,
   348       You (not any Contributor) assume the cost of any necessary servicing,
   349       repair, or correction. This disclaimer of warranty constitutes an essential
   350       part of this License. No use of  any Covered Software is authorized under
   351       this License except under this disclaimer.
   352    
   353    7. Limitation of Liability
   354    
   355       Under no circumstances and under no legal theory, whether tort (including
   356       negligence), contract, or otherwise, shall any Contributor, or anyone who
   357       distributes Covered Software as permitted above, be liable to You for any
   358       direct, indirect, special, incidental, or consequential damages of any
   359       character including, without limitation, damages for lost profits, loss of
   360       goodwill, work stoppage, computer failure or malfunction, or any and all
   361       other commercial damages or losses, even if such party shall have been
   362       informed of the possibility of such damages. This limitation of liability
   363       shall not apply to liability for death or personal injury resulting from
   364       such party's negligence to the extent applicable law prohibits such
   365       limitation. Some jurisdictions do not allow the exclusion or limitation of
   366       incidental or consequential damages, so this exclusion and limitation may
   367       not apply to You.
   368    
   369    8. Litigation
   370    
   371       Any litigation relating to this License may be brought only in the courts
   372       of a jurisdiction where the defendant maintains its principal place of
   373       business and such litigation shall be governed by laws of that
   374       jurisdiction, without reference to its conflict-of-law provisions. Nothing
   375       in this Section shall prevent a party's ability to bring cross-claims or
   376       counter-claims.
   377    
   378    9. Miscellaneous
   379    
   380       This License represents the complete agreement concerning the subject
   381       matter hereof. If any provision of this License is held to be
   382       unenforceable, such provision shall be reformed only to the extent
   383       necessary to make it enforceable. Any law or regulation which provides that
   384       the language of a contract shall be construed against the drafter shall not
   385       be used to construe this License against a Contributor.
   386    
   387    
   388    10. Versions of the License
   389    
   390    10.1. New Versions
   391    
   392          Mozilla Foundation is the license steward. Except as provided in Section
   393          10.3, no one other than the license steward has the right to modify or
   394          publish new versions of this License. Each version will be given a
   395          distinguishing version number.
   396    
   397    10.2. Effect of New Versions
   398    
   399          You may distribute the Covered Software under the terms of the version
   400          of the License under which You originally received the Covered Software,
   401          or under the terms of any subsequent version published by the license
   402          steward.
   403    
   404    10.3. Modified Versions
   405    
   406          If you create software not governed by this License, and you want to
   407          create a new license for such software, you may create and use a
   408          modified version of this License if you rename the license and remove
   409          any references to the name of the license steward (except to note that
   410          such modified license differs from this License).
   411    
   412    10.4. Distributing Source Code Form that is Incompatible With Secondary
   413          Licenses If You choose to distribute Source Code Form that is
   414          Incompatible With Secondary Licenses under the terms of this version of
   415          the License, the notice described in Exhibit B of this License must be
   416          attached.
   417    
   418    Exhibit A - Source Code Form License Notice
   419    
   420          This Source Code Form is subject to the
   421          terms of the Mozilla Public License, v.
   422          2.0. If a copy of the MPL was not
   423          distributed with this file, You can
   424          obtain one at
   425          https://mozilla.org/MPL/2.0/.
   426    
   427    If it is not possible or desirable to put the notice in a particular file,
   428    then You may include the notice in a location (such as a LICENSE file in a
   429    relevant directory) where a recipient would be likely to look for such a
   430    notice.
   431    
   432    You may add additional accurate notices of copyright ownership.
   433    
   434    Exhibit B - "Incompatible With Secondary Licenses" Notice
   435    
   436          This Source Code Form is "Incompatible
   437          With Secondary Licenses", as defined by
   438          the Mozilla Public License, v. 2.0.
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/_validate_pyproject/extra_validations.py
```extra_validations.py
     1    """The purpose of this module is implement PEP 621 validations that are
     2    difficult to express as a JSON Schema (or that are not supported by the current
     3    JSON Schema library).
     4    """
     5    
     6    from inspect import cleandoc
     7    from typing import Mapping, TypeVar
     8    
     9    from .error_reporting import ValidationError
    10    
    11    T = TypeVar("T", bound=Mapping)
    12    
    13    
    14    class RedefiningStaticFieldAsDynamic(ValidationError):
    15        _DESC = """According to PEP 621:
    16    
    17        Build back-ends MUST raise an error if the metadata specifies a field
    18        statically as well as being listed in dynamic.
    19        """
    20        __doc__ = _DESC
    21        _URL = (
    22            "https://packaging.python.org/en/latest/specifications/"
    23            "pyproject-toml/#dynamic"
    24        )
    25    
    26    
    27    class IncludedDependencyGroupMustExist(ValidationError):
    28        _DESC = """An included dependency group must exist and must not be cyclic.
    29        """
    30        __doc__ = _DESC
    31        _URL = "https://peps.python.org/pep-0735/"
    32    
    33    
    34    def validate_project_dynamic(pyproject: T) -> T:
    35        project_table = pyproject.get("project", {})
    36        dynamic = project_table.get("dynamic", [])
    37    
    38        for field in dynamic:
    39            if field in project_table:
    40                raise RedefiningStaticFieldAsDynamic(
    41                    message=f"You cannot provide a value for `project.{field}` and "
    42                    "list it under `project.dynamic` at the same time",
    43                    value={
    44                        field: project_table[field],
    45                        "...": " # ...",
    46                        "dynamic": dynamic,
    47                    },
    48                    name=f"data.project.{field}",
    49                    definition={
    50                        "description": cleandoc(RedefiningStaticFieldAsDynamic._DESC),
    51                        "see": RedefiningStaticFieldAsDynamic._URL,
    52                    },
    53                    rule="PEP 621",
    54                )
    55    
    56        return pyproject
    57    
    58    
    59    def validate_include_depenency(pyproject: T) -> T:
    60        dependency_groups = pyproject.get("dependency-groups", {})
    61        for key, value in dependency_groups.items():
    62            for each in value:
    63                if (
    64                    isinstance(each, dict)
    65                    and (include_group := each.get("include-group"))
    66                    and include_group not in dependency_groups
    67                ):
    68                    raise IncludedDependencyGroupMustExist(
    69                        message=f"The included dependency group {include_group} doesn't exist",
    70                        value=each,
    71                        name=f"data.dependency_groups.{key}",
    72                        definition={
    73                            "description": cleandoc(IncludedDependencyGroupMustExist._DESC),
    74                            "see": IncludedDependencyGroupMustExist._URL,
    75                        },
    76                        rule="PEP 735",
    77                    )
    78        # TODO: check for `include-group` cycles (can be conditional to graphlib)
    79        return pyproject
    80    
    81    
    82    EXTRA_VALIDATIONS = (validate_project_dynamic, validate_include_depenency)
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/_validate_pyproject/fastjsonschema_exceptions.py
```fastjsonschema_exceptions.py
     1    import re
     2    
     3    
     4    SPLIT_RE = re.compile(r'[\.\[\]]+')
     5    
     6    
     7    class JsonSchemaException(ValueError):
     8        """
     9        Base exception of ``fastjsonschema`` library.
    10        """
    11    
    12    
    13    class JsonSchemaValueException(JsonSchemaException):
    14        """
    15        Exception raised by validation function. Available properties:
    16    
    17         * ``message`` containing human-readable information what is wrong (e.g. ``data.property[index] must be smaller than or equal to 42``),
    18         * invalid ``value`` (e.g. ``60``),
    19         * ``name`` of a path in the data structure (e.g. ``data.property[index]``),
    20         * ``path`` as an array in the data structure (e.g. ``['data', 'property', 'index']``),
    21         * the whole ``definition`` which the ``value`` has to fulfil (e.g. ``{'type': 'number', 'maximum': 42}``),
    22         * ``rule`` which the ``value`` is breaking (e.g. ``maximum``)
    23         * and ``rule_definition`` (e.g. ``42``).
    24    
    25        .. versionchanged:: 2.14.0
    26            Added all extra properties.
    27        """
    28    
    29        def __init__(self, message, value=None, name=None, definition=None, rule=None):
    30            super().__init__(message)
    31            self.message = message
    32            self.value = value
    33            self.name = name
    34            self.definition = definition
    35            self.rule = rule
    36    
    37        @property
    38        def path(self):
    39            return [item for item in SPLIT_RE.split(self.name) if item != '']
    40    
    41        @property
    42        def rule_definition(self):
    43            if not self.rule or not self.definition:
    44                return None
    45            return self.definition.get(self.rule)
    46    
    47    
    48    class JsonSchemaDefinitionException(JsonSchemaException):
    49        """
    50        Exception raised by generator of validation function.
    51        """
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/_validate_pyproject/__init__.py
```__init__.py
     1    from functools import reduce
     2    from typing import Any, Callable, Dict
     3    
     4    from . import formats
     5    from .error_reporting import detailed_errors, ValidationError
     6    from .extra_validations import EXTRA_VALIDATIONS
     7    from .fastjsonschema_exceptions import JsonSchemaException, JsonSchemaValueException
     8    from .fastjsonschema_validations import validate as _validate
     9    
    10    __all__ = [
    11        "validate",
    12        "FORMAT_FUNCTIONS",
    13        "EXTRA_VALIDATIONS",
    14        "ValidationError",
    15        "JsonSchemaException",
    16        "JsonSchemaValueException",
    17    ]
    18    
    19    
    20    FORMAT_FUNCTIONS: Dict[str, Callable[[str], bool]] = {
    21        fn.__name__.replace("_", "-"): fn
    22        for fn in formats.__dict__.values()
    23        if callable(fn) and not fn.__name__.startswith("_")
    24    }
    25    
    26    
    27    def validate(data: Any) -> bool:
    28        """Validate the given ``data`` object using JSON Schema
    29        This function raises ``ValidationError`` if ``data`` is invalid.
    30        """
    31        with detailed_errors():
    32            _validate(data, custom_formats=FORMAT_FUNCTIONS)
    33            reduce(lambda acc, fn: fn(acc), EXTRA_VALIDATIONS, data)
    34        return True
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/_validate_pyproject/error_reporting.py
```error_reporting.py
     1    import io
     2    import json
     3    import logging
     4    import os
     5    import re
     6    import typing
     7    from contextlib import contextmanager
     8    from textwrap import indent, wrap
     9    from typing import Any, Dict, Generator, Iterator, List, Optional, Sequence, Union
    10    
    11    from .fastjsonschema_exceptions import JsonSchemaValueException
    12    
    13    if typing.TYPE_CHECKING:
    14        import sys
    15    
    16        if sys.version_info < (3, 11):
    17            from typing_extensions import Self
    18        else:
    19            from typing import Self
    20    
    21    _logger = logging.getLogger(__name__)
    22    
    23    _MESSAGE_REPLACEMENTS = {
    24        "must be named by propertyName definition": "keys must be named by",
    25        "one of contains definition": "at least one item that matches",
    26        " same as const definition:": "",
    27        "only specified items": "only items matching the definition",
    28    }
    29    
    30    _SKIP_DETAILS = (
    31        "must not be empty",
    32        "is always invalid",
    33        "must not be there",
    34    )
    35    
    36    _NEED_DETAILS = {"anyOf", "oneOf", "allOf", "contains", "propertyNames", "not", "items"}
    37    
    38    _CAMEL_CASE_SPLITTER = re.compile(r"\W+|([A-Z][^A-Z\W]*)")
    39    _IDENTIFIER = re.compile(r"^[\w_]+$", re.I)
    40    
    41    _TOML_JARGON = {
    42        "object": "table",
    43        "property": "key",
    44        "properties": "keys",
    45        "property names": "keys",
    46    }
    47    
    48    _FORMATS_HELP = """
    49    For more details about `format` see
    50    https://validate-pyproject.readthedocs.io/en/latest/api/validate_pyproject.formats.html
    51    """
    52    
    53    
    54    class ValidationError(JsonSchemaValueException):
    55        """Report violations of a given JSON schema.
    56    
    57        This class extends :exc:`~fastjsonschema.JsonSchemaValueException`
    58        by adding the following properties:
    59    
    60        - ``summary``: an improved version of the ``JsonSchemaValueException`` error message
    61          with only the necessary information)
    62    
    63        - ``details``: more contextual information about the error like the failing schema
    64          itself and the value that violates the schema.
    65    
    66        Depending on the level of the verbosity of the ``logging`` configuration
    67        the exception message will be only ``summary`` (default) or a combination of
    68        ``summary`` and ``details`` (when the logging level is set to :obj:`logging.DEBUG`).
    69        """
    70    
    71        summary = ""
    72        details = ""
    73        _original_message = ""
    74    
    75        @classmethod
    76        def _from_jsonschema(cls, ex: JsonSchemaValueException) -> "Self":
    77            formatter = _ErrorFormatting(ex)
    78            obj = cls(str(formatter), ex.value, formatter.name, ex.definition, ex.rule)
    79            debug_code = os.getenv("JSONSCHEMA_DEBUG_CODE_GENERATION", "false").lower()
    80            if debug_code != "false":  # pragma: no cover
    81                obj.__cause__, obj.__traceback__ = ex.__cause__, ex.__traceback__
    82            obj._original_message = ex.message
    83            obj.summary = formatter.summary
    84            obj.details = formatter.details
    85            return obj
    86    
    87    
    88    @contextmanager
    89    def detailed_errors() -> Generator[None, None, None]:
    90        try:
    91            yield
    92        except JsonSchemaValueException as ex:
    93            raise ValidationError._from_jsonschema(ex) from None
    94    
    95    
    96    class _ErrorFormatting:
    97        def __init__(self, ex: JsonSchemaValueException):
    98            self.ex = ex
    99            self.name = f"`{self._simplify_name(ex.name)}`"
   100            self._original_message: str = self.ex.message.replace(ex.name, self.name)
   101            self._summary = ""
   102            self._details = ""
   103    
   104        def __str__(self) -> str:
   105            if _logger.getEffectiveLevel() <= logging.DEBUG and self.details:
   106                return f"{self.summary}\n\n{self.details}"
   107    
   108            return self.summary
   109    
   110        @property
   111        def summary(self) -> str:
   112            if not self._summary:
   113                self._summary = self._expand_summary()
   114    
   115            return self._summary
   116    
   117        @property
   118        def details(self) -> str:
   119            if not self._details:
   120                self._details = self._expand_details()
   121    
   122            return self._details
   123    
   124        @staticmethod
   125        def _simplify_name(name: str) -> str:
   126            x = len("data.")
   127            return name[x:] if name.startswith("data.") else name
   128    
   129        def _expand_summary(self) -> str:
   130            msg = self._original_message
   131    
   132            for bad, repl in _MESSAGE_REPLACEMENTS.items():
   133                msg = msg.replace(bad, repl)
   134    
   135            if any(substring in msg for substring in _SKIP_DETAILS):
   136                return msg
   137    
   138            schema = self.ex.rule_definition
   139            if self.ex.rule in _NEED_DETAILS and schema:
   140                summary = _SummaryWriter(_TOML_JARGON)
   141                return f"{msg}:\n\n{indent(summary(schema), '    ')}"
   142    
   143            return msg
   144    
   145        def _expand_details(self) -> str:
   146            optional = []
   147            definition = self.ex.definition or {}
   148            desc_lines = definition.pop("$$description", [])
   149            desc = definition.pop("description", None) or " ".join(desc_lines)
   150            if desc:
   151                description = "\n".join(
   152                    wrap(
   153                        desc,
   154                        width=80,
   155                        initial_indent="    ",
   156                        subsequent_indent="    ",
   157                        break_long_words=False,
   158                    )
   159                )
   160                optional.append(f"DESCRIPTION:\n{description}")
   161            schema = json.dumps(definition, indent=4)
   162            value = json.dumps(self.ex.value, indent=4)
   163            defaults = [
   164                f"GIVEN VALUE:\n{indent(value, '    ')}",
   165                f"OFFENDING RULE: {self.ex.rule!r}",
   166                f"DEFINITION:\n{indent(schema, '    ')}",
   167            ]
   168            msg = "\n\n".join(optional + defaults)
   169            epilog = f"\n{_FORMATS_HELP}" if "format" in msg.lower() else ""
   170            return msg + epilog
   171    
   172    
   173    class _SummaryWriter:
   174        _IGNORE = frozenset(("description", "default", "title", "examples"))
   175    
   176        def __init__(self, jargon: Optional[Dict[str, str]] = None):
   177            self.jargon: Dict[str, str] = jargon or {}
   178            # Clarify confusing terms
   179            self._terms = {
   180                "anyOf": "at least one of the following",
   181                "oneOf": "exactly one of the following",
   182                "allOf": "all of the following",
   183                "not": "(*NOT* the following)",
   184                "prefixItems": f"{self._jargon('items')} (in order)",
   185                "items": "items",
   186                "contains": "contains at least one of",
   187                "propertyNames": (
   188                    f"non-predefined acceptable {self._jargon('property names')}"
   189                ),
   190                "patternProperties": f"{self._jargon('properties')} named via pattern",
   191                "const": "predefined value",
   192                "enum": "one of",
   193            }
   194            # Attributes that indicate that the definition is easy and can be done
   195            # inline (e.g. string and number)
   196            self._guess_inline_defs = [
   197                "enum",
   198                "const",
   199                "maxLength",
   200                "minLength",
   201                "pattern",
   202                "format",
   203                "minimum",
   204                "maximum",
   205                "exclusiveMinimum",
   206                "exclusiveMaximum",
   207                "multipleOf",
   208            ]
   209    
   210        def _jargon(self, term: Union[str, List[str]]) -> Union[str, List[str]]:
   211            if isinstance(term, list):
   212                return [self.jargon.get(t, t) for t in term]
   213            return self.jargon.get(term, term)
   214    
   215        def __call__(
   216            self,
   217            schema: Union[dict, List[dict]],
   218            prefix: str = "",
   219            *,
   220            _path: Sequence[str] = (),
   221        ) -> str:
   222            if isinstance(schema, list):
   223                return self._handle_list(schema, prefix, _path)
   224    
   225            filtered = self._filter_unecessary(schema, _path)
   226            simple = self._handle_simple_dict(filtered, _path)
   227            if simple:
   228                return f"{prefix}{simple}"
   229    
   230            child_prefix = self._child_prefix(prefix, "  ")
   231            item_prefix = self._child_prefix(prefix, "- ")
   232            indent = len(prefix) * " "
   233            with io.StringIO() as buffer:
   234                for i, (key, value) in enumerate(filtered.items()):
   235                    child_path = [*_path, key]
   236                    line_prefix = prefix if i == 0 else indent
   237                    buffer.write(f"{line_prefix}{self._label(child_path)}:")
   238                    # ^  just the first item should receive the complete prefix
   239                    if isinstance(value, dict):
   240                        filtered = self._filter_unecessary(value, child_path)
   241                        simple = self._handle_simple_dict(filtered, child_path)
   242                        buffer.write(
   243                            f" {simple}"
   244                            if simple
   245                            else f"\n{self(value, child_prefix, _path=child_path)}"
   246                        )
   247                    elif isinstance(value, list) and (
   248                        key != "type" or self._is_property(child_path)
   249                    ):
   250                        children = self._handle_list(value, item_prefix, child_path)
   251                        sep = " " if children.startswith("[") else "\n"
   252                        buffer.write(f"{sep}{children}")
   253                    else:
   254                        buffer.write(f" {self._value(value, child_path)}\n")
   255                return buffer.getvalue()
   256    
   257        def _is_unecessary(self, path: Sequence[str]) -> bool:
   258            if self._is_property(path) or not path:  # empty path => instruction @ root
   259                return False
   260            key = path[-1]
   261            return any(key.startswith(k) for k in "$_") or key in self._IGNORE
   262    
   263        def _filter_unecessary(
   264            self, schema: Dict[str, Any], path: Sequence[str]
   265        ) -> Dict[str, Any]:
   266            return {
   267                key: value
   268                for key, value in schema.items()
   269                if not self._is_unecessary([*path, key])
   270            }
   271    
   272        def _handle_simple_dict(self, value: dict, path: Sequence[str]) -> Optional[str]:
   273            inline = any(p in value for p in self._guess_inline_defs)
   274            simple = not any(isinstance(v, (list, dict)) for v in value.values())
   275            if inline or simple:
   276                return f"{{{', '.join(self._inline_attrs(value, path))}}}\n"
   277            return None
   278    
   279        def _handle_list(
   280            self, schemas: list, prefix: str = "", path: Sequence[str] = ()
   281        ) -> str:
   282            if self._is_unecessary(path):
   283                return ""
   284    
   285            repr_ = repr(schemas)
   286            if all(not isinstance(e, (dict, list)) for e in schemas) and len(repr_) < 60:
   287                return f"{repr_}\n"
   288    
   289            item_prefix = self._child_prefix(prefix, "- ")
   290            return "".join(
   291                self(v, item_prefix, _path=[*path, f"[{i}]"]) for i, v in enumerate(schemas)
   292            )
   293    
   294        def _is_property(self, path: Sequence[str]) -> bool:
   295            """Check if the given path can correspond to an arbitrarily named property"""
   296            counter = 0
   297            for key in path[-2::-1]:
   298                if key not in {"properties", "patternProperties"}:
   299                    break
   300                counter += 1
   301    
   302            # If the counter if even, the path correspond to a JSON Schema keyword
   303            # otherwise it can be any arbitrary string naming a property
   304            return counter % 2 == 1
   305    
   306        def _label(self, path: Sequence[str]) -> str:
   307            *parents, key = path
   308            if not self._is_property(path):
   309                norm_key = _separate_terms(key)
   310                return self._terms.get(key) or " ".join(self._jargon(norm_key))
   311    
   312            if parents[-1] == "patternProperties":
   313                return f"(regex {key!r})"
   314            return repr(key)  # property name
   315    
   316        def _value(self, value: Any, path: Sequence[str]) -> str:
   317            if path[-1] == "type" and not self._is_property(path):
   318                type_ = self._jargon(value)
   319                return f"[{', '.join(type_)}]" if isinstance(type_, list) else type_
   320            return repr(value)
   321    
   322        def _inline_attrs(self, schema: dict, path: Sequence[str]) -> Iterator[str]:
   323            for key, value in schema.items():
   324                child_path = [*path, key]
   325                yield f"{self._label(child_path)}: {self._value(value, child_path)}"
   326    
   327        def _child_prefix(self, parent_prefix: str, child_prefix: str) -> str:
   328            return len(parent_prefix) * " " + child_prefix
   329    
   330    
   331    def _separate_terms(word: str) -> List[str]:
   332        """
   333        >>> _separate_terms("FooBar-foo")
   334        ['foo', 'bar', 'foo']
   335        """
   336        return [w.lower() for w in _CAMEL_CASE_SPLITTER.split(word) if w]
```

## File: ./.venv/lib/python3.12/site-packages/setuptools/config/expand.py
```expand.py
     1    """Utility functions to expand configuration directives or special values
     2    (such glob patterns).
     3    
     4    We can split the process of interpreting configuration files into 2 steps:
     5    
     6    1. The parsing the file contents from strings to value objects
     7       that can be understand by Python (for example a string with a comma
     8       separated list of keywords into an actual Python list of strings).
     9    
    10    2. The expansion (or post-processing) of these values according to the
    11       semantics ``setuptools`` assign to them (for example a configuration field
    12       with the ``file:`` directive should be expanded from a list of file paths to
    13       a single string with the contents of those files concatenated)
    14    
    15    This module focus on the second step, and therefore allow sharing the expansion
    16    functions among several configuration file formats.
    17    
    18    **PRIVATE MODULE**: API reserved for setuptools internal usage only.
    19    """
    20    
    21    from __future__ import annotations
    22    
    23    import ast
    24    import importlib
    25    import os
    26    import pathlib
    27    import sys
    28    from collections.abc import Iterable, Iterator, Mapping
    29    from configparser import ConfigParser
    30    from glob import iglob
    31    from importlib.machinery import ModuleSpec, all_suffixes
    32    from itertools import chain
    33    from pathlib import Path
    34    from types import ModuleType, TracebackType
    35    from typing import TYPE_CHECKING, Any, Callable, TypeVar
    36    
    37    from .. import _static
    38    from .._path import StrPath, same_path as _same_path
    39    from ..discovery import find_package_path
    40    from ..warnings import SetuptoolsWarning
    41    
    42    from distutils.errors import DistutilsOptionError
    43    
    44    if TYPE_CHECKING:
    45        from typing_extensions import Self
    46    
    47        from setuptools.dist import Distribution
    48    
    49    _K = TypeVar("_K")
    50    _V_co = TypeVar("_V_co", covariant=True)
    51    
    52    
    53    class StaticModule:
    54        """Proxy to a module object that avoids executing arbitrary code."""
    55    
    56        def __init__(self, name: str, spec: ModuleSpec) -> None:
    57            module = ast.parse(pathlib.Path(spec.origin).read_bytes())  # type: ignore[arg-type] # Let it raise an error on None
    58            vars(self).update(locals())
    59            del self.self
    60    
    61        def _find_assignments(self) -> Iterator[tuple[ast.AST, ast.AST]]:
    62            for statement in self.module.body:
    63                if isinstance(statement, ast.Assign):
    64                    yield from ((target, statement.value) for target in statement.targets)
    65                elif isinstance(statement, ast.AnnAssign) and statement.value:
    66                    yield (statement.target, statement.value)
    67    
    68        def __getattr__(self, attr: str):
    69            """Attempt to load an attribute "statically", via :func:`ast.literal_eval`."""
    70            try:
    71                return next(
    72                    ast.literal_eval(value)
    73                    for target, value in self._find_assignments()
    74                    if isinstance(target, ast.Name) and target.id == attr
    75                )
    76            except Exception as e:
    77                raise AttributeError(f"{self.name} has no attribute {attr}") from e
    78    
    79    
    80    def glob_relative(
    81        patterns: Iterable[str], root_dir: StrPath | None = None
    82    ) -> list[str]:
    83        """Expand the list of glob patterns, but preserving relative paths.
    84    
    85        :param list[str] patterns: List of glob patterns
    86        :param str root_dir: Path to which globs should be relative
    87                             (current directory by default)
    88        :rtype: list
    89        """
    90        glob_characters = {'*', '?', '[', ']', '{', '}'}
    91        expanded_values = []
    92        root_dir = root_dir or os.getcwd()
    93        for value in patterns:
    94            # Has globby characters?
    95            if any(char in value for char in glob_characters):
    96                # then expand the glob pattern while keeping paths *relative*:
    97                glob_path = os.path.abspath(os.path.join(root_dir, value))
    98                expanded_values.extend(
    99                    sorted(
   100                        os.path.relpath(path, root_dir).replace(os.sep, "/")
   101                        for path in iglob(glob_path, recursive=True)
   102                    )
   103                )
   104    
   105            else:
   106                # take the value as-is
   107                path = os.path.relpath(value, root_dir).replace(os.sep, "/")
   108                expanded_values.append(path)
   109    
   110        return expanded_values
   111    
   112    
   113    def read_files(
   114        filepaths: StrPath | Iterable[StrPath], root_dir: StrPath | None = None
   115    ) -> str:
   116        """Return the content of the files concatenated using ``\n`` as str
   117    
   118        This function is sandboxed and won't reach anything outside ``root_dir``
   119    
   120        (By default ``root_dir`` is the current directory).
   121        """
   122        from more_itertools import always_iterable
   123    
   124        root_dir = os.path.abspath(root_dir or os.getcwd())
   125        _filepaths = (os.path.join(root_dir, path) for path in always_iterable(filepaths))
   126        return '\n'.join(
   127            _read_file(path)
   128            for path in _filter_existing_files(_filepaths)
   129            if _assert_local(path, root_dir)
   130        )
   131    
   132    
   133    def _filter_existing_files(filepaths: Iterable[StrPath]) -> Iterator[StrPath]:
   134        for path in filepaths:
   135            if os.path.isfile(path):
   136                yield path
   137            else:
   138                SetuptoolsWarning.emit(f"File {path!r} cannot be found")
   139    
   140    
   141    def _read_file(filepath: bytes | StrPath) -> str:
   142        with open(filepath, encoding='utf-8') as f:
   143            return f.read()
   144    
   145    
   146    def _assert_local(filepath: StrPath, root_dir: str):
   147        if Path(os.path.abspath(root_dir)) not in Path(os.path.abspath(filepath)).parents:
   148            msg = f"Cannot access {filepath!r} (or anything outside {root_dir!r})"
   149            raise DistutilsOptionError(msg)
   150    
   151        return True
   152    
   153    
   154    def read_attr(
   155        attr_desc: str,
   156        package_dir: Mapping[str, str] | None = None,
   157        root_dir: StrPath | None = None,
   158    ) -> Any:
   159        """Reads the value of an attribute from a module.
   160    
   161        This function will try to read the attributed statically first
   162        (via :func:`ast.literal_eval`), and only evaluate the module if it fails.
   163    
   164        Examples:
   165            read_attr("package.attr")
   166            read_attr("package.module.attr")
   167    
   168        :param str attr_desc: Dot-separated string describing how to reach the
   169            attribute (see examples above)
   170        :param dict[str, str] package_dir: Mapping of package names to their
   171            location in disk (represented by paths relative to ``root_dir``).
   172        :param str root_dir: Path to directory containing all the packages in
   173            ``package_dir`` (current directory by default).
   174        :rtype: str
   175        """
   176        root_dir = root_dir or os.getcwd()
   177        attrs_path = attr_desc.strip().split('.')
   178        attr_name = attrs_path.pop()
   179        module_name = '.'.join(attrs_path)
   180        module_name = module_name or '__init__'
   181        path = _find_module(module_name, package_dir, root_dir)
   182        spec = _find_spec(module_name, path)
   183    
   184        try:
   185            value = getattr(StaticModule(module_name, spec), attr_name)
   186            # XXX: Is marking as static contents coming from modules too optimistic?
   187            return _static.attempt_conversion(value)
   188        except Exception:
   189            # fallback to evaluate module
   190            module = _load_spec(spec, module_name)
   191            return getattr(module, attr_name)
   192    
   193    
   194    def _find_spec(module_name: str, module_path: StrPath | None) -> ModuleSpec:
   195        spec = importlib.util.spec_from_file_location(module_name, module_path)
   196        spec = spec or importlib.util.find_spec(module_name)
   197    
   198        if spec is None:
   199            raise ModuleNotFoundError(module_name)
   200    
   201        return spec
   202    
   203    
   204    def _load_spec(spec: ModuleSpec, module_name: str) -> ModuleType:
   205        name = getattr(spec, "__name__", module_name)
   206        if name in sys.modules:
   207            return sys.modules[name]
   208        module = importlib.util.module_from_spec(spec)
   209        sys.modules[name] = module  # cache (it also ensures `==` works on loaded items)
   210        assert spec.loader is not None
   211        spec.loader.exec_module(module)
   212        return module
   213    
   214    
   215    def _find_module(
   216        module_name: str, package_dir: Mapping[str, str] | None, root_dir: StrPath
   217    ) -> str | None:
   218        """Find the path to the module named ``module_name``,
   219        considering the ``package_dir`` in the build configuration and ``root_dir``.
   220    
   221        >>> tmp = getfixture('tmpdir')
   222        >>> _ = tmp.ensure("a/b/c.py")
   223        >>> _ = tmp.ensure("a/b/d/__init__.py")
   224        >>> r = lambda x: x.replace(str(tmp), "tmp").replace(os.sep, "/")
   225        >>> r(_find_module("a.b.c", None, tmp))
   226        'tmp/a/b/c.py'
   227        >>> r(_find_module("f.g.h", {"": "1", "f": "2", "f.g": "3", "f.g.h": "a/b/d"}, tmp))
   228        'tmp/a/b/d/__init__.py'
   229        """
   230        path_start = find_package_path(module_name, package_dir or {}, root_dir)
   231        candidates = chain.from_iterable(
   232            (f"{path_start}{ext}", os.path.join(path_start, f"__init__{ext}"))
   233            for ext in all_suffixes()
   234        )
   235        return next((x for x in candidates if os.path.isfile(x)), None)
   236    
   237    
   238    def resolve_class(
   239        qualified_class_name: str,
   240        package_dir: Mapping[str, str] | None = None,
   241        root_dir: StrPath | None = None,
   242    ) -> Callable:
   243        """Given a qualified class name, return the associated class object"""
   244        root_dir = root_dir or os.getcwd()
   245        idx = qualified_class_name.rfind('.')
   246        class_name = qualified_class_name[idx + 1 :]
   247        pkg_name = qualified_class_name[:idx]
   248    
   249        path = _find_module(pkg_name, package_dir, root_dir)
   250        module = _load_spec(_find_spec(pkg_name, path), pkg_name)
   251        return getattr(module, class_name)
   252    
   253    
   254    def cmdclass(
   255        values: dict[str, str],
   256        package_dir: Mapping[str, str] | None = None,
   257        root_dir: StrPath | None = None,
   258    ) -> dict[str, Callable]:
   259        """Given a dictionary mapping command names to strings for qualified class
   260        names, apply :func:`resolve_class` to the dict values.
   261        """
   262        return {k: resolve_class(v, package_dir, root_dir) for k, v in values.items()}
   263    
   264    
   265    def find_packages(
   266        *,
   267        namespaces=True,
   268        fill_package_dir: dict[str, str] | None = None,
   269        root_dir: StrPath | None = None,
   270        **kwargs,
   271    ) -> list[str]:
   272        """Works similarly to :func:`setuptools.find_packages`, but with all
   273        arguments given as keyword arguments. Moreover, ``where`` can be given
   274        as a list (the results will be simply concatenated).
   275    
   276        When the additional keyword argument ``namespaces`` is ``True``, it will
   277        behave like :func:`setuptools.find_namespace_packages`` (i.e. include
   278        implicit namespaces as per :pep:`420`).
   279    
   280        The ``where`` argument will be considered relative to ``root_dir`` (or the current
   281        working directory when ``root_dir`` is not given).
   282    
   283        If the ``fill_package_dir`` argument is passed, this function will consider it as a
   284        similar data structure to the ``package_dir`` configuration parameter add fill-in
   285        any missing package location.
   286    
   287        :rtype: list
   288        """
   289        from more_itertools import always_iterable, unique_everseen
   290    
   291        from setuptools.discovery import construct_package_dir
   292    
   293        # check "not namespaces" first due to python/mypy#6232
   294        if not namespaces:
   295            from setuptools.discovery import PackageFinder
   296        else:
   297            from setuptools.discovery import PEP420PackageFinder as PackageFinder
   298    
   299        root_dir = root_dir or os.curdir
   300        where = kwargs.pop('where', ['.'])
   301        packages: list[str] = []
   302        fill_package_dir = {} if fill_package_dir is None else fill_package_dir
   303        search = list(unique_everseen(always_iterable(where)))
   304    
   305        if len(search) == 1 and all(not _same_path(search[0], x) for x in (".", root_dir)):
   306            fill_package_dir.setdefault("", search[0])
   307    
   308        for path in search:
   309            package_path = _nest_path(root_dir, path)
   310            pkgs = PackageFinder.find(package_path, **kwargs)
   311            packages.extend(pkgs)
   312            if pkgs and not (
   313                fill_package_dir.get("") == path or os.path.samefile(package_path, root_dir)
   314            ):
   315                fill_package_dir.update(construct_package_dir(pkgs, path))
   316    
   317        return packages
   318    
   319    
   320    def _nest_path(parent: StrPath, path: StrPath) -> str:
   321        path = parent if path in {".", ""} else os.path.join(parent, path)
   322        return os.path.normpath(path)
   323    
   324    
   325    def version(value: Callable | Iterable[str | int] | str) -> str:
   326        """When getting the version directly from an attribute,
   327        it should be normalised to string.
   328        """
   329        _value = value() if callable(value) else value
   330    
   331        if isinstance(_value, str):
   332            return _value
   333        if hasattr(_value, '__iter__'):
   334            return '.'.join(map(str, _value))
   335        return f'{_value}'
   336    
   337    
   338    def canonic_package_data(package_data: dict) -> dict:
   339        if "*" in package_data:
   340            package_data[""] = package_data.pop("*")
   341        return package_data
   342    
   343    
   344    def canonic_data_files(
   345        data_files: list | dict, root_dir: StrPath | None = None
   346    ) -> list[tuple[str, list[str]]]:
   347        """For compatibility with ``setup.py``, ``data_files`` should be a list
   348        of pairs instead of a dict.
   349    
   350        This function also expands glob patterns.
   351        """
   352        if isinstance(data_files, list):
   353            return data_files
   354    
   355        return [
   356            (dest, glob_relative(patterns, root_dir))
   357            for dest, patterns in data_files.items()
   358        ]
   359    
   360    
   361    def entry_points(
   362        text: str, text_source: str = "entry-points"
   363    ) -> dict[str, dict[str, str]]:
   364        """Given the contents of entry-points file,
   365        process it into a 2-level dictionary (``dict[str, dict[str, str]]``).
   366        The first level keys are entry-point groups, the second level keys are
   367        entry-point names, and the second level values are references to objects
   368        (that correspond to the entry-point value).
   369        """
   370        # Using undocumented behaviour, see python/typeshed#12700
   371        parser = ConfigParser(default_section=None, delimiters=("=",))  # type: ignore[call-overload]
   372        parser.optionxform = str  # case sensitive
   373        parser.read_string(text, text_source)
   374        groups = {k: dict(v.items()) for k, v in parser.items()}
   375        groups.pop(parser.default_section, None)
   376        return groups
   377    
   378    
   379    class EnsurePackagesDiscovered:
   380        """Some expand functions require all the packages to already be discovered before
   381        they run, e.g. :func:`read_attr`, :func:`resolve_class`, :func:`cmdclass`.
   382    
   383        Therefore in some cases we will need to run autodiscovery during the evaluation of
   384        the configuration. However, it is better to postpone calling package discovery as
   385        much as possible, because some parameters can influence it (e.g. ``package_dir``),
   386        and those might not have been processed yet.
   387        """
   388    
   389        def __init__(self, distribution: Distribution) -> None:
   390            self._dist = distribution
   391            self._called = False
   392    
   393        def __call__(self):
   394            """Trigger the automatic package discovery, if it is still necessary."""
   395            if not self._called:
   396                self._called = True
   397                self._dist.set_defaults(name=False)  # Skip name, we can still be parsing
   398    
   399        def __enter__(self) -> Self:
   400            return self
   401    
   402        def __exit__(
   403            self,
   404            exc_type: type[BaseException] | None,
   405            exc_value: BaseException | None,
   406            traceback: TracebackType | None,
   407        ):
   408            if self._called:
   409                self._dist.set_defaults.analyse_name()  # Now we can set a default name
   410    
   411        def _get_package_dir(self) -> Mapping[str, str]:
   412            self()
   413            pkg_dir = self._dist.package_dir
   414            return {} if pkg_dir is None else pkg_dir
   415    
   416        @property
   417        def package_dir(self) -> Mapping[str, str]:
   418            """Proxy to ``package_dir`` that may trigger auto-discovery when used."""
   419            return LazyMappingProxy(self._get_package_dir)
   420    
   421    
   422    class LazyMappingProxy(Mapping[_K, _V_co]):
   423        """Mapping proxy that delays resolving the target object, until really needed.
   424    
   425        >>> def obtain_mapping():
   426        ...     print("Running expensive function!")
   427        ...     return {"key": "value", "other key": "other value"}
   428        >>> mapping = LazyMappingProxy(obtain_mapping)
   429        >>> mapping["key"]
   430        Running expensive function!
   431        'value'
   432        >>> mapping["other key"]
   433        'other value'
   434        """
   435    
   436        def __init__(self, obtain_mapping_value: Callable[[], Mapping[_K, _V_co]]) -> None:
   437            self._obtain = obtain_mapping_value
   438            self._value: Mapping[_K, _V_co] | None = None
   439    
   440        def _target(self) -> Mapping[_K, _V_co]:
   441            if self._value is None:
   442                self._value = self._obtain()
   443            return self._value
   444    
   445        def __getitem__(self, key: _K) -> _V_co:
   446            return self._target()[key]
   447    
   448        def __len__(self) -> int:
   449            return len(self._target())
   450    
   451        def __iter__(self) -> Iterator[_K]:
   452            return iter(self._target())
```

# Other Configuration Files
# Summary

Total files processed: 77

## Included File Types:
     27 py
     25 html
      9 css
      2 txt
      2 json
      2 js
      2 conf
      1 yaml
      1 gitignore
      1 env
      1 dockerignore
      1 12/site-packages/setuptools/config/_validate_pyproject/NOTICE
      1 12/site-packages/setuptools/config/NOTICE
      1 /nginx/Dockerfile
      1 /Dockerfile
